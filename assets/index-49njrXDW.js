(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function yA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jg={exports:{}},tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function dj(){if(PE)return tu;PE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return tu.Fragment=e,tu.jsx=n,tu.jsxs=n,tu}var OE;function fj(){return OE||(OE=1,jg.exports=dj()),jg.exports}var f=fj(),Pg={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function mj(){if(ME)return Ie;ME=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function T(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,D={};function P(B,te,fe){this.props=B,this.context=te,this.refs=D,this.updater=fe||w}P.prototype.isReactComponent={},P.prototype.setState=function(B,te){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,te,"setState")},P.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function j(){}j.prototype=P.prototype;function q(B,te,fe){this.props=B,this.context=te,this.refs=D,this.updater=fe||w}var F=q.prototype=new j;F.constructor=q,A(F,P.prototype),F.isPureReactComponent=!0;var W=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function k(B,te,fe,ce,be,je){return fe=je.ref,{$$typeof:t,type:B,key:te,ref:fe!==void 0?fe:null,props:je}}function N(B,te){return k(B.type,te,void 0,void 0,void 0,B.props)}function C(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function M(B){var te={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(fe){return te[fe]})}var U=/\/+/g;function L(B,te){return typeof B=="object"&&B!==null&&B.key!=null?M(""+B.key):te.toString(36)}function O(){}function re(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(O,O):(B.status="pending",B.then(function(te){B.status==="pending"&&(B.status="fulfilled",B.value=te)},function(te){B.status==="pending"&&(B.status="rejected",B.reason=te)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function le(B,te,fe,ce,be){var je=typeof B;(je==="undefined"||je==="boolean")&&(B=null);var Ae=!1;if(B===null)Ae=!0;else switch(je){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(B.$$typeof){case t:case e:Ae=!0;break;case v:return Ae=B._init,le(Ae(B._payload),te,fe,ce,be)}}if(Ae)return be=be(B),Ae=ce===""?"."+L(B,0):ce,W(be)?(fe="",Ae!=null&&(fe=Ae.replace(U,"$&/")+"/"),le(be,te,fe,"",function(Os){return Os})):be!=null&&(C(be)&&(be=N(be,fe+(be.key==null||B&&B.key===be.key?"":(""+be.key).replace(U,"$&/")+"/")+Ae)),te.push(be)),1;Ae=0;var $t=ce===""?".":ce+":";if(W(B))for(var it=0;it<B.length;it++)ce=B[it],je=$t+L(ce,it),Ae+=le(ce,te,fe,je,be);else if(it=T(B),typeof it=="function")for(B=it.call(B),it=0;!(ce=B.next()).done;)ce=ce.value,je=$t+L(ce,it++),Ae+=le(ce,te,fe,je,be);else if(je==="object"){if(typeof B.then=="function")return le(re(B),te,fe,ce,be);throw te=String(B),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function G(B,te,fe){if(B==null)return B;var ce=[],be=0;return le(B,ce,"","",function(je){return te.call(fe,je,be++)}),ce}function J(B){if(B._status===-1){var te=B._result;te=te(),te.then(function(fe){(B._status===0||B._status===-1)&&(B._status=1,B._result=fe)},function(fe){(B._status===0||B._status===-1)&&(B._status=2,B._result=fe)}),B._status===-1&&(B._status=0,B._result=te)}if(B._status===1)return B._result.default;throw B._result}var he=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Re(){}return Ie.Children={map:G,forEach:function(B,te,fe){G(B,function(){te.apply(this,arguments)},fe)},count:function(B){var te=0;return G(B,function(){te++}),te},toArray:function(B){return G(B,function(te){return te})||[]},only:function(B){if(!C(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ie.Component=P,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=q,Ie.StrictMode=s,Ie.Suspense=m,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(B){return ee.H.useMemoCache(B)}},Ie.cache=function(B){return function(){return B.apply(null,arguments)}},Ie.cloneElement=function(B,te,fe){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ce=A({},B.props),be=B.key,je=void 0;if(te!=null)for(Ae in te.ref!==void 0&&(je=void 0),te.key!==void 0&&(be=""+te.key),te)!ue.call(te,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&te.ref===void 0||(ce[Ae]=te[Ae]);var Ae=arguments.length-2;if(Ae===1)ce.children=fe;else if(1<Ae){for(var $t=Array(Ae),it=0;it<Ae;it++)$t[it]=arguments[it+2];ce.children=$t}return k(B.type,be,void 0,void 0,je,ce)},Ie.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Ie.createElement=function(B,te,fe){var ce,be={},je=null;if(te!=null)for(ce in te.key!==void 0&&(je=""+te.key),te)ue.call(te,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=te[ce]);var Ae=arguments.length-2;if(Ae===1)be.children=fe;else if(1<Ae){for(var $t=Array(Ae),it=0;it<Ae;it++)$t[it]=arguments[it+2];be.children=$t}if(B&&B.defaultProps)for(ce in Ae=B.defaultProps,Ae)be[ce]===void 0&&(be[ce]=Ae[ce]);return k(B,je,void 0,void 0,null,be)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(B){return{$$typeof:h,render:B}},Ie.isValidElement=C,Ie.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:J}},Ie.memo=function(B,te){return{$$typeof:g,type:B,compare:te===void 0?null:te}},Ie.startTransition=function(B){var te=ee.T,fe={};ee.T=fe;try{var ce=B(),be=ee.S;be!==null&&be(fe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Re,he)}catch(je){he(je)}finally{ee.T=te}},Ie.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ie.use=function(B){return ee.H.use(B)},Ie.useActionState=function(B,te,fe){return ee.H.useActionState(B,te,fe)},Ie.useCallback=function(B,te){return ee.H.useCallback(B,te)},Ie.useContext=function(B){return ee.H.useContext(B)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(B,te){return ee.H.useDeferredValue(B,te)},Ie.useEffect=function(B,te,fe){var ce=ee.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(B,te)},Ie.useId=function(){return ee.H.useId()},Ie.useImperativeHandle=function(B,te,fe){return ee.H.useImperativeHandle(B,te,fe)},Ie.useInsertionEffect=function(B,te){return ee.H.useInsertionEffect(B,te)},Ie.useLayoutEffect=function(B,te){return ee.H.useLayoutEffect(B,te)},Ie.useMemo=function(B,te){return ee.H.useMemo(B,te)},Ie.useOptimistic=function(B,te){return ee.H.useOptimistic(B,te)},Ie.useReducer=function(B,te,fe){return ee.H.useReducer(B,te,fe)},Ie.useRef=function(B){return ee.H.useRef(B)},Ie.useState=function(B){return ee.H.useState(B)},Ie.useSyncExternalStore=function(B,te,fe){return ee.H.useSyncExternalStore(B,te,fe)},Ie.useTransition=function(){return ee.H.useTransition()},Ie.version="19.1.1",Ie}var kE;function Sv(){return kE||(kE=1,Pg.exports=mj()),Pg.exports}var I=Sv();const Ze=yA(I);var Og={exports:{}},nu={},Mg={exports:{}},kg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function pj(){return VE||(VE=1,(function(t){function e(G,J){var he=G.length;G.push(J);e:for(;0<he;){var Re=he-1>>>1,B=G[Re];if(0<a(B,J))G[Re]=J,G[he]=B,he=Re;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var J=G[0],he=G.pop();if(he!==J){G[0]=he;e:for(var Re=0,B=G.length,te=B>>>1;Re<te;){var fe=2*(Re+1)-1,ce=G[fe],be=fe+1,je=G[be];if(0>a(ce,he))be<B&&0>a(je,ce)?(G[Re]=je,G[be]=he,Re=be):(G[Re]=ce,G[fe]=he,Re=fe);else if(be<B&&0>a(je,he))G[Re]=je,G[be]=he,Re=be;else break e}}return J}function a(G,J){var he=G.sortIndex-J.sortIndex;return he!==0?he:G.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var m=[],g=[],v=1,b=null,T=3,w=!1,A=!1,D=!1,P=!1,j=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function W(G){for(var J=n(g);J!==null;){if(J.callback===null)s(g);else if(J.startTime<=G)s(g),J.sortIndex=J.expirationTime,e(m,J);else break;J=n(g)}}function ee(G){if(D=!1,W(G),!A)if(n(m)!==null)A=!0,ue||(ue=!0,L());else{var J=n(g);J!==null&&le(ee,J.startTime-G)}}var ue=!1,k=-1,N=5,C=-1;function M(){return P?!0:!(t.unstable_now()-C<N)}function U(){if(P=!1,ue){var G=t.unstable_now();C=G;var J=!0;try{e:{A=!1,D&&(D=!1,q(k),k=-1),w=!0;var he=T;try{t:{for(W(G),b=n(m);b!==null&&!(b.expirationTime>G&&M());){var Re=b.callback;if(typeof Re=="function"){b.callback=null,T=b.priorityLevel;var B=Re(b.expirationTime<=G);if(G=t.unstable_now(),typeof B=="function"){b.callback=B,W(G),J=!0;break t}b===n(m)&&s(m),W(G)}else s(m);b=n(m)}if(b!==null)J=!0;else{var te=n(g);te!==null&&le(ee,te.startTime-G),J=!1}}break e}finally{b=null,T=he,w=!1}J=void 0}}finally{J?L():ue=!1}}}var L;if(typeof F=="function")L=function(){F(U)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,re=O.port2;O.port1.onmessage=U,L=function(){re.postMessage(null)}}else L=function(){j(U,0)};function le(G,J){k=j(function(){G(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(G){switch(T){case 1:case 2:case 3:var J=3;break;default:J=T}var he=T;T=J;try{return G()}finally{T=he}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(G,J){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var he=T;T=G;try{return J()}finally{T=he}},t.unstable_scheduleCallback=function(G,J,he){var Re=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Re+he:Re):he=Re,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=he+B,G={id:v++,callback:J,priorityLevel:G,startTime:he,expirationTime:B,sortIndex:-1},he>Re?(G.sortIndex=he,e(g,G),n(m)===null&&G===n(g)&&(D?(q(k),k=-1):D=!0,le(ee,he-Re))):(G.sortIndex=B,e(m,G),A||w||(A=!0,ue||(ue=!0,L()))),G},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(G){var J=T;return function(){var he=T;T=J;try{return G.apply(this,arguments)}finally{T=he}}}})(kg)),kg}var LE;function gj(){return LE||(LE=1,Mg.exports=pj()),Mg.exports}var Vg={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function yj(){if(UE)return dn;UE=1;var t=Sv();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,dn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},dn.flushSync=function(m){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=v,s.d.f()}},dn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},dn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},dn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=h(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:w}):v==="script"&&s.d.X(m,{crossOrigin:b,integrity:T,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},dn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=h(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=h(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},dn.requestFormReset=function(m){s.d.r(m)},dn.unstable_batchedUpdates=function(m,g){return m(g)},dn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},dn.useFormStatus=function(){return c.H.useHostTransitionStatus()},dn.version="19.1.1",dn}var BE;function vj(){if(BE)return Vg.exports;BE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vg.exports=yj(),Vg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function _j(){if(FE)return nu;FE=1;var t=gj(),e=Sv(),n=vj();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return h(p),i;if(y===u)return h(p),r;y=y.sibling}throw Error(s(188))}if(o.return!==u.return)o=p,u=y;else{for(var x=!1,S=p.child;S;){if(S===o){x=!0,o=p,u=y;break}if(S===u){x=!0,u=p,o=y;break}S=S.sibling}if(!x){for(S=y.child;S;){if(S===o){x=!0,o=y,u=p;break}if(S===u){x=!0,u=y,o=p;break}S=S.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case P:return"Profiler";case D:return"StrictMode";case ee:return"Suspense";case ue:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case F:return(i.displayName||"Context")+".Provider";case q:return(i._context.displayName||"Context")+".Consumer";case W:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return r=i.displayName||null,r!==null?r:re(i.type)||"Memo";case N:r=i._payload,i=i._init;try{return re(i(r))}catch{}}return null}var le=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Re=[],B=-1;function te(i){return{current:i}}function fe(i){0>B||(i.current=Re[B],Re[B]=null,B--)}function ce(i,r){B++,Re[B]=i.current,i.current=r}var be=te(null),je=te(null),Ae=te(null),$t=te(null);function it(i,r){switch(ce(Ae,r),ce(je,i),ce(be,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?oE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=oE(r),i=lE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}fe(be),ce(be,i)}function Os(){fe(be),fe(je),fe(Ae)}function sr(i){i.memoizedState!==null&&ce($t,i);var r=be.current,o=lE(r,i.type);r!==o&&(ce(je,i),ce(be,o))}function hi(i){je.current===i&&(fe(be),fe(je)),$t.current===i&&(fe($t),Xc._currentValue=he)}var ra=Object.prototype.hasOwnProperty,aa=t.unstable_scheduleCallback,oa=t.unstable_cancelCallback,Kl=t.unstable_shouldYield,mh=t.unstable_requestPaint,es=t.unstable_now,jm=t.unstable_getCurrentPriorityLevel,Yl=t.unstable_ImmediatePriority,po=t.unstable_UserBlockingPriority,la=t.unstable_NormalPriority,Pm=t.unstable_LowPriority,go=t.unstable_IdlePriority,Ql=t.log,ph=t.unstable_setDisableYieldValue,yt=null,Qe=null;function kn(i){if(typeof Ql=="function"&&ph(i),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(yt,i)}catch{}}var un=Math.clz32?Math.clz32:ca,gh=Math.log,Om=Math.LN2;function ca(i){return i>>>=0,i===0?32:31-(gh(i)/Om|0)|0}var ua=256,ha=4194304;function Ts(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yo(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,y=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~y,u!==0?p=Ts(u):(x&=S,x!==0?p=Ts(x):o||(o=S&~i,o!==0&&(p=Ts(o))))):(S=u&~y,S!==0?p=Ts(S):x!==0?p=Ts(x):o||(o=u&~i,o!==0&&(p=Ts(o)))),p===0?0:r!==0&&r!==p&&(r&y)===0&&(y=p&-p,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:p}function da(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Xl(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wl(){var i=ua;return ua<<=1,(ua&4194048)===0&&(ua=256),i}function Zl(){var i=ha;return ha<<=1,(ha&62914560)===0&&(ha=4194304),i}function di(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function fi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Jl(i,r,o,u,p,y){var x=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,V=i.expirationTimes,Y=i.hiddenUpdates;for(o=x&~o;0<o;){var ne=31-un(o),ae=1<<ne;S[ne]=0,V[ne]=-1;var Q=Y[ne];if(Q!==null)for(Y[ne]=null,ne=0;ne<Q.length;ne++){var X=Q[ne];X!==null&&(X.lane&=-536870913)}o&=~ae}u!==0&&Ms(i,u,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(x&~r))}function Ms(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-un(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function ec(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-un(o),p=1<<u;p&r|i[u]&r&&(i[u]|=r),o&=~p}}function ir(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function vo(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function rr(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:RE(i.type))}function yh(i,r){var o=J.p;try{return J.p=i,r()}finally{J.p=o}}var ct=Math.random().toString(36).slice(2),Bt="__reactFiber$"+ct,jt="__reactProps$"+ct,ts="__reactContainer$"+ct,tc="__reactEvents$"+ct,Mm="__reactListeners$"+ct,ar="__reactHandles$"+ct,vh="__reactResources$"+ct,fa="__reactMarker$"+ct;function or(i){delete i[Bt],delete i[jt],delete i[tc],delete i[Mm],delete i[ar]}function mi(i){var r=i[Bt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[ts]||o[Bt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=dE(i);i!==null;){if(o=i[Bt])return o;i=dE(i)}return r}i=o,o=i.parentNode}return null}function ks(i){if(i=i[Bt]||i[ts]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Vs(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function _n(i){var r=i[vh];return r||(r=i[vh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function wt(i){i[fa]=!0}var nc=new Set,_o={};function Es(i,r){pi(i,r),pi(i+"Capture",r)}function pi(i,r){for(_o[i]=r,i=0;i<r.length;i++)nc.add(r[i])}var _h=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bh={},ma={};function Th(i){return ra.call(ma,i)?!0:ra.call(bh,i)?!1:_h.test(i)?ma[i]=!0:(bh[i]=!0,!1)}function lr(i,r,o){if(Th(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Ls(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Jt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var pa,Eh;function gi(i){if(pa===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);pa=r&&r[1]||"",Eh=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+i+Eh}var bo=!1;function To(i,r){if(!i||bo)return"";bo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var Q=X}Reflect.construct(i,[],ae)}else{try{ae.call()}catch(X){Q=X}i.call(ae.prototype)}}else{try{throw Error()}catch(X){Q=X}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),x=y[0],S=y[1];if(x&&S){var V=x.split(`
`),Y=S.split(`
`);for(p=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(u===V.length||p===Y.length)for(u=V.length-1,p=Y.length-1;1<=u&&0<=p&&V[u]!==Y[p];)p--;for(;1<=u&&0<=p;u--,p--)if(V[u]!==Y[p]){if(u!==1||p!==1)do if(u--,p--,0>p||V[u]!==Y[p]){var ne=`
`+V[u].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=u&&0<=p);break}}}finally{bo=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?gi(o):""}function sc(i){switch(i.tag){case 26:case 27:case 5:return gi(i.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return To(i.type,!1);case 11:return To(i.type.render,!1);case 1:return To(i.type,!0);case 31:return gi("Activity");default:return""}}function Eo(i){try{var r="";do r+=sc(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function bn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ic(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function km(i){var r=ic(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,y=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(x){u=""+x,y.call(this,x)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function xo(i){i._valueTracker||(i._valueTracker=km(i))}function rc(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=ic(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function ga(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Vm=/[\n"\\]/g;function Pt(i){return i.replace(Vm,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Vn(i,r,o,u,p,y,x,S){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),r!=null?x==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+bn(r)):i.value!==""+bn(r)&&(i.value=""+bn(r)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),r!=null?cr(i,x,bn(r)):o!=null?cr(i,x,bn(o)):u!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+bn(S):i.removeAttribute("name")}function ya(i,r,o,u,p,y,x,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null))return;o=o!=null?""+bn(o):"",r=r!=null?""+bn(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x)}function cr(i,r,o){r==="number"&&ga(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function yi(i,r,o,u){if(i=i.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=r.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&u&&(i[o].defaultSelected=!0)}else{for(o=""+bn(o),r=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function Je(i,r,o){if(r!=null&&(r=""+bn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+bn(o):""}function va(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(le(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=bn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function ns(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var _a=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xh(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||_a.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function ac(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&xh(i,p,u)}else for(var y in r)r.hasOwnProperty(y)&&xh(i,y,r[y])}function oc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Um=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wo(i){return Um.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var vi=null;function ss(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _i=null,bi=null;function lc(i){var r=ks(i);if(r&&(i=r.stateNode)){var o=i[jt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Vn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var p=u[jt]||null;if(!p)throw Error(s(90));Vn(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&rc(u)}break e;case"textarea":Je(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&yi(i,!!o.multiple,r,!1)}}}var Us=!1;function wh(i,r,o){if(Us)return i(r,o);Us=!0;try{var u=i(r);return u}finally{if(Us=!1,(_i!==null||bi!==null)&&(yd(),_i&&(r=_i,i=bi,bi=_i=null,lc(r),i)))for(r=0;r<i.length;r++)lc(i[r])}}function ba(i,r){var o=i.stateNode;if(o===null)return null;var u=o[jt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),is=!1;if(xs)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){is=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{is=!1}var Bs=null,ur=null,Ti=null;function cc(){if(Ti)return Ti;var i,r=ur,o=r.length,u,p="value"in Bs?Bs.value:Bs.textContent,y=p.length;for(i=0;i<o&&r[i]===p[i];i++);var x=o-i;for(u=1;u<=x&&r[o-u]===p[y-u];u++);return Ti=p.slice(i,1<u?1-u:void 0)}function Fs(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function zs(){return!0}function uc(){return!1}function Kt(i){function r(o,u,p,y,x){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?zs:uc,this.isPropagationStopped=uc,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=Kt(Ke),Ea=v({},Ke,{view:0,detail:0}),Sh=Kt(Ea),Ao,Ro,qs,xa=v({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qs&&(qs&&i.type==="mousemove"?(Ao=i.screenX-qs.screenX,Ro=i.screenY-qs.screenY):Ro=Ao=0,qs=i),Ao)},movementY:function(i){return"movementY"in i?i.movementY:Ro}}),rs=Kt(xa),Ah=v({},xa,{dataTransfer:0}),Bm=Kt(Ah),wa=v({},Ea,{relatedTarget:0}),No=Kt(wa),hc=v({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Co=Kt(hc),Rh=v({},Ke,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Io=Kt(Rh),Fm=v({},Ke,{data:0}),dc=Kt(Fm),Sa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ch[i])?!!r[i]:!1}function Aa(){return fc}var Ih=v({},Ea,{key:function(i){if(i.key){var r=Sa[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Fs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(i){return i.type==="keypress"?Fs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Fs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Do=Kt(Ih),Dh=v({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mc=Kt(Dh),Ei=v({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),jh=Kt(Ei),Ph=v({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oh=Kt(Ph),Mh=v({},xa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),jo=Kt(Mh),Tn=v({},Ke,{newState:0,oldState:0}),kh=Kt(Tn),Vh=[9,13,27,32],Hs=xs&&"CompositionEvent"in window,d=null;xs&&"documentMode"in document&&(d=document.documentMode);var _=xs&&"TextEvent"in window&&!d,E=xs&&(!Hs||d&&8<d&&11>=d),R=" ",$=!1;function Z(i,r){switch(i){case"keyup":return Vh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ue=!1;function Ft(i,r){switch(i){case"compositionend":return de(r);case"keypress":return r.which!==32?null:($=!0,R);case"textInput":return i=r.data,i===R&&$?null:i;default:return null}}function Be(i,r){if(Ue)return i==="compositionend"||!Hs&&Z(i,r)?(i=cc(),Ti=ur=Bs=null,Ue=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var Yt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zt(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Yt[i.type]:r==="textarea"}function xi(i,r,o,u){_i?bi?bi.push(u):bi=[u]:_i=u,r=xd(r,"onChange"),0<r.length&&(o=new So("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var en=null,Gs=null;function pc(i){nE(i,0)}function Lh(i){var r=Vs(i);if(rc(r))return i}function xb(i,r){if(i==="change")return r}var wb=!1;if(xs){var zm;if(xs){var qm="oninput"in document;if(!qm){var Sb=document.createElement("div");Sb.setAttribute("oninput","return;"),qm=typeof Sb.oninput=="function"}zm=qm}else zm=!1;wb=zm&&(!document.documentMode||9<document.documentMode)}function Ab(){en&&(en.detachEvent("onpropertychange",Rb),Gs=en=null)}function Rb(i){if(i.propertyName==="value"&&Lh(Gs)){var r=[];xi(r,Gs,i,ss(i)),wh(pc,r)}}function zI(i,r,o){i==="focusin"?(Ab(),en=r,Gs=o,en.attachEvent("onpropertychange",Rb)):i==="focusout"&&Ab()}function qI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lh(Gs)}function HI(i,r){if(i==="click")return Lh(r)}function GI(i,r){if(i==="input"||i==="change")return Lh(r)}function $I(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ln=typeof Object.is=="function"?Object.is:$I;function gc(i,r){if(Ln(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!ra.call(r,p)||!Ln(i[p],r[p]))return!1}return!0}function Nb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Cb(i,r){var o=Nb(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Nb(o)}}function Ib(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Ib(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Db(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ga(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ga(i.document)}return r}function Hm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var KI=xs&&"documentMode"in document&&11>=document.documentMode,Po=null,Gm=null,yc=null,$m=!1;function jb(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;$m||Po==null||Po!==ga(u)||(u=Po,"selectionStart"in u&&Hm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),yc&&gc(yc,u)||(yc=u,u=xd(Gm,"onSelect"),0<u.length&&(r=new So("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Po)))}function Ra(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Oo={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},Km={},Pb={};xs&&(Pb=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function Na(i){if(Km[i])return Km[i];if(!Oo[i])return i;var r=Oo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Pb)return Km[i]=r[o];return i}var Ob=Na("animationend"),Mb=Na("animationiteration"),kb=Na("animationstart"),YI=Na("transitionrun"),QI=Na("transitionstart"),XI=Na("transitioncancel"),Vb=Na("transitionend"),Lb=new Map,Ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ym.push("scrollEnd");function ws(i,r){Lb.set(i,r),Es(r,[i])}var Ub=new WeakMap;function as(i,r){if(typeof i=="object"&&i!==null){var o=Ub.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Eo(r)},Ub.set(i,r),r)}return{value:i,source:r,stack:Eo(r)}}var os=[],Mo=0,Qm=0;function Uh(){for(var i=Mo,r=Qm=Mo=0;r<i;){var o=os[r];os[r++]=null;var u=os[r];os[r++]=null;var p=os[r];os[r++]=null;var y=os[r];if(os[r++]=null,u!==null&&p!==null){var x=u.pending;x===null?p.next=p:(p.next=x.next,x.next=p),u.pending=p}y!==0&&Bb(o,p,y)}}function Bh(i,r,o,u){os[Mo++]=i,os[Mo++]=r,os[Mo++]=o,os[Mo++]=u,Qm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Xm(i,r,o,u){return Bh(i,r,o,u),Fh(i)}function ko(i,r){return Bh(i,null,null,r),Fh(i)}function Bb(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=i.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&r!==null&&(p=31-un(o),i=y.hiddenUpdates,u=i[p],u===null?i[p]=[r]:u.push(r),r.lane=o|536870912),y):null}function Fh(i){if(50<zc)throw zc=0,ng=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Vo={};function WI(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(i,r,o,u){return new WI(i,r,o,u)}function Wm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function wi(i,r){var o=i.alternate;return o===null?(o=Un(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Fb(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function zh(i,r,o,u,p,y){var x=0;if(u=i,typeof i=="function")Wm(i)&&(x=1);else if(typeof i=="string")x=JD(i,o,be.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=Un(31,o,r,p),i.elementType=C,i.lanes=y,i;case A:return Ca(o.children,p,y,r);case D:x=8,p|=24;break;case P:return i=Un(12,o,r,p|2),i.elementType=P,i.lanes=y,i;case ee:return i=Un(13,o,r,p),i.elementType=ee,i.lanes=y,i;case ue:return i=Un(19,o,r,p),i.elementType=ue,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case F:x=10;break e;case q:x=9;break e;case W:x=11;break e;case k:x=14;break e;case N:x=16,u=null;break e}x=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Un(x,o,r,p),r.elementType=i,r.type=u,r.lanes=y,r}function Ca(i,r,o,u){return i=Un(7,i,u,r),i.lanes=o,i}function Zm(i,r,o){return i=Un(6,i,null,r),i.lanes=o,i}function Jm(i,r,o){return r=Un(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Lo=[],Uo=0,qh=null,Hh=0,ls=[],cs=0,Ia=null,Si=1,Ai="";function Da(i,r){Lo[Uo++]=Hh,Lo[Uo++]=qh,qh=i,Hh=r}function zb(i,r,o){ls[cs++]=Si,ls[cs++]=Ai,ls[cs++]=Ia,Ia=i;var u=Si;i=Ai;var p=32-un(u)-1;u&=~(1<<p),o+=1;var y=32-un(r)+p;if(30<y){var x=p-p%5;y=(u&(1<<x)-1).toString(32),u>>=x,p-=x,Si=1<<32-un(r)+p|o<<p|u,Ai=y+i}else Si=1<<y|o<<p|u,Ai=i}function ep(i){i.return!==null&&(Da(i,1),zb(i,1,0))}function tp(i){for(;i===qh;)qh=Lo[--Uo],Lo[Uo]=null,Hh=Lo[--Uo],Lo[Uo]=null;for(;i===Ia;)Ia=ls[--cs],ls[cs]=null,Ai=ls[--cs],ls[cs]=null,Si=ls[--cs],ls[cs]=null}var En=null,vt=null,Ge=!1,ja=null,$s=!1,np=Error(s(519));function Pa(i){var r=Error(s(418,""));throw bc(as(r,i)),np}function qb(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Bt]=i,r[jt]=u,o){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(o=0;o<Hc.length;o++)Me(Hc[o],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),ya(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),xo(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),va(r,u.value,u.defaultValue,u.children),xo(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||aE(r.textContent,o)?(u.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),u.onScroll!=null&&Me("scroll",r),u.onScrollEnd!=null&&Me("scrollend",r),u.onClick!=null&&(r.onclick=wd),r=!0):r=!1,r||Pa(i)}function Hb(i){for(En=i.return;En;)switch(En.tag){case 5:case 13:$s=!1;return;case 27:case 3:$s=!0;return;default:En=En.return}}function vc(i){if(i!==En)return!1;if(!Ge)return Hb(i),Ge=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||vg(i.type,i.memoizedProps)),o=!o),o&&vt&&Pa(i),Hb(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){vt=As(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}vt=null}}else r===27?(r=vt,Ar(i.type)?(i=Eg,Eg=null,vt=i):vt=r):vt=En?As(i.stateNode.nextSibling):null;return!0}function _c(){vt=En=null,Ge=!1}function Gb(){var i=ja;return i!==null&&(Cn===null?Cn=i:Cn.push.apply(Cn,i),ja=null),i}function bc(i){ja===null?ja=[i]:ja.push(i)}var sp=te(null),Oa=null,Ri=null;function hr(i,r,o){ce(sp,r._currentValue),r._currentValue=o}function Ni(i){i._currentValue=sp.current,fe(sp)}function ip(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function rp(i,r,o,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var x=p.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=p;for(var V=0;V<r.length;V++)if(S.context===r[V]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),ip(y.return,o,i),u||(x=null);break e}y=S.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(s(341));x.lanes|=o,y=x.alternate,y!==null&&(y.lanes|=o),ip(x,o,i),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===i){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function Tc(i,r,o,u){i=null;for(var p=r,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var S=p.type;Ln(p.pendingProps.value,x.value)||(i!==null?i.push(S):i=[S])}}else if(p===$t.current){if(x=p.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Xc):i=[Xc])}p=p.return}i!==null&&rp(r,i,o,u),r.flags|=262144}function Gh(i){for(i=i.firstContext;i!==null;){if(!Ln(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ma(i){Oa=i,Ri=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function hn(i){return $b(Oa,i)}function $h(i,r){return Oa===null&&Ma(i),$b(i,r)}function $b(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ri===null){if(i===null)throw Error(s(308));Ri=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ri=Ri.next=r;return o}var ZI=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},JI=t.unstable_scheduleCallback,eD=t.unstable_NormalPriority,qt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ap(){return{controller:new ZI,data:new Map,refCount:0}}function Ec(i){i.refCount--,i.refCount===0&&JI(eD,function(){i.controller.abort()})}var xc=null,op=0,Bo=0,Fo=null;function tD(i,r){if(xc===null){var o=xc=[];op=0,Bo=cg(),Fo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return op++,r.then(Kb,Kb),r}function Kb(){if(--op===0&&xc!==null){Fo!==null&&(Fo.status="fulfilled");var i=xc;xc=null,Bo=0,Fo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function nD(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Yb=G.S;G.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&tD(i,r),Yb!==null&&Yb(i,r)};var ka=te(null);function lp(){var i=ka.current;return i!==null?i:rt.pooledCache}function Kh(i,r){r===null?ce(ka,ka.current):ce(ka,r.pool)}function Qb(){var i=lp();return i===null?null:{parent:qt._currentValue,pool:i}}var wc=Error(s(460)),Xb=Error(s(474)),Yh=Error(s(542)),cp={then:function(){}};function Wb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Qh(){}function Zb(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Qh,Qh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,e0(i),i;default:if(typeof r.status=="string")r.then(Qh,Qh);else{if(i=rt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,e0(i),i}throw Sc=r,wc}}var Sc=null;function Jb(){if(Sc===null)throw Error(s(459));var i=Sc;return Sc=null,i}function e0(i){if(i===wc||i===Yh)throw Error(s(483))}var dr=!1;function up(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function fr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function mr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Xe&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=Fh(i),Bb(i,null,o),r}return Bh(i,u,r,o),Fh(i)}function Ac(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,ec(i,o)}}function dp(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=x:y=y.next=x,o=o.next}while(o!==null);y===null?p=y=r:y=y.next=r}else p=y=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var fp=!1;function Rc(){if(fp){var i=Fo;if(i!==null)throw i}}function Nc(i,r,o,u){fp=!1;var p=i.updateQueue;dr=!1;var y=p.firstBaseUpdate,x=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var V=S,Y=V.next;V.next=null,x===null?y=Y:x.next=Y,x=V;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==x&&(S===null?ne.firstBaseUpdate=Y:S.next=Y,ne.lastBaseUpdate=V))}if(y!==null){var ae=p.baseState;x=0,ne=Y=V=null,S=y;do{var Q=S.lane&-536870913,X=Q!==S.lane;if(X?(Fe&Q)===Q:(u&Q)===Q){Q!==0&&Q===Bo&&(fp=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var we=i,Te=S;Q=r;var nt=o;switch(Te.tag){case 1:if(we=Te.payload,typeof we=="function"){ae=we.call(nt,ae,Q);break e}ae=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Te.payload,Q=typeof we=="function"?we.call(nt,ae,Q):we,Q==null)break e;ae=v({},ae,Q);break e;case 2:dr=!0}}Q=S.callback,Q!==null&&(i.flags|=64,X&&(i.flags|=8192),X=p.callbacks,X===null?p.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(Y=ne=X,V=ae):ne=ne.next=X,x|=Q;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;X=S,S=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);ne===null&&(V=ae),p.baseState=V,p.firstBaseUpdate=Y,p.lastBaseUpdate=ne,y===null&&(p.shared.lanes=0),Er|=x,i.lanes=x,i.memoizedState=ae}}function t0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function n0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)t0(o[i],r)}var zo=te(null),Xh=te(0);function s0(i,r){i=Mi,ce(Xh,i),ce(zo,r),Mi=i|r.baseLanes}function mp(){ce(Xh,Mi),ce(zo,zo.current)}function pp(){Mi=Xh.current,fe(zo),fe(Xh)}var pr=0,De=null,et=null,Ot=null,Wh=!1,qo=!1,Va=!1,Zh=0,Cc=0,Ho=null,sD=0;function St(){throw Error(s(321))}function gp(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Ln(i[o],r[o]))return!1;return!0}function yp(i,r,o,u,p,y){return pr=y,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=i===null||i.memoizedState===null?B0:F0,Va=!1,y=o(u,p),Va=!1,qo&&(y=r0(r,o,u,p)),i0(i),y}function i0(i){G.H=id;var r=et!==null&&et.next!==null;if(pr=0,Ot=et=De=null,Wh=!1,Cc=0,Ho=null,r)throw Error(s(300));i===null||Qt||(i=i.dependencies,i!==null&&Gh(i)&&(Qt=!0))}function r0(i,r,o,u){De=i;var p=0;do{if(qo&&(Ho=null),Cc=0,qo=!1,25<=p)throw Error(s(301));if(p+=1,Ot=et=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}G.H=uD,y=r(o,u)}while(qo);return y}function iD(){var i=G.H,r=i.useState()[0];return r=typeof r.then=="function"?Ic(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(De.flags|=1024),r}function vp(){var i=Zh!==0;return Zh=0,i}function _p(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function bp(i){if(Wh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Wh=!1}pr=0,Ot=et=De=null,qo=!1,Cc=Zh=0,Ho=null}function Rn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?De.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function Mt(){if(et===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=Ot===null?De.memoizedState:Ot.next;if(r!==null)Ot=r,et=i;else{if(i===null)throw De.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ot===null?De.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function Tp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ic(i){var r=Cc;return Cc+=1,Ho===null&&(Ho=[]),i=Zb(Ho,i,r),r=De,(Ot===null?r.memoizedState:Ot.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?B0:F0),i}function Jh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ic(i);if(i.$$typeof===F)return hn(i)}throw Error(s(438,String(i)))}function Ep(i){var r=null,o=De.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Tp(),De.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=M;return r.index++,o}function Ci(i,r){return typeof r=="function"?r(i):r}function ed(i){var r=Mt();return xp(r,et,i)}function xp(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var p=i.baseQueue,y=u.pending;if(y!==null){if(p!==null){var x=p.next;p.next=y.next,y.next=x}r.baseQueue=p=y,u.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{r=p.next;var S=x=null,V=null,Y=r,ne=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(Fe&ae)===ae:(pr&ae)===ae){var Q=Y.revertLane;if(Q===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===Bo&&(ne=!0);else if((pr&Q)===Q){Y=Y.next,Q===Bo&&(ne=!0);continue}else ae={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(S=V=ae,x=y):V=V.next=ae,De.lanes|=Q,Er|=Q;ae=Y.action,Va&&o(y,ae),y=Y.hasEagerState?Y.eagerState:o(y,ae)}else Q={lane:ae,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(S=V=Q,x=y):V=V.next=Q,De.lanes|=ae,Er|=ae;Y=Y.next}while(Y!==null&&Y!==r);if(V===null?x=y:V.next=S,!Ln(y,i.memoizedState)&&(Qt=!0,ne&&(o=Fo,o!==null)))throw o;i.memoizedState=y,i.baseState=x,i.baseQueue=V,u.lastRenderedState=y}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function wp(i){var r=Mt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,p=o.pending,y=r.memoizedState;if(p!==null){o.pending=null;var x=p=p.next;do y=i(y,x.action),x=x.next;while(x!==p);Ln(y,r.memoizedState)||(Qt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function a0(i,r,o){var u=De,p=Mt(),y=Ge;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var x=!Ln((et||p).memoizedState,o);x&&(p.memoizedState=o,Qt=!0),p=p.queue;var S=c0.bind(null,u,p,i);if(Dc(2048,8,S,[i]),p.getSnapshot!==r||x||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,Go(9,td(),l0.bind(null,u,p,o,r),null),rt===null)throw Error(s(349));y||(pr&124)!==0||o0(u,r,o)}return o}function o0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=De.updateQueue,r===null?(r=Tp(),De.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function l0(i,r,o,u){r.value=o,r.getSnapshot=u,u0(r)&&h0(i)}function c0(i,r,o){return o(function(){u0(r)&&h0(i)})}function u0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Ln(i,o)}catch{return!0}}function h0(i){var r=ko(i,2);r!==null&&Hn(r,i,2)}function Sp(i){var r=Rn();if(typeof i=="function"){var o=i;if(i=o(),Va){kn(!0);try{o()}finally{kn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:i},r}function d0(i,r,o,u){return i.baseState=o,xp(i,et,typeof u=="function"?u:Ci)}function rD(i,r,o,u,p){if(sd(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};G.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,f0(r,y)):(y.next=o.next,r.pending=o.next=y)}}function f0(i,r){var o=r.action,u=r.payload,p=i.state;if(r.isTransition){var y=G.T,x={};G.T=x;try{var S=o(p,u),V=G.S;V!==null&&V(x,S),m0(i,r,S)}catch(Y){Ap(i,r,Y)}finally{G.T=y}}else try{y=o(p,u),m0(i,r,y)}catch(Y){Ap(i,r,Y)}}function m0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){p0(i,r,u)},function(u){return Ap(i,r,u)}):p0(i,r,o)}function p0(i,r,o){r.status="fulfilled",r.value=o,g0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,f0(i,o)))}function Ap(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,g0(r),r=r.next;while(r!==u)}i.action=null}function g0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function y0(i,r){return r}function v0(i,r){if(Ge){var o=rt.formState;if(o!==null){e:{var u=De;if(Ge){if(vt){t:{for(var p=vt,y=$s;p.nodeType!==8;){if(!y){p=null;break t}if(p=As(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){vt=As(p.nextSibling),u=p.data==="F!";break e}}Pa(u)}u=!1}u&&(r=o[0])}}return o=Rn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y0,lastRenderedState:r},o.queue=u,o=V0.bind(null,De,u),u.dispatch=o,u=Sp(!1),y=Dp.bind(null,De,!1,u.queue),u=Rn(),p={state:r,dispatch:null,action:i,pending:null},u.queue=p,o=rD.bind(null,De,p,y,o),p.dispatch=o,u.memoizedState=i,[r,o,!1]}function _0(i){var r=Mt();return b0(r,et,i)}function b0(i,r,o){if(r=xp(i,r,y0)[0],i=ed(Ci)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ic(r)}catch(x){throw x===wc?Yh:x}else u=r;r=Mt();var p=r.queue,y=p.dispatch;return o!==r.memoizedState&&(De.flags|=2048,Go(9,td(),aD.bind(null,p,o),null)),[u,y,i]}function aD(i,r){i.action=r}function T0(i){var r=Mt(),o=et;if(o!==null)return b0(r,o,i);Mt(),r=r.memoizedState,o=Mt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Go(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=De.updateQueue,r===null&&(r=Tp(),De.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function td(){return{destroy:void 0,resource:void 0}}function E0(){return Mt().memoizedState}function nd(i,r,o,u){var p=Rn();u=u===void 0?null:u,De.flags|=i,p.memoizedState=Go(1|r,td(),o,u)}function Dc(i,r,o,u){var p=Mt();u=u===void 0?null:u;var y=p.memoizedState.inst;et!==null&&u!==null&&gp(u,et.memoizedState.deps)?p.memoizedState=Go(r,y,o,u):(De.flags|=i,p.memoizedState=Go(1|r,y,o,u))}function x0(i,r){nd(8390656,8,i,r)}function w0(i,r){Dc(2048,8,i,r)}function S0(i,r){return Dc(4,2,i,r)}function A0(i,r){return Dc(4,4,i,r)}function R0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function N0(i,r,o){o=o!=null?o.concat([i]):null,Dc(4,4,R0.bind(null,r,i),o)}function Rp(){}function C0(i,r){var o=Mt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&gp(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function I0(i,r){var o=Mt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&gp(r,u[1]))return u[0];if(u=i(),Va){kn(!0);try{i()}finally{kn(!1)}}return o.memoizedState=[u,r],u}function Np(i,r,o){return o===void 0||(pr&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=PT(),De.lanes|=i,Er|=i,o)}function D0(i,r,o,u){return Ln(o,r)?o:zo.current!==null?(i=Np(i,o,u),Ln(i,r)||(Qt=!0),i):(pr&42)===0?(Qt=!0,i.memoizedState=o):(i=PT(),De.lanes|=i,Er|=i,r)}function j0(i,r,o,u,p){var y=J.p;J.p=y!==0&&8>y?y:8;var x=G.T,S={};G.T=S,Dp(i,!1,r,o);try{var V=p(),Y=G.S;if(Y!==null&&Y(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ne=nD(V,u);jc(i,r,ne,qn(i))}else jc(i,r,u,qn(i))}catch(ae){jc(i,r,{then:function(){},status:"rejected",reason:ae},qn())}finally{J.p=y,G.T=x}}function oD(){}function Cp(i,r,o,u){if(i.tag!==5)throw Error(s(476));var p=P0(i).queue;j0(i,p,r,he,o===null?oD:function(){return O0(i),o(u)})}function P0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:he},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function O0(i){var r=P0(i).next.queue;jc(i,r,{},qn())}function Ip(){return hn(Xc)}function M0(){return Mt().memoizedState}function k0(){return Mt().memoizedState}function lD(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=qn();i=fr(o);var u=mr(r,i,o);u!==null&&(Hn(u,r,o),Ac(u,r,o)),r={cache:ap()},i.payload=r;return}r=r.return}}function cD(i,r,o){var u=qn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},sd(i)?L0(r,o):(o=Xm(i,r,o,u),o!==null&&(Hn(o,i,u),U0(o,r,u)))}function V0(i,r,o){var u=qn();jc(i,r,o,u)}function jc(i,r,o,u){var p={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(sd(i))L0(r,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var x=r.lastRenderedState,S=y(x,o);if(p.hasEagerState=!0,p.eagerState=S,Ln(S,x))return Bh(i,r,p,0),rt===null&&Uh(),!1}catch{}finally{}if(o=Xm(i,r,p,u),o!==null)return Hn(o,i,u),U0(o,r,u),!0}return!1}function Dp(i,r,o,u){if(u={lane:2,revertLane:cg(),action:u,hasEagerState:!1,eagerState:null,next:null},sd(i)){if(r)throw Error(s(479))}else r=Xm(i,o,u,2),r!==null&&Hn(r,i,2)}function sd(i){var r=i.alternate;return i===De||r!==null&&r===De}function L0(i,r){qo=Wh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function U0(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,ec(i,o)}}var id={readContext:hn,use:Jh,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},B0={readContext:hn,use:Jh,useCallback:function(i,r){return Rn().memoizedState=[i,r===void 0?null:r],i},useContext:hn,useEffect:x0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,nd(4194308,4,R0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return nd(4194308,4,i,r)},useInsertionEffect:function(i,r){nd(4,2,i,r)},useMemo:function(i,r){var o=Rn();r=r===void 0?null:r;var u=i();if(Va){kn(!0);try{i()}finally{kn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=Rn();if(o!==void 0){var p=o(r);if(Va){kn(!0);try{o(r)}finally{kn(!1)}}}else p=r;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=cD.bind(null,De,i),[u.memoizedState,i]},useRef:function(i){var r=Rn();return i={current:i},r.memoizedState=i},useState:function(i){i=Sp(i);var r=i.queue,o=V0.bind(null,De,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Rp,useDeferredValue:function(i,r){var o=Rn();return Np(o,i,r)},useTransition:function(){var i=Sp(!1);return i=j0.bind(null,De,i.queue,!0,!1),Rn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=De,p=Rn();if(Ge){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),rt===null)throw Error(s(349));(Fe&124)!==0||o0(u,r,o)}p.memoizedState=o;var y={value:o,getSnapshot:r};return p.queue=y,x0(c0.bind(null,u,y,i),[i]),u.flags|=2048,Go(9,td(),l0.bind(null,u,y,o,r),null),o},useId:function(){var i=Rn(),r=rt.identifierPrefix;if(Ge){var o=Ai,u=Si;o=(u&~(1<<32-un(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=Zh++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=sD++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Ip,useFormState:v0,useActionState:v0,useOptimistic:function(i){var r=Rn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Dp.bind(null,De,!0,o),o.dispatch=r,[i,r]},useMemoCache:Ep,useCacheRefresh:function(){return Rn().memoizedState=lD.bind(null,De)}},F0={readContext:hn,use:Jh,useCallback:C0,useContext:hn,useEffect:w0,useImperativeHandle:N0,useInsertionEffect:S0,useLayoutEffect:A0,useMemo:I0,useReducer:ed,useRef:E0,useState:function(){return ed(Ci)},useDebugValue:Rp,useDeferredValue:function(i,r){var o=Mt();return D0(o,et.memoizedState,i,r)},useTransition:function(){var i=ed(Ci)[0],r=Mt().memoizedState;return[typeof i=="boolean"?i:Ic(i),r]},useSyncExternalStore:a0,useId:M0,useHostTransitionStatus:Ip,useFormState:_0,useActionState:_0,useOptimistic:function(i,r){var o=Mt();return d0(o,et,i,r)},useMemoCache:Ep,useCacheRefresh:k0},uD={readContext:hn,use:Jh,useCallback:C0,useContext:hn,useEffect:w0,useImperativeHandle:N0,useInsertionEffect:S0,useLayoutEffect:A0,useMemo:I0,useReducer:wp,useRef:E0,useState:function(){return wp(Ci)},useDebugValue:Rp,useDeferredValue:function(i,r){var o=Mt();return et===null?Np(o,i,r):D0(o,et.memoizedState,i,r)},useTransition:function(){var i=wp(Ci)[0],r=Mt().memoizedState;return[typeof i=="boolean"?i:Ic(i),r]},useSyncExternalStore:a0,useId:M0,useHostTransitionStatus:Ip,useFormState:T0,useActionState:T0,useOptimistic:function(i,r){var o=Mt();return et!==null?d0(o,et,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Ep,useCacheRefresh:k0},$o=null,Pc=0;function rd(i){var r=Pc;return Pc+=1,$o===null&&($o=[]),Zb($o,i,r)}function Oc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function ad(i,r){throw r.$$typeof===b?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function z0(i){var r=i._init;return r(i._payload)}function q0(i){function r(H,z){if(i){var K=H.deletions;K===null?(H.deletions=[z],H.flags|=16):K.push(z)}}function o(H,z){if(!i)return null;for(;z!==null;)r(H,z),z=z.sibling;return null}function u(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function p(H,z){return H=wi(H,z),H.index=0,H.sibling=null,H}function y(H,z,K){return H.index=K,i?(K=H.alternate,K!==null?(K=K.index,K<z?(H.flags|=67108866,z):K):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function x(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function S(H,z,K,ie){return z===null||z.tag!==6?(z=Zm(K,H.mode,ie),z.return=H,z):(z=p(z,K),z.return=H,z)}function V(H,z,K,ie){var ge=K.type;return ge===A?ne(H,z,K.props.children,ie,K.key):z!==null&&(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===N&&z0(ge)===z.type)?(z=p(z,K.props),Oc(z,K),z.return=H,z):(z=zh(K.type,K.key,K.props,null,H.mode,ie),Oc(z,K),z.return=H,z)}function Y(H,z,K,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=Jm(K,H.mode,ie),z.return=H,z):(z=p(z,K.children||[]),z.return=H,z)}function ne(H,z,K,ie,ge){return z===null||z.tag!==7?(z=Ca(K,H.mode,ie,ge),z.return=H,z):(z=p(z,K),z.return=H,z)}function ae(H,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Zm(""+z,H.mode,K),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return K=zh(z.type,z.key,z.props,null,H.mode,K),Oc(K,z),K.return=H,K;case w:return z=Jm(z,H.mode,K),z.return=H,z;case N:var ie=z._init;return z=ie(z._payload),ae(H,z,K)}if(le(z)||L(z))return z=Ca(z,H.mode,K,null),z.return=H,z;if(typeof z.then=="function")return ae(H,rd(z),K);if(z.$$typeof===F)return ae(H,$h(H,z),K);ad(H,z)}return null}function Q(H,z,K,ie){var ge=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ge!==null?null:S(H,z,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case T:return K.key===ge?V(H,z,K,ie):null;case w:return K.key===ge?Y(H,z,K,ie):null;case N:return ge=K._init,K=ge(K._payload),Q(H,z,K,ie)}if(le(K)||L(K))return ge!==null?null:ne(H,z,K,ie,null);if(typeof K.then=="function")return Q(H,z,rd(K),ie);if(K.$$typeof===F)return Q(H,z,$h(H,K),ie);ad(H,K)}return null}function X(H,z,K,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get(K)||null,S(z,H,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case T:return H=H.get(ie.key===null?K:ie.key)||null,V(z,H,ie,ge);case w:return H=H.get(ie.key===null?K:ie.key)||null,Y(z,H,ie,ge);case N:var Pe=ie._init;return ie=Pe(ie._payload),X(H,z,K,ie,ge)}if(le(ie)||L(ie))return H=H.get(K)||null,ne(z,H,ie,ge,null);if(typeof ie.then=="function")return X(H,z,K,rd(ie),ge);if(ie.$$typeof===F)return X(H,z,K,$h(z,ie),ge);ad(z,ie)}return null}function we(H,z,K,ie){for(var ge=null,Pe=null,ye=z,Ee=z=0,Wt=null;ye!==null&&Ee<K.length;Ee++){ye.index>Ee?(Wt=ye,ye=null):Wt=ye.sibling;var He=Q(H,ye,K[Ee],ie);if(He===null){ye===null&&(ye=Wt);break}i&&ye&&He.alternate===null&&r(H,ye),z=y(He,z,Ee),Pe===null?ge=He:Pe.sibling=He,Pe=He,ye=Wt}if(Ee===K.length)return o(H,ye),Ge&&Da(H,Ee),ge;if(ye===null){for(;Ee<K.length;Ee++)ye=ae(H,K[Ee],ie),ye!==null&&(z=y(ye,z,Ee),Pe===null?ge=ye:Pe.sibling=ye,Pe=ye);return Ge&&Da(H,Ee),ge}for(ye=u(ye);Ee<K.length;Ee++)Wt=X(ye,H,Ee,K[Ee],ie),Wt!==null&&(i&&Wt.alternate!==null&&ye.delete(Wt.key===null?Ee:Wt.key),z=y(Wt,z,Ee),Pe===null?ge=Wt:Pe.sibling=Wt,Pe=Wt);return i&&ye.forEach(function(Dr){return r(H,Dr)}),Ge&&Da(H,Ee),ge}function Te(H,z,K,ie){if(K==null)throw Error(s(151));for(var ge=null,Pe=null,ye=z,Ee=z=0,Wt=null,He=K.next();ye!==null&&!He.done;Ee++,He=K.next()){ye.index>Ee?(Wt=ye,ye=null):Wt=ye.sibling;var Dr=Q(H,ye,He.value,ie);if(Dr===null){ye===null&&(ye=Wt);break}i&&ye&&Dr.alternate===null&&r(H,ye),z=y(Dr,z,Ee),Pe===null?ge=Dr:Pe.sibling=Dr,Pe=Dr,ye=Wt}if(He.done)return o(H,ye),Ge&&Da(H,Ee),ge;if(ye===null){for(;!He.done;Ee++,He=K.next())He=ae(H,He.value,ie),He!==null&&(z=y(He,z,Ee),Pe===null?ge=He:Pe.sibling=He,Pe=He);return Ge&&Da(H,Ee),ge}for(ye=u(ye);!He.done;Ee++,He=K.next())He=X(ye,H,Ee,He.value,ie),He!==null&&(i&&He.alternate!==null&&ye.delete(He.key===null?Ee:He.key),z=y(He,z,Ee),Pe===null?ge=He:Pe.sibling=He,Pe=He);return i&&ye.forEach(function(hj){return r(H,hj)}),Ge&&Da(H,Ee),ge}function nt(H,z,K,ie){if(typeof K=="object"&&K!==null&&K.type===A&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case T:e:{for(var ge=K.key;z!==null;){if(z.key===ge){if(ge=K.type,ge===A){if(z.tag===7){o(H,z.sibling),ie=p(z,K.props.children),ie.return=H,H=ie;break e}}else if(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===N&&z0(ge)===z.type){o(H,z.sibling),ie=p(z,K.props),Oc(ie,K),ie.return=H,H=ie;break e}o(H,z);break}else r(H,z);z=z.sibling}K.type===A?(ie=Ca(K.props.children,H.mode,ie,K.key),ie.return=H,H=ie):(ie=zh(K.type,K.key,K.props,null,H.mode,ie),Oc(ie,K),ie.return=H,H=ie)}return x(H);case w:e:{for(ge=K.key;z!==null;){if(z.key===ge)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){o(H,z.sibling),ie=p(z,K.children||[]),ie.return=H,H=ie;break e}else{o(H,z);break}else r(H,z);z=z.sibling}ie=Jm(K,H.mode,ie),ie.return=H,H=ie}return x(H);case N:return ge=K._init,K=ge(K._payload),nt(H,z,K,ie)}if(le(K))return we(H,z,K,ie);if(L(K)){if(ge=L(K),typeof ge!="function")throw Error(s(150));return K=ge.call(K),Te(H,z,K,ie)}if(typeof K.then=="function")return nt(H,z,rd(K),ie);if(K.$$typeof===F)return nt(H,z,$h(H,K),ie);ad(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(o(H,z.sibling),ie=p(z,K),ie.return=H,H=ie):(o(H,z),ie=Zm(K,H.mode,ie),ie.return=H,H=ie),x(H)):o(H,z)}return function(H,z,K,ie){try{Pc=0;var ge=nt(H,z,K,ie);return $o=null,ge}catch(ye){if(ye===wc||ye===Yh)throw ye;var Pe=Un(29,ye,null,H.mode);return Pe.lanes=ie,Pe.return=H,Pe}finally{}}}var Ko=q0(!0),H0=q0(!1),us=te(null),Ks=null;function gr(i){var r=i.alternate;ce(Ht,Ht.current&1),ce(us,i),Ks===null&&(r===null||zo.current!==null||r.memoizedState!==null)&&(Ks=i)}function G0(i){if(i.tag===22){if(ce(Ht,Ht.current),ce(us,i),Ks===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Ks=i)}}else yr()}function yr(){ce(Ht,Ht.current),ce(us,us.current)}function Ii(i){fe(us),Ks===i&&(Ks=null),fe(Ht)}var Ht=te(0);function od(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Tg(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function jp(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Pp={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=qn(),p=fr(u);p.payload=r,o!=null&&(p.callback=o),r=mr(i,p,u),r!==null&&(Hn(r,i,u),Ac(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=qn(),p=fr(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=mr(i,p,u),r!==null&&(Hn(r,i,u),Ac(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=qn(),u=fr(o);u.tag=2,r!=null&&(u.callback=r),r=mr(i,u,o),r!==null&&(Hn(r,i,o),Ac(r,i,o))}};function $0(i,r,o,u,p,y,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,x):r.prototype&&r.prototype.isPureReactComponent?!gc(o,u)||!gc(p,y):!0}function K0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Pp.enqueueReplaceState(r,r.state,null)}function La(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}var ld=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Y0(i){ld(i)}function Q0(i){console.error(i)}function X0(i){ld(i)}function cd(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function W0(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Op(i,r,o){return o=fr(o),o.tag=3,o.payload={element:null},o.callback=function(){cd(i,r)},o}function Z0(i){return i=fr(i),i.tag=3,i}function J0(i,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;i.payload=function(){return p(y)},i.callback=function(){W0(r,o,u)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){W0(r,o,u),typeof p!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function hD(i,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Tc(r,o,p,!0),o=us.current,o!==null){switch(o.tag){case 13:return Ks===null?ig():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===cp?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),ag(i,u,p)),!1;case 22:return o.flags|=65536,u===cp?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),ag(i,u,p)),!1}throw Error(s(435,o.tag))}return ag(i,u,p),ig(),!1}if(Ge)return r=us.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==np&&(i=Error(s(422),{cause:u}),bc(as(i,o)))):(u!==np&&(r=Error(s(423),{cause:u}),bc(as(r,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=as(u,o),p=Op(i.stateNode,u,p),dp(i,p),_t!==4&&(_t=2)),!1;var y=Error(s(520),{cause:u});if(y=as(y,o),Fc===null?Fc=[y]:Fc.push(y),_t!==4&&(_t=2),r===null)return!0;u=as(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=Op(o.stateNode,u,i),dp(o,i),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xr===null||!xr.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Z0(p),J0(p,i,o,u),dp(o,p),!1}o=o.return}while(o!==null);return!1}var eT=Error(s(461)),Qt=!1;function tn(i,r,o,u){r.child=i===null?H0(r,null,o,u):Ko(r,i.child,o,u)}function tT(i,r,o,u,p){o=o.render;var y=r.ref;if("ref"in u){var x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}else x=u;return Ma(r),u=yp(i,r,o,x,y,p),S=vp(),i!==null&&!Qt?(_p(i,r,p),Di(i,r,p)):(Ge&&S&&ep(r),r.flags|=1,tn(i,r,u,p),r.child)}function nT(i,r,o,u,p){if(i===null){var y=o.type;return typeof y=="function"&&!Wm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,sT(i,r,y,u,p)):(i=zh(o.type,null,u,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!zp(i,p)){var x=y.memoizedProps;if(o=o.compare,o=o!==null?o:gc,o(x,u)&&i.ref===r.ref)return Di(i,r,p)}return r.flags|=1,i=wi(y,u),i.ref=r.ref,i.return=r,r.child=i}function sT(i,r,o,u,p){if(i!==null){var y=i.memoizedProps;if(gc(y,u)&&i.ref===r.ref)if(Qt=!1,r.pendingProps=u=y,zp(i,p))(i.flags&131072)!==0&&(Qt=!0);else return r.lanes=i.lanes,Di(i,r,p)}return Mp(i,r,o,u,p)}function iT(i,r,o){var u=r.pendingProps,p=u.children,y=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=y!==null?y.baseLanes|o:o,i!==null){for(p=r.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;r.childLanes=y&~u}else r.childLanes=0,r.child=null;return rT(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Kh(r,y!==null?y.cachePool:null),y!==null?s0(r,y):mp(),G0(r);else return r.lanes=r.childLanes=536870912,rT(i,r,y!==null?y.baseLanes|o:o,o)}else y!==null?(Kh(r,y.cachePool),s0(r,y),yr(),r.memoizedState=null):(i!==null&&Kh(r,null),mp(),yr());return tn(i,r,p,o),r.child}function rT(i,r,o,u){var p=lp();return p=p===null?null:{parent:qt._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&Kh(r,null),mp(),G0(r),i!==null&&Tc(i,r,u,!0),null}function ud(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Mp(i,r,o,u,p){return Ma(r),o=yp(i,r,o,u,void 0,p),u=vp(),i!==null&&!Qt?(_p(i,r,p),Di(i,r,p)):(Ge&&u&&ep(r),r.flags|=1,tn(i,r,o,p),r.child)}function aT(i,r,o,u,p,y){return Ma(r),r.updateQueue=null,o=r0(r,u,o,p),i0(i),u=vp(),i!==null&&!Qt?(_p(i,r,y),Di(i,r,y)):(Ge&&u&&ep(r),r.flags|=1,tn(i,r,o,y),r.child)}function oT(i,r,o,u,p){if(Ma(r),r.stateNode===null){var y=Vo,x=o.contextType;typeof x=="object"&&x!==null&&(y=hn(x)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Pp,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},up(r),x=o.contextType,y.context=typeof x=="object"&&x!==null?hn(x):Vo,y.state=r.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(jp(r,o,x,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&Pp.enqueueReplaceState(y,y.state,null),Nc(r,u,y,p),Rc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){y=r.stateNode;var S=r.memoizedProps,V=La(o,S);y.props=V;var Y=y.context,ne=o.contextType;x=Vo,typeof ne=="object"&&ne!==null&&(x=hn(ne));var ae=o.getDerivedStateFromProps;ne=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,ne||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||Y!==x)&&K0(r,y,u,x),dr=!1;var Q=r.memoizedState;y.state=Q,Nc(r,u,y,p),Rc(),Y=r.memoizedState,S||Q!==Y||dr?(typeof ae=="function"&&(jp(r,o,ae,u),Y=r.memoizedState),(V=dr||$0(r,o,V,u,Q,Y,x))?(ne||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Y),y.props=u,y.state=Y,y.context=x,u=V):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,hp(i,r),x=r.memoizedProps,ne=La(o,x),y.props=ne,ae=r.pendingProps,Q=y.context,Y=o.contextType,V=Vo,typeof Y=="object"&&Y!==null&&(V=hn(Y)),S=o.getDerivedStateFromProps,(Y=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==ae||Q!==V)&&K0(r,y,u,V),dr=!1,Q=r.memoizedState,y.state=Q,Nc(r,u,y,p),Rc();var X=r.memoizedState;x!==ae||Q!==X||dr||i!==null&&i.dependencies!==null&&Gh(i.dependencies)?(typeof S=="function"&&(jp(r,o,S,u),X=r.memoizedState),(ne=dr||$0(r,o,ne,u,Q,X,V)||i!==null&&i.dependencies!==null&&Gh(i.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,X,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,X,V)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),y.props=u,y.state=X,y.context=V,u=ne):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),u=!1)}return y=u,ud(i,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&u?(r.child=Ko(r,i.child,null,p),r.child=Ko(r,null,o,p)):tn(i,r,o,p),r.memoizedState=y.state,i=r.child):i=Di(i,r,p),i}function lT(i,r,o,u){return _c(),r.flags|=256,tn(i,r,o,u),r.child}var kp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vp(i){return{baseLanes:i,cachePool:Qb()}}function Lp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=hs),i}function cT(i,r,o){var u=r.pendingProps,p=!1,y=(r.flags&128)!==0,x;if((x=y)||(x=i!==null&&i.memoizedState===null?!1:(Ht.current&2)!==0),x&&(p=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ge){if(p?gr(r):yr(),Ge){var S=vt,V;if(V=S){e:{for(V=S,S=$s;V.nodeType!==8;){if(!S){S=null;break e}if(V=As(V.nextSibling),V===null){S=null;break e}}S=V}S!==null?(r.memoizedState={dehydrated:S,treeContext:Ia!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},V=Un(18,null,null,0),V.stateNode=S,V.return=r,r.child=V,En=r,vt=null,V=!0):V=!1}V||Pa(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Tg(S)?r.lanes=32:r.lanes=536870912,null;Ii(r)}return S=u.children,u=u.fallback,p?(yr(),p=r.mode,S=hd({mode:"hidden",children:S},p),u=Ca(u,p,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,p=r.child,p.memoizedState=Vp(o),p.childLanes=Lp(i,x,o),r.memoizedState=kp,u):(gr(r),Up(r,S))}if(V=i.memoizedState,V!==null&&(S=V.dehydrated,S!==null)){if(y)r.flags&256?(gr(r),r.flags&=-257,r=Bp(i,r,o)):r.memoizedState!==null?(yr(),r.child=i.child,r.flags|=128,r=null):(yr(),p=u.fallback,S=r.mode,u=hd({mode:"visible",children:u.children},S),p=Ca(p,S,o,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,Ko(r,i.child,null,o),u=r.child,u.memoizedState=Vp(o),u.childLanes=Lp(i,x,o),r.memoizedState=kp,r=p);else if(gr(r),Tg(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var Y=x.dgst;x=Y,u=Error(s(419)),u.stack="",u.digest=x,bc({value:u,source:null,stack:null}),r=Bp(i,r,o)}else if(Qt||Tc(i,r,o,!1),x=(o&i.childLanes)!==0,Qt||x){if(x=rt,x!==null&&(u=o&-o,u=(u&42)!==0?1:ir(u),u=(u&(x.suspendedLanes|o))!==0?0:u,u!==0&&u!==V.retryLane))throw V.retryLane=u,ko(i,u),Hn(x,i,u),eT;S.data==="$?"||ig(),r=Bp(i,r,o)}else S.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=V.treeContext,vt=As(S.nextSibling),En=r,Ge=!0,ja=null,$s=!1,i!==null&&(ls[cs++]=Si,ls[cs++]=Ai,ls[cs++]=Ia,Si=i.id,Ai=i.overflow,Ia=r),r=Up(r,u.children),r.flags|=4096);return r}return p?(yr(),p=u.fallback,S=r.mode,V=i.child,Y=V.sibling,u=wi(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,Y!==null?p=wi(Y,p):(p=Ca(p,S,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,S=i.child.memoizedState,S===null?S=Vp(o):(V=S.cachePool,V!==null?(Y=qt._currentValue,V=V.parent!==Y?{parent:Y,pool:Y}:V):V=Qb(),S={baseLanes:S.baseLanes|o,cachePool:V}),p.memoizedState=S,p.childLanes=Lp(i,x,o),r.memoizedState=kp,u):(gr(r),o=i.child,i=o.sibling,o=wi(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(x=r.deletions,x===null?(r.deletions=[i],r.flags|=16):x.push(i)),r.child=o,r.memoizedState=null,o)}function Up(i,r){return r=hd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function hd(i,r){return i=Un(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Bp(i,r,o){return Ko(r,i.child,null,o),i=Up(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function uT(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),ip(i.return,r,o)}function Fp(i,r,o,u,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=p)}function hT(i,r,o){var u=r.pendingProps,p=u.revealOrder,y=u.tail;if(tn(i,r,u.children,o),u=Ht.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&uT(i,o,r);else if(i.tag===19)uT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ce(Ht,u),p){case"forwards":for(o=r.child,p=null;o!==null;)i=o.alternate,i!==null&&od(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),Fp(r,!1,p,o,y);break;case"backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&od(i)===null){r.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}Fp(r,!0,o,null,y);break;case"together":Fp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Di(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Er|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Tc(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=wi(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=wi(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function zp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Gh(i)))}function dD(i,r,o){switch(r.tag){case 3:it(r,r.stateNode.containerInfo),hr(r,qt,i.memoizedState.cache),_c();break;case 27:case 5:sr(r);break;case 4:it(r,r.stateNode.containerInfo);break;case 10:hr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(gr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?cT(i,r,o):(gr(r),i=Di(i,r,o),i!==null?i.sibling:null);gr(r);break;case 19:var p=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Tc(i,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return hT(i,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ce(Ht,Ht.current),u)break;return null;case 22:case 23:return r.lanes=0,iT(i,r,o);case 24:hr(r,qt,i.memoizedState.cache)}return Di(i,r,o)}function dT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Qt=!0;else{if(!zp(i,o)&&(r.flags&128)===0)return Qt=!1,dD(i,r,o);Qt=(i.flags&131072)!==0}else Qt=!1,Ge&&(r.flags&1048576)!==0&&zb(r,Hh,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,p=u._init;if(u=p(u._payload),r.type=u,typeof u=="function")Wm(u)?(i=La(u,i),r.tag=1,r=oT(null,r,u,i,o)):(r.tag=0,r=Mp(null,r,u,i,o));else{if(u!=null){if(p=u.$$typeof,p===W){r.tag=11,r=tT(null,r,u,i,o);break e}else if(p===k){r.tag=14,r=nT(null,r,u,i,o);break e}}throw r=re(u)||u,Error(s(306,r,""))}}return r;case 0:return Mp(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=La(u,r.pendingProps),oT(i,r,u,p,o);case 3:e:{if(it(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var y=r.memoizedState;p=y.element,hp(i,r),Nc(r,u,null,o);var x=r.memoizedState;if(u=x.cache,hr(r,qt,u),u!==y.cache&&rp(r,[qt],o,!0),Rc(),u=x.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=lT(i,r,u,o);break e}else if(u!==p){p=as(Error(s(424)),r),bc(p),r=lT(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(vt=As(i.firstChild),En=r,Ge=!0,ja=null,$s=!0,o=H0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(_c(),u===p){r=Di(i,r,o);break e}tn(i,r,u,o)}r=r.child}return r;case 26:return ud(i,r),i===null?(o=gE(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ge||(o=r.type,i=r.pendingProps,u=Sd(Ae.current).createElement(o),u[Bt]=r,u[jt]=i,sn(u,o,i),wt(u),r.stateNode=u):r.memoizedState=gE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return sr(r),i===null&&Ge&&(u=r.stateNode=fE(r.type,r.pendingProps,Ae.current),En=r,$s=!0,p=vt,Ar(r.type)?(Eg=p,vt=As(u.firstChild)):vt=p),tn(i,r,r.pendingProps.children,o),ud(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ge&&((p=u=vt)&&(u=BD(u,r.type,r.pendingProps,$s),u!==null?(r.stateNode=u,En=r,vt=As(u.firstChild),$s=!1,p=!0):p=!1),p||Pa(r)),sr(r),p=r.type,y=r.pendingProps,x=i!==null?i.memoizedProps:null,u=y.children,vg(p,y)?u=null:x!==null&&vg(p,x)&&(r.flags|=32),r.memoizedState!==null&&(p=yp(i,r,iD,null,null,o),Xc._currentValue=p),ud(i,r),tn(i,r,u,o),r.child;case 6:return i===null&&Ge&&((i=o=vt)&&(o=FD(o,r.pendingProps,$s),o!==null?(r.stateNode=o,En=r,vt=null,i=!0):i=!1),i||Pa(r)),null;case 13:return cT(i,r,o);case 4:return it(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ko(r,null,u,o):tn(i,r,u,o),r.child;case 11:return tT(i,r,r.type,r.pendingProps,o);case 7:return tn(i,r,r.pendingProps,o),r.child;case 8:return tn(i,r,r.pendingProps.children,o),r.child;case 12:return tn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,hr(r,r.type,u.value),tn(i,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,Ma(r),p=hn(p),u=u(p),r.flags|=1,tn(i,r,u,o),r.child;case 14:return nT(i,r,r.type,r.pendingProps,o);case 15:return sT(i,r,r.type,r.pendingProps,o);case 19:return hT(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=hd(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=wi(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return iT(i,r,o);case 24:return Ma(r),u=hn(qt),i===null?(p=lp(),p===null&&(p=rt,y=ap(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),r.memoizedState={parent:u,cache:p},up(r),hr(r,qt,p)):((i.lanes&o)!==0&&(hp(i,r),Nc(r,null,null,o),Rc()),p=i.memoizedState,y=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),hr(r,qt,u)):(u=y.cache,hr(r,qt,u),u!==p.cache&&rp(r,[qt],o,!0))),tn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ji(i){i.flags|=4}function fT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!TE(r)){if(r=us.current,r!==null&&((Fe&4194048)===Fe?Ks!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||r!==Ks))throw Sc=cp,Xb;i.flags|=8192}}function dd(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Zl():536870912,i.lanes|=r,Wo|=r)}function Mc(i,r){if(!Ge)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ft(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function fD(i,r,o){var u=r.pendingProps;switch(tp(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ni(qt),Os(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(vc(r)?ji(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Gb())),ft(r),null;case 26:return o=r.memoizedState,i===null?(ji(r),o!==null?(ft(r),fT(r,o)):(ft(r),r.flags&=-16777217)):o?o!==i.memoizedState?(ji(r),ft(r),fT(r,o)):(ft(r),r.flags&=-16777217):(i.memoizedProps!==u&&ji(r),ft(r),r.flags&=-16777217),null;case 27:hi(r),o=Ae.current;var p=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ji(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ft(r),null}i=be.current,vc(r)?qb(r):(i=fE(p,u,o),r.stateNode=i,ji(r))}return ft(r),null;case 5:if(hi(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ji(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ft(r),null}if(i=be.current,vc(r))qb(r);else{switch(p=Sd(Ae.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?p.createElement(o,{is:u.is}):p.createElement(o)}}i[Bt]=r,i[jt]=u;e:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break e;for(;p.sibling===null;){if(p.return===null||p.return===r)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=i;e:switch(sn(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ji(r)}}return ft(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ji(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ae.current,vc(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,p=En,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[Bt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||aE(i.nodeValue,o)),i||Pa(r)}else i=Sd(i).createTextNode(u),i[Bt]=r,r.stateNode=i}return ft(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=vc(r),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Bt]=r}else _c(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),p=!1}else p=Gb(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Ii(r),r):(Ii(r),null)}if(Ii(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),dd(r,r.updateQueue),ft(r),null;case 4:return Os(),i===null&&fg(r.stateNode.containerInfo),ft(r),null;case 10:return Ni(r.type),ft(r),null;case 19:if(fe(Ht),p=r.memoizedState,p===null)return ft(r),null;if(u=(r.flags&128)!==0,y=p.rendering,y===null)if(u)Mc(p,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=od(i),y!==null){for(r.flags|=128,Mc(p,!1),i=y.updateQueue,r.updateQueue=i,dd(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Fb(o,i),o=o.sibling;return ce(Ht,Ht.current&1|2),r.child}i=i.sibling}p.tail!==null&&es()>pd&&(r.flags|=128,u=!0,Mc(p,!1),r.lanes=4194304)}else{if(!u)if(i=od(y),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,dd(r,i),Mc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Ge)return ft(r),null}else 2*es()-p.renderingStartTime>pd&&o!==536870912&&(r.flags|=128,u=!0,Mc(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(i=p.last,i!==null?i.sibling=y:r.child=y,p.last=y)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=es(),r.sibling=null,i=Ht.current,ce(Ht,u?i&1|2:i&1),r):(ft(r),null);case 22:case 23:return Ii(r),pp(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),o=r.updateQueue,o!==null&&dd(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&fe(ka),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ni(qt),ft(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function mD(i,r){switch(tp(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ni(qt),Os(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return hi(r),null;case 13:if(Ii(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));_c()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return fe(Ht),null;case 4:return Os(),null;case 10:return Ni(r.type),null;case 22:case 23:return Ii(r),pp(),i!==null&&fe(ka),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ni(qt),null;case 25:return null;default:return null}}function mT(i,r){switch(tp(r),r.tag){case 3:Ni(qt),Os();break;case 26:case 27:case 5:hi(r);break;case 4:Os();break;case 13:Ii(r);break;case 19:fe(Ht);break;case 10:Ni(r.type);break;case 22:case 23:Ii(r),pp(),i!==null&&fe(ka);break;case 24:Ni(qt)}}function kc(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&i)===i){u=void 0;var y=o.create,x=o.inst;u=y(),x.destroy=u}o=o.next}while(o!==p)}}catch(S){st(r,r.return,S)}}function vr(i,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&i)===i){var x=u.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,p=r;var V=o,Y=S;try{Y()}catch(ne){st(p,V,ne)}}}u=u.next}while(u!==y)}}catch(ne){st(r,r.return,ne)}}function pT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{n0(r,o)}catch(u){st(i,i.return,u)}}}function gT(i,r,o){o.props=La(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){st(i,r,u)}}function Vc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(p){st(i,r,p)}}function Ys(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){st(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){st(i,r,p)}else o.current=null}function yT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){st(i,i.return,p)}}function qp(i,r,o){try{var u=i.stateNode;MD(u,i.type,o,r),u[jt]=r}catch(p){st(i,i.return,p)}}function vT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ar(i.type)||i.tag===4}function Hp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||vT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ar(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=wd));else if(u!==4&&(u===27&&Ar(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Gp(i,r,o),i=i.sibling;i!==null;)Gp(i,r,o),i=i.sibling}function fd(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Ar(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(fd(i,r,o),i=i.sibling;i!==null;)fd(i,r,o),i=i.sibling}function _T(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);sn(r,u,o),r[Bt]=i,r[jt]=o}catch(y){st(i,i.return,y)}}var Pi=!1,At=!1,$p=!1,bT=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function pD(i,r){if(i=i.containerInfo,gg=Dd,i=Db(i),Hm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var x=0,S=-1,V=-1,Y=0,ne=0,ae=i,Q=null;t:for(;;){for(var X;ae!==o||p!==0&&ae.nodeType!==3||(S=x+p),ae!==y||u!==0&&ae.nodeType!==3||(V=x+u),ae.nodeType===3&&(x+=ae.nodeValue.length),(X=ae.firstChild)!==null;)Q=ae,ae=X;for(;;){if(ae===i)break t;if(Q===o&&++Y===p&&(S=x),Q===y&&++ne===u&&(V=x),(X=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=X}o=S===-1||V===-1?null:{start:S,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(yg={focusedElem:i,selectionRange:o},Dd=!1,Xt=r;Xt!==null;)if(r=Xt,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Xt=i;else for(;Xt!==null;){switch(r=Xt,y=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=r,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var we=La(o.type,p,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(we,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(Te){st(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)bg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":bg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Xt=i;break}Xt=r.return}}function TT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:_r(i,o),u&4&&kc(5,o);break;case 1:if(_r(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(x){st(o,o.return,x)}else{var p=La(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(x){st(o,o.return,x)}}u&64&&pT(o),u&512&&Vc(o,o.return);break;case 3:if(_r(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{n0(i,r)}catch(x){st(o,o.return,x)}}break;case 27:r===null&&u&4&&_T(o);case 26:case 5:_r(i,o),r===null&&u&4&&yT(o),u&512&&Vc(o,o.return);break;case 12:_r(i,o);break;case 13:_r(i,o),u&4&&wT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=wD.bind(null,o),zD(i,o))));break;case 22:if(u=o.memoizedState!==null||Pi,!u){r=r!==null&&r.memoizedState!==null||At,p=Pi;var y=At;Pi=u,(At=r)&&!y?br(i,o,(o.subtreeFlags&8772)!==0):_r(i,o),Pi=p,At=y}break;case 30:break;default:_r(i,o)}}function ET(i){var r=i.alternate;r!==null&&(i.alternate=null,ET(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&or(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ut=null,Nn=!1;function Oi(i,r,o){for(o=o.child;o!==null;)xT(i,r,o),o=o.sibling}function xT(i,r,o){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(yt,o)}catch{}switch(o.tag){case 26:At||Ys(o,r),Oi(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:At||Ys(o,r);var u=ut,p=Nn;Ar(o.type)&&(ut=o.stateNode,Nn=!1),Oi(i,r,o),$c(o.stateNode),ut=u,Nn=p;break;case 5:At||Ys(o,r);case 6:if(u=ut,p=Nn,ut=null,Oi(i,r,o),ut=u,Nn=p,ut!==null)if(Nn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(o.stateNode)}catch(y){st(o,r,y)}else try{ut.removeChild(o.stateNode)}catch(y){st(o,r,y)}break;case 18:ut!==null&&(Nn?(i=ut,hE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),eu(i)):hE(ut,o.stateNode));break;case 4:u=ut,p=Nn,ut=o.stateNode.containerInfo,Nn=!0,Oi(i,r,o),ut=u,Nn=p;break;case 0:case 11:case 14:case 15:At||vr(2,o,r),At||vr(4,o,r),Oi(i,r,o);break;case 1:At||(Ys(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&gT(o,r,u)),Oi(i,r,o);break;case 21:Oi(i,r,o);break;case 22:At=(u=At)||o.memoizedState!==null,Oi(i,r,o),At=u;break;default:Oi(i,r,o)}}function wT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{eu(i)}catch(o){st(r,r.return,o)}}function gD(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new bT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new bT),r;default:throw Error(s(435,i.tag))}}function Kp(i,r){var o=gD(i);r.forEach(function(u){var p=SD.bind(null,i,u);o.has(u)||(o.add(u),u.then(p,p))})}function Bn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=i,x=r,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(Ar(S.type)){ut=S.stateNode,Nn=!1;break e}break;case 5:ut=S.stateNode,Nn=!1;break e;case 3:case 4:ut=S.stateNode.containerInfo,Nn=!0;break e}S=S.return}if(ut===null)throw Error(s(160));xT(y,x,p),ut=null,Nn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)ST(r,i),r=r.sibling}var Ss=null;function ST(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Bn(r,i),Fn(i),u&4&&(vr(3,i,i.return),kc(3,i),vr(5,i,i.return));break;case 1:Bn(r,i),Fn(i),u&512&&(At||o===null||Ys(o,o.return)),u&64&&Pi&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Ss;if(Bn(r,i),Fn(i),u&512&&(At||o===null||Ys(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[fa]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),sn(y,u,o),y[Bt]=i,wt(y),u=y;break e;case"link":var x=_E("link","href",p).get(u+(o.href||""));if(x){for(var S=0;S<x.length;S++)if(y=x[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(S,1);break t}}y=p.createElement(u),sn(y,u,o),p.head.appendChild(y);break;case"meta":if(x=_E("meta","content",p).get(u+(o.content||""))){for(S=0;S<x.length;S++)if(y=x[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(S,1);break t}}y=p.createElement(u),sn(y,u,o),p.head.appendChild(y);break;default:throw Error(s(468,u))}y[Bt]=i,wt(y),u=y}i.stateNode=u}else bE(p,i.type,i.stateNode);else i.stateNode=vE(p,u,i.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?bE(p,i.type,i.stateNode):vE(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&qp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Bn(r,i),Fn(i),u&512&&(At||o===null||Ys(o,o.return)),o!==null&&u&4&&qp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Bn(r,i),Fn(i),u&512&&(At||o===null||Ys(o,o.return)),i.flags&32){p=i.stateNode;try{ns(p,"")}catch(X){st(i,i.return,X)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,qp(i,p,o!==null?o.memoizedProps:p)),u&1024&&($p=!0);break;case 6:if(Bn(r,i),Fn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(X){st(i,i.return,X)}}break;case 3:if(Nd=null,p=Ss,Ss=Ad(r.containerInfo),Bn(r,i),Ss=p,Fn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{eu(r.containerInfo)}catch(X){st(i,i.return,X)}$p&&($p=!1,AT(i));break;case 4:u=Ss,Ss=Ad(i.stateNode.containerInfo),Bn(r,i),Fn(i),Ss=u;break;case 12:Bn(r,i),Fn(i);break;case 13:Bn(r,i),Fn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Jp=es()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Kp(i,u)));break;case 22:p=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,Y=Pi,ne=At;if(Pi=Y||p,At=ne||V,Bn(r,i),At=ne,Pi=Y,Fn(i),u&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||V||Pi||At||Ua(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(y=V.stateNode,p)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=V.stateNode;var ae=V.memoizedProps.style,Q=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(X){st(V,V.return,X)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(X){st(V,V.return,X)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Kp(i,o))));break;case 19:Bn(r,i),Fn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Kp(i,u)));break;case 30:break;case 21:break;default:Bn(r,i),Fn(i)}}function Fn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(vT(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,y=Hp(i);fd(i,y,p);break;case 5:var x=o.stateNode;o.flags&32&&(ns(x,""),o.flags&=-33);var S=Hp(i);fd(i,S,x);break;case 3:case 4:var V=o.stateNode.containerInfo,Y=Hp(i);Gp(i,Y,V);break;default:throw Error(s(161))}}catch(ne){st(i,i.return,ne)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function AT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;AT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function _r(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)TT(i,r.alternate,r),r=r.sibling}function Ua(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:vr(4,r,r.return),Ua(r);break;case 1:Ys(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&gT(r,r.return,o),Ua(r);break;case 27:$c(r.stateNode);case 26:case 5:Ys(r,r.return),Ua(r);break;case 22:r.memoizedState===null&&Ua(r);break;case 30:Ua(r);break;default:Ua(r)}i=i.sibling}}function br(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=i,y=r,x=y.flags;switch(y.tag){case 0:case 11:case 15:br(p,y,o),kc(4,y);break;case 1:if(br(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){st(u,u.return,Y)}if(u=y,p=u.updateQueue,p!==null){var S=u.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)t0(V[p],S)}catch(Y){st(u,u.return,Y)}}o&&x&64&&pT(y),Vc(y,y.return);break;case 27:_T(y);case 26:case 5:br(p,y,o),o&&u===null&&x&4&&yT(y),Vc(y,y.return);break;case 12:br(p,y,o);break;case 13:br(p,y,o),o&&x&4&&wT(p,y);break;case 22:y.memoizedState===null&&br(p,y,o),Vc(y,y.return);break;case 30:break;default:br(p,y,o)}r=r.sibling}}function Yp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ec(o))}function Qp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ec(i))}function Qs(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)RT(i,r,o,u),r=r.sibling}function RT(i,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Qs(i,r,o,u),p&2048&&kc(9,r);break;case 1:Qs(i,r,o,u);break;case 3:Qs(i,r,o,u),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ec(i)));break;case 12:if(p&2048){Qs(i,r,o,u),i=r.stateNode;try{var y=r.memoizedProps,x=y.id,S=y.onPostCommit;typeof S=="function"&&S(x,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){st(r,r.return,V)}}else Qs(i,r,o,u);break;case 13:Qs(i,r,o,u);break;case 23:break;case 22:y=r.stateNode,x=r.alternate,r.memoizedState!==null?y._visibility&2?Qs(i,r,o,u):Lc(i,r):y._visibility&2?Qs(i,r,o,u):(y._visibility|=2,Yo(i,r,o,u,(r.subtreeFlags&10256)!==0)),p&2048&&Yp(x,r);break;case 24:Qs(i,r,o,u),p&2048&&Qp(r.alternate,r);break;default:Qs(i,r,o,u)}}function Yo(i,r,o,u,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var y=i,x=r,S=o,V=u,Y=x.flags;switch(x.tag){case 0:case 11:case 15:Yo(y,x,S,V,p),kc(8,x);break;case 23:break;case 22:var ne=x.stateNode;x.memoizedState!==null?ne._visibility&2?Yo(y,x,S,V,p):Lc(y,x):(ne._visibility|=2,Yo(y,x,S,V,p)),p&&Y&2048&&Yp(x.alternate,x);break;case 24:Yo(y,x,S,V,p),p&&Y&2048&&Qp(x.alternate,x);break;default:Yo(y,x,S,V,p)}r=r.sibling}}function Lc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,p=u.flags;switch(u.tag){case 22:Lc(o,u),p&2048&&Yp(u.alternate,u);break;case 24:Lc(o,u),p&2048&&Qp(u.alternate,u);break;default:Lc(o,u)}r=r.sibling}}var Uc=8192;function Qo(i){if(i.subtreeFlags&Uc)for(i=i.child;i!==null;)NT(i),i=i.sibling}function NT(i){switch(i.tag){case 26:Qo(i),i.flags&Uc&&i.memoizedState!==null&&tj(Ss,i.memoizedState,i.memoizedProps);break;case 5:Qo(i);break;case 3:case 4:var r=Ss;Ss=Ad(i.stateNode.containerInfo),Qo(i),Ss=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Uc,Uc=16777216,Qo(i),Uc=r):Qo(i));break;default:Qo(i)}}function CT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Bc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Xt=u,DT(u,i)}CT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)IT(i),i=i.sibling}function IT(i){switch(i.tag){case 0:case 11:case 15:Bc(i),i.flags&2048&&vr(9,i,i.return);break;case 3:Bc(i);break;case 12:Bc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,md(i)):Bc(i);break;default:Bc(i)}}function md(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Xt=u,DT(u,i)}CT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:vr(8,r,r.return),md(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,md(r));break;default:md(r)}i=i.sibling}}function DT(i,r){for(;Xt!==null;){var o=Xt;switch(o.tag){case 0:case 11:case 15:vr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ec(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Xt=u;else e:for(o=i;Xt!==null;){u=Xt;var p=u.sibling,y=u.return;if(ET(u),u===o){Xt=null;break e}if(p!==null){p.return=y,Xt=p;break e}Xt=y}}}var yD={getCacheForType:function(i){var r=hn(qt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},vD=typeof WeakMap=="function"?WeakMap:Map,Xe=0,rt=null,Oe=null,Fe=0,We=0,zn=null,Tr=!1,Xo=!1,Xp=!1,Mi=0,_t=0,Er=0,Ba=0,Wp=0,hs=0,Wo=0,Fc=null,Cn=null,Zp=!1,Jp=0,pd=1/0,gd=null,xr=null,nn=0,wr=null,Zo=null,Jo=0,eg=0,tg=null,jT=null,zc=0,ng=null;function qn(){if((Xe&2)!==0&&Fe!==0)return Fe&-Fe;if(G.T!==null){var i=Bo;return i!==0?i:cg()}return rr()}function PT(){hs===0&&(hs=(Fe&536870912)===0||Ge?Wl():536870912);var i=us.current;return i!==null&&(i.flags|=32),hs}function Hn(i,r,o){(i===rt&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(el(i,0),Sr(i,Fe,hs,!1)),fi(i,o),((Xe&2)===0||i!==rt)&&(i===rt&&((Xe&2)===0&&(Ba|=o),_t===4&&Sr(i,Fe,hs,!1)),Xs(i))}function OT(i,r,o){if((Xe&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||da(i,r),p=u?TD(i,r):rg(i,r,!0),y=u;do{if(p===0){Xo&&!u&&Sr(i,r,0,!1);break}else{if(o=i.current.alternate,y&&!_D(o)){p=rg(i,r,!1),y=!1;continue}if(p===2){if(y=r,i.errorRecoveryDisabledLanes&y)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var S=i;p=Fc;var V=S.current.memoizedState.isDehydrated;if(V&&(el(S,x).flags|=256),x=rg(S,x,!1),x!==2){if(Xp&&!V){S.errorRecoveryDisabledLanes|=y,Ba|=y,p=4;break e}y=Cn,Cn=p,y!==null&&(Cn===null?Cn=y:Cn.push.apply(Cn,y))}p=x}if(y=!1,p!==2)continue}}if(p===1){el(i,0),Sr(i,r,0,!0);break}e:{switch(u=i,y=p,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Sr(u,r,hs,!Tr);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=Jp+300-es(),10<p)){if(Sr(u,r,hs,!Tr),yo(u,0,!0)!==0)break e;u.timeoutHandle=cE(MT.bind(null,u,o,Cn,gd,Zp,r,hs,Ba,Wo,Tr,y,2,-0,0),p);break e}MT(u,o,Cn,gd,Zp,r,hs,Ba,Wo,Tr,y,0,-0,0)}}break}while(!0);Xs(i)}function MT(i,r,o,u,p,y,x,S,V,Y,ne,ae,Q,X){if(i.timeoutHandle=-1,ae=r.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Qc={stylesheets:null,count:0,unsuspend:ej},NT(r),ae=nj(),ae!==null)){i.cancelPendingCommit=ae(zT.bind(null,i,r,y,o,u,p,x,S,V,ne,1,Q,X)),Sr(i,y,x,!Y);return}zT(i,r,y,o,u,p,x,S,V)}function _D(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!Ln(y(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Sr(i,r,o,u){r&=~Wp,r&=~Ba,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var p=r;0<p;){var y=31-un(p),x=1<<y;u[y]=-1,p&=~x}o!==0&&Ms(i,o,r)}function yd(){return(Xe&6)===0?(qc(0),!1):!0}function sg(){if(Oe!==null){if(We===0)var i=Oe.return;else i=Oe,Ri=Oa=null,bp(i),$o=null,Pc=0,i=Oe;for(;i!==null;)mT(i.alternate,i),i=i.return;Oe=null}}function el(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,VD(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),sg(),rt=i,Oe=o=wi(i.current,null),Fe=r,We=0,zn=null,Tr=!1,Xo=da(i,r),Xp=!1,Wo=hs=Wp=Ba=Er=_t=0,Cn=Fc=null,Zp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var p=31-un(u),y=1<<p;r|=i[p],u&=~y}return Mi=r,Uh(),o}function kT(i,r){De=null,G.H=id,r===wc||r===Yh?(r=Jb(),We=3):r===Xb?(r=Jb(),We=4):We=r===eT?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,zn=r,Oe===null&&(_t=1,cd(i,as(r,i.current)))}function VT(){var i=G.H;return G.H=id,i===null?id:i}function LT(){var i=G.A;return G.A=yD,i}function ig(){_t=4,Tr||(Fe&4194048)!==Fe&&us.current!==null||(Xo=!0),(Er&134217727)===0&&(Ba&134217727)===0||rt===null||Sr(rt,Fe,hs,!1)}function rg(i,r,o){var u=Xe;Xe|=2;var p=VT(),y=LT();(rt!==i||Fe!==r)&&(gd=null,el(i,r)),r=!1;var x=_t;e:do try{if(We!==0&&Oe!==null){var S=Oe,V=zn;switch(We){case 8:sg(),x=6;break e;case 3:case 2:case 9:case 6:us.current===null&&(r=!0);var Y=We;if(We=0,zn=null,tl(i,S,V,Y),o&&Xo){x=0;break e}break;default:Y=We,We=0,zn=null,tl(i,S,V,Y)}}bD(),x=_t;break}catch(ne){kT(i,ne)}while(!0);return r&&i.shellSuspendCounter++,Ri=Oa=null,Xe=u,G.H=p,G.A=y,Oe===null&&(rt=null,Fe=0,Uh()),x}function bD(){for(;Oe!==null;)UT(Oe)}function TD(i,r){var o=Xe;Xe|=2;var u=VT(),p=LT();rt!==i||Fe!==r?(gd=null,pd=es()+500,el(i,r)):Xo=da(i,r);e:do try{if(We!==0&&Oe!==null){r=Oe;var y=zn;t:switch(We){case 1:We=0,zn=null,tl(i,r,y,1);break;case 2:case 9:if(Wb(y)){We=0,zn=null,BT(r);break}r=function(){We!==2&&We!==9||rt!==i||(We=7),Xs(i)},y.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Wb(y)?(We=0,zn=null,BT(r)):(We=0,zn=null,tl(i,r,y,7));break;case 5:var x=null;switch(Oe.tag){case 26:x=Oe.memoizedState;case 5:case 27:var S=Oe;if(!x||TE(x)){We=0,zn=null;var V=S.sibling;if(V!==null)Oe=V;else{var Y=S.return;Y!==null?(Oe=Y,vd(Y)):Oe=null}break t}}We=0,zn=null,tl(i,r,y,5);break;case 6:We=0,zn=null,tl(i,r,y,6);break;case 8:sg(),_t=6;break e;default:throw Error(s(462))}}ED();break}catch(ne){kT(i,ne)}while(!0);return Ri=Oa=null,G.H=u,G.A=p,Xe=o,Oe!==null?0:(rt=null,Fe=0,Uh(),_t)}function ED(){for(;Oe!==null&&!Kl();)UT(Oe)}function UT(i){var r=dT(i.alternate,i,Mi);i.memoizedProps=i.pendingProps,r===null?vd(i):Oe=r}function BT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=aT(o,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=aT(o,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:bp(r);default:mT(o,r),r=Oe=Fb(r,Mi),r=dT(o,r,Mi)}i.memoizedProps=i.pendingProps,r===null?vd(i):Oe=r}function tl(i,r,o,u){Ri=Oa=null,bp(r),$o=null,Pc=0;var p=r.return;try{if(hD(i,p,r,o,Fe)){_t=1,cd(i,as(o,i.current)),Oe=null;return}}catch(y){if(p!==null)throw Oe=p,y;_t=1,cd(i,as(o,i.current)),Oe=null;return}r.flags&32768?(Ge||u===1?i=!0:Xo||(Fe&536870912)!==0?i=!1:(Tr=i=!0,(u===2||u===9||u===3||u===6)&&(u=us.current,u!==null&&u.tag===13&&(u.flags|=16384))),FT(r,i)):vd(r)}function vd(i){var r=i;do{if((r.flags&32768)!==0){FT(r,Tr);return}i=r.return;var o=fD(r.alternate,r,Mi);if(o!==null){Oe=o;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=i}while(r!==null);_t===0&&(_t=5)}function FT(i,r){do{var o=mD(i.alternate,i);if(o!==null){o.flags&=32767,Oe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Oe=i;return}Oe=i=o}while(i!==null);_t=6,Oe=null}function zT(i,r,o,u,p,y,x,S,V){i.cancelPendingCommit=null;do _d();while(nn!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=Qm,Jl(i,o,y,x,S,V),i===rt&&(Oe=rt=null,Fe=0),Zo=r,wr=i,Jo=o,eg=y,tg=p,jT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,AD(la,function(){return KT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=G.T,G.T=null,p=J.p,J.p=2,x=Xe,Xe|=4;try{pD(i,r,o)}finally{Xe=x,J.p=p,G.T=u}}nn=1,qT(),HT(),GT()}}function qT(){if(nn===1){nn=0;var i=wr,r=Zo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var u=J.p;J.p=2;var p=Xe;Xe|=4;try{ST(r,i);var y=yg,x=Db(i.containerInfo),S=y.focusedElem,V=y.selectionRange;if(x!==S&&S&&S.ownerDocument&&Ib(S.ownerDocument.documentElement,S)){if(V!==null&&Hm(S)){var Y=V.start,ne=V.end;if(ne===void 0&&(ne=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(ne,S.value.length);else{var ae=S.ownerDocument||document,Q=ae&&ae.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),we=S.textContent.length,Te=Math.min(V.start,we),nt=V.end===void 0?Te:Math.min(V.end,we);!X.extend&&Te>nt&&(x=nt,nt=Te,Te=x);var H=Cb(S,Te),z=Cb(S,nt);if(H&&z&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var K=ae.createRange();K.setStart(H.node,H.offset),X.removeAllRanges(),Te>nt?(X.addRange(K),X.extend(z.node,z.offset)):(K.setEnd(z.node,z.offset),X.addRange(K))}}}}for(ae=[],X=S;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ae.length;S++){var ie=ae[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Dd=!!gg,yg=gg=null}finally{Xe=p,J.p=u,G.T=o}}i.current=r,nn=2}}function HT(){if(nn===2){nn=0;var i=wr,r=Zo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var u=J.p;J.p=2;var p=Xe;Xe|=4;try{TT(i,r.alternate,r)}finally{Xe=p,J.p=u,G.T=o}}nn=3}}function GT(){if(nn===4||nn===3){nn=0,mh();var i=wr,r=Zo,o=Jo,u=jT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?nn=5:(nn=0,Zo=wr=null,$T(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(xr=null),vo(o),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(yt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=G.T,p=J.p,J.p=2,G.T=null;try{for(var y=i.onRecoverableError,x=0;x<u.length;x++){var S=u[x];y(S.value,{componentStack:S.stack})}}finally{G.T=r,J.p=p}}(Jo&3)!==0&&_d(),Xs(i),p=i.pendingLanes,(o&4194090)!==0&&(p&42)!==0?i===ng?zc++:(zc=0,ng=i):zc=0,qc(0)}}function $T(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ec(r)))}function _d(i){return qT(),HT(),GT(),KT()}function KT(){if(nn!==5)return!1;var i=wr,r=eg;eg=0;var o=vo(Jo),u=G.T,p=J.p;try{J.p=32>o?32:o,G.T=null,o=tg,tg=null;var y=wr,x=Jo;if(nn=0,Zo=wr=null,Jo=0,(Xe&6)!==0)throw Error(s(331));var S=Xe;if(Xe|=4,IT(y.current),RT(y,y.current,x,o),Xe=S,qc(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(yt,y)}catch{}return!0}finally{J.p=p,G.T=u,$T(i,r)}}function YT(i,r,o){r=as(o,r),r=Op(i.stateNode,r,2),i=mr(i,r,2),i!==null&&(fi(i,2),Xs(i))}function st(i,r,o){if(i.tag===3)YT(i,i,o);else for(;r!==null;){if(r.tag===3){YT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xr===null||!xr.has(u))){i=as(o,i),o=Z0(2),u=mr(r,o,2),u!==null&&(J0(o,u,r,i),fi(u,2),Xs(u));break}}r=r.return}}function ag(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new vD;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(Xp=!0,p.add(o),i=xD.bind(null,i,r,o),r.then(i,i))}function xD(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,rt===i&&(Fe&o)===o&&(_t===4||_t===3&&(Fe&62914560)===Fe&&300>es()-Jp?(Xe&2)===0&&el(i,0):Wp|=o,Wo===Fe&&(Wo=0)),Xs(i)}function QT(i,r){r===0&&(r=Zl()),i=ko(i,r),i!==null&&(fi(i,r),Xs(i))}function wD(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),QT(i,o)}function SD(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),QT(i,o)}function AD(i,r){return aa(i,r)}var bd=null,nl=null,og=!1,Td=!1,lg=!1,Fa=0;function Xs(i){i!==nl&&i.next===null&&(nl===null?bd=nl=i:nl=nl.next=i),Td=!0,og||(og=!0,ND())}function qc(i,r){if(!lg&&Td){lg=!0;do for(var o=!1,u=bd;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var x=u.suspendedLanes,S=u.pingedLanes;y=(1<<31-un(42|i)+1)-1,y&=p&~(x&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,JT(u,y))}else y=Fe,y=yo(u,u===rt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||da(u,y)||(o=!0,JT(u,y));u=u.next}while(o);lg=!1}}function RD(){XT()}function XT(){Td=og=!1;var i=0;Fa!==0&&(kD()&&(i=Fa),Fa=0);for(var r=es(),o=null,u=bd;u!==null;){var p=u.next,y=WT(u,r);y===0?(u.next=null,o===null?bd=p:o.next=p,p===null&&(nl=o)):(o=u,(i!==0||(y&3)!==0)&&(Td=!0)),u=p}qc(i)}function WT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var x=31-un(y),S=1<<x,V=p[x];V===-1?((S&o)===0||(S&u)!==0)&&(p[x]=Xl(S,r)):V<=r&&(i.expiredLanes|=S),y&=~S}if(r=rt,o=Fe,o=yo(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(We===2||We===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&oa(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||da(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&oa(u),vo(o)){case 2:case 8:o=po;break;case 32:o=la;break;case 268435456:o=go;break;default:o=la}return u=ZT.bind(null,i),o=aa(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&oa(u),i.callbackPriority=2,i.callbackNode=null,2}function ZT(i,r){if(nn!==0&&nn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(_d()&&i.callbackNode!==o)return null;var u=Fe;return u=yo(i,i===rt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(OT(i,u,r),WT(i,es()),i.callbackNode!=null&&i.callbackNode===o?ZT.bind(null,i):null)}function JT(i,r){if(_d())return null;OT(i,r,!0)}function ND(){LD(function(){(Xe&6)!==0?aa(Yl,RD):XT()})}function cg(){return Fa===0&&(Fa=Wl()),Fa}function eE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:wo(""+i)}function tE(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function CD(i,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var y=eE((p[jt]||null).action),x=u.submitter;x&&(r=(r=x[jt]||null)?eE(r.formAction):x.getAttribute("formAction"),r!==null&&(y=r,x=null));var S=new So("action","action",null,u,p);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Fa!==0){var V=x?tE(p,x):new FormData(p);Cp(o,{pending:!0,data:V,method:p.method,action:y},null,V)}}else typeof y=="function"&&(S.preventDefault(),V=x?tE(p,x):new FormData(p),Cp(o,{pending:!0,data:V,method:p.method,action:y},y,V))},currentTarget:p}]})}}for(var ug=0;ug<Ym.length;ug++){var hg=Ym[ug],ID=hg.toLowerCase(),DD=hg[0].toUpperCase()+hg.slice(1);ws(ID,"on"+DD)}ws(Ob,"onAnimationEnd"),ws(Mb,"onAnimationIteration"),ws(kb,"onAnimationStart"),ws("dblclick","onDoubleClick"),ws("focusin","onFocus"),ws("focusout","onBlur"),ws(YI,"onTransitionRun"),ws(QI,"onTransitionStart"),ws(XI,"onTransitionCancel"),ws(Vb,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Es("onBeforeInput",["compositionend","keypress","textInput","paste"]),Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hc));function nE(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],p=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var x=u.length-1;0<=x;x--){var S=u[x],V=S.instance,Y=S.currentTarget;if(S=S.listener,V!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=Y;try{y(p)}catch(ne){ld(ne)}p.currentTarget=null,y=V}else for(x=0;x<u.length;x++){if(S=u[x],V=S.instance,Y=S.currentTarget,S=S.listener,V!==y&&p.isPropagationStopped())break e;y=S,p.currentTarget=Y;try{y(p)}catch(ne){ld(ne)}p.currentTarget=null,y=V}}}}function Me(i,r){var o=r[tc];o===void 0&&(o=r[tc]=new Set);var u=i+"__bubble";o.has(u)||(sE(r,i,2,!1),o.add(u))}function dg(i,r,o){var u=0;r&&(u|=4),sE(o,i,u,r)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function fg(i){if(!i[Ed]){i[Ed]=!0,nc.forEach(function(o){o!=="selectionchange"&&(jD.has(o)||dg(o,!1,i),dg(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Ed]||(r[Ed]=!0,dg("selectionchange",!1,r))}}function sE(i,r,o,u){switch(RE(r)){case 2:var p=rj;break;case 8:p=aj;break;default:p=Rg}o=p.bind(null,r,o,i),p=void 0,!is||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(r,o,{capture:!0,passive:p}):i.addEventListener(r,o,!0):p!==void 0?i.addEventListener(r,o,{passive:p}):i.addEventListener(r,o,!1)}function mg(i,r,o,u,p){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===p)break;if(x===4)for(x=u.return;x!==null;){var V=x.tag;if((V===3||V===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;S!==null;){if(x=mi(S),x===null)return;if(V=x.tag,V===5||V===6||V===26||V===27){u=y=x;continue e}S=S.parentNode}}u=u.return}wh(function(){var Y=y,ne=ss(o),ae=[];e:{var Q=Lb.get(i);if(Q!==void 0){var X=So,we=i;switch(i){case"keypress":if(Fs(o)===0)break e;case"keydown":case"keyup":X=Do;break;case"focusin":we="focus",X=No;break;case"focusout":we="blur",X=No;break;case"beforeblur":case"afterblur":X=No;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=rs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=jh;break;case Ob:case Mb:case kb:X=Co;break;case Vb:X=Oh;break;case"scroll":case"scrollend":X=Sh;break;case"wheel":X=jo;break;case"copy":case"cut":case"paste":X=Io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=mc;break;case"toggle":case"beforetoggle":X=kh}var Te=(r&4)!==0,nt=!Te&&(i==="scroll"||i==="scrollend"),H=Te?Q!==null?Q+"Capture":null:Q;Te=[];for(var z=Y,K;z!==null;){var ie=z;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||H===null||(ie=ba(z,H),ie!=null&&Te.push(Gc(z,ie,K))),nt)break;z=z.return}0<Te.length&&(Q=new X(Q,we,null,o,ne),ae.push({event:Q,listeners:Te}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Q&&o!==vi&&(we=o.relatedTarget||o.fromElement)&&(mi(we)||we[ts]))break e;if((X||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(we=o.relatedTarget||o.toElement,X=Y,we=we?mi(we):null,we!==null&&(nt=l(we),Te=we.tag,we!==nt||Te!==5&&Te!==27&&Te!==6)&&(we=null)):(X=null,we=Y),X!==we)){if(Te=rs,ie="onMouseLeave",H="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Te=mc,ie="onPointerLeave",H="onPointerEnter",z="pointer"),nt=X==null?Q:Vs(X),K=we==null?Q:Vs(we),Q=new Te(ie,z+"leave",X,o,ne),Q.target=nt,Q.relatedTarget=K,ie=null,mi(ne)===Y&&(Te=new Te(H,z+"enter",we,o,ne),Te.target=K,Te.relatedTarget=nt,ie=Te),nt=ie,X&&we)t:{for(Te=X,H=we,z=0,K=Te;K;K=sl(K))z++;for(K=0,ie=H;ie;ie=sl(ie))K++;for(;0<z-K;)Te=sl(Te),z--;for(;0<K-z;)H=sl(H),K--;for(;z--;){if(Te===H||H!==null&&Te===H.alternate)break t;Te=sl(Te),H=sl(H)}Te=null}else Te=null;X!==null&&iE(ae,Q,X,Te,!1),we!==null&&nt!==null&&iE(ae,nt,we,Te,!0)}}e:{if(Q=Y?Vs(Y):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var ge=xb;else if(zt(Q))if(wb)ge=GI;else{ge=qI;var Pe=zI}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&oc(Y.elementType)&&(ge=xb):ge=HI;if(ge&&(ge=ge(i,Y))){xi(ae,ge,o,ne);break e}Pe&&Pe(i,Q,Y),i==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&cr(Q,"number",Q.value)}switch(Pe=Y?Vs(Y):window,i){case"focusin":(zt(Pe)||Pe.contentEditable==="true")&&(Po=Pe,Gm=Y,yc=null);break;case"focusout":yc=Gm=Po=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,jb(ae,o,ne);break;case"selectionchange":if(KI)break;case"keydown":case"keyup":jb(ae,o,ne)}var ye;if(Hs)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ue?Z(i,o)&&(Ee="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(E&&o.locale!=="ko"&&(Ue||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ue&&(ye=cc()):(Bs=ne,ur="value"in Bs?Bs.value:Bs.textContent,Ue=!0)),Pe=xd(Y,Ee),0<Pe.length&&(Ee=new dc(Ee,i,null,o,ne),ae.push({event:Ee,listeners:Pe}),ye?Ee.data=ye:(ye=de(o),ye!==null&&(Ee.data=ye)))),(ye=_?Ft(i,o):Be(i,o))&&(Ee=xd(Y,"onBeforeInput"),0<Ee.length&&(Pe=new dc("onBeforeInput","beforeinput",null,o,ne),ae.push({event:Pe,listeners:Ee}),Pe.data=ye)),CD(ae,i,Y,o,ne)}nE(ae,r)})}function Gc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function xd(i,r){for(var o=r+"Capture",u=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ba(i,o),p!=null&&u.unshift(Gc(i,p,y)),p=ba(i,r),p!=null&&u.push(Gc(i,p,y))),i.tag===3)return u;i=i.return}return[]}function sl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function iE(i,r,o,u,p){for(var y=r._reactName,x=[];o!==null&&o!==u;){var S=o,V=S.alternate,Y=S.stateNode;if(S=S.tag,V!==null&&V===u)break;S!==5&&S!==26&&S!==27||Y===null||(V=Y,p?(Y=ba(o,y),Y!=null&&x.unshift(Gc(o,Y,V))):p||(Y=ba(o,y),Y!=null&&x.push(Gc(o,Y,V)))),o=o.return}x.length!==0&&i.push({event:r,listeners:x})}var PD=/\r\n?/g,OD=/\u0000|\uFFFD/g;function rE(i){return(typeof i=="string"?i:""+i).replace(PD,`
`).replace(OD,"")}function aE(i,r){return r=rE(r),rE(i)===r}function wd(){}function tt(i,r,o,u,p,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||ns(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&ns(i,""+u);break;case"className":Ls(i,"class",u);break;case"tabIndex":Ls(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ls(i,o,u);break;case"style":ac(i,u,y);break;case"data":if(r!=="object"){Ls(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=wo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&tt(i,r,"name",p.name,p,null),tt(i,r,"formEncType",p.formEncType,p,null),tt(i,r,"formMethod",p.formMethod,p,null),tt(i,r,"formTarget",p.formTarget,p,null)):(tt(i,r,"encType",p.encType,p,null),tt(i,r,"method",p.method,p,null),tt(i,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=wo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=wd);break;case"onScroll":u!=null&&Me("scroll",i);break;case"onScrollEnd":u!=null&&Me("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=wo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Me("beforetoggle",i),Me("toggle",i),lr(i,"popover",u);break;case"xlinkActuate":Jt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Jt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Jt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Jt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Jt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Jt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Jt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Jt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Jt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":lr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Lm.get(o)||o,lr(i,o,u))}}function pg(i,r,o,u,p,y){switch(o){case"style":ac(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?ns(i,u):(typeof u=="number"||typeof u=="bigint")&&ns(i,""+u);break;case"onScroll":u!=null&&Me("scroll",i);break;case"onScrollEnd":u!=null&&Me("scrollend",i);break;case"onClick":u!=null&&(i.onclick=wd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),y=i[jt]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(r,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,p);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):lr(i,o,u)}}}function sn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",i),Me("load",i);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var x=o[y];if(x!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,y,x,o,null)}}p&&tt(i,r,"srcSet",o.srcSet,o,null),u&&tt(i,r,"src",o.src,o,null);return;case"input":Me("invalid",i);var S=y=x=p=null,V=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":p=ne;break;case"type":x=ne;break;case"checked":V=ne;break;case"defaultChecked":Y=ne;break;case"value":y=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,r));break;default:tt(i,r,u,ne,o,null)}}ya(i,y,S,V,Y,x,p,!1),xo(i);return;case"select":Me("invalid",i),u=x=y=null;for(p in o)if(o.hasOwnProperty(p)&&(S=o[p],S!=null))switch(p){case"value":y=S;break;case"defaultValue":x=S;break;case"multiple":u=S;default:tt(i,r,p,S,o,null)}r=y,o=x,i.multiple=!!u,r!=null?yi(i,!!u,r,!1):o!=null&&yi(i,!!u,o,!0);return;case"textarea":Me("invalid",i),y=p=u=null;for(x in o)if(o.hasOwnProperty(x)&&(S=o[x],S!=null))switch(x){case"value":u=S;break;case"defaultValue":p=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:tt(i,r,x,S,o,null)}va(i,u,p,y),xo(i);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tt(i,r,V,u,o,null)}return;case"dialog":Me("beforetoggle",i),Me("toggle",i),Me("cancel",i),Me("close",i);break;case"iframe":case"object":Me("load",i);break;case"video":case"audio":for(u=0;u<Hc.length;u++)Me(Hc[u],i);break;case"image":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"embed":case"source":case"link":Me("error",i),Me("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,Y,u,o,null)}return;default:if(oc(r)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&pg(i,r,ne,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&tt(i,r,S,u,o,null))}function MD(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,x=null,S=null,V=null,Y=null,ne=null;for(X in o){var ae=o[X];if(o.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=ae;default:u.hasOwnProperty(X)||tt(i,r,X,null,u,ae)}}for(var Q in u){var X=u[Q];if(ae=o[Q],u.hasOwnProperty(Q)&&(X!=null||ae!=null))switch(Q){case"type":y=X;break;case"name":p=X;break;case"checked":Y=X;break;case"defaultChecked":ne=X;break;case"value":x=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ae&&tt(i,r,Q,X,u,ae)}}Vn(i,x,S,V,Y,ne,y,p);return;case"select":X=x=S=Q=null;for(y in o)if(V=o[y],o.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":X=V;default:u.hasOwnProperty(y)||tt(i,r,y,null,u,V)}for(p in u)if(y=u[p],V=o[p],u.hasOwnProperty(p)&&(y!=null||V!=null))switch(p){case"value":Q=y;break;case"defaultValue":S=y;break;case"multiple":x=y;default:y!==V&&tt(i,r,p,y,u,V)}r=S,o=x,u=X,Q!=null?yi(i,!!o,Q,!1):!!u!=!!o&&(r!=null?yi(i,!!o,r,!0):yi(i,!!o,o?[]:"",!1));return;case"textarea":X=Q=null;for(S in o)if(p=o[S],o.hasOwnProperty(S)&&p!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(i,r,S,null,u,p)}for(x in u)if(p=u[x],y=o[x],u.hasOwnProperty(x)&&(p!=null||y!=null))switch(x){case"value":Q=p;break;case"defaultValue":X=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==y&&tt(i,r,x,p,u,y)}Je(i,Q,X);return;case"option":for(var we in o)if(Q=o[we],o.hasOwnProperty(we)&&Q!=null&&!u.hasOwnProperty(we))switch(we){case"selected":i.selected=!1;break;default:tt(i,r,we,null,u,Q)}for(V in u)if(Q=u[V],X=o[V],u.hasOwnProperty(V)&&Q!==X&&(Q!=null||X!=null))switch(V){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:tt(i,r,V,Q,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Q=o[Te],o.hasOwnProperty(Te)&&Q!=null&&!u.hasOwnProperty(Te)&&tt(i,r,Te,null,u,Q);for(Y in u)if(Q=u[Y],X=o[Y],u.hasOwnProperty(Y)&&Q!==X&&(Q!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:tt(i,r,Y,Q,u,X)}return;default:if(oc(r)){for(var nt in o)Q=o[nt],o.hasOwnProperty(nt)&&Q!==void 0&&!u.hasOwnProperty(nt)&&pg(i,r,nt,void 0,u,Q);for(ne in u)Q=u[ne],X=o[ne],!u.hasOwnProperty(ne)||Q===X||Q===void 0&&X===void 0||pg(i,r,ne,Q,u,X);return}}for(var H in o)Q=o[H],o.hasOwnProperty(H)&&Q!=null&&!u.hasOwnProperty(H)&&tt(i,r,H,null,u,Q);for(ae in u)Q=u[ae],X=o[ae],!u.hasOwnProperty(ae)||Q===X||Q==null&&X==null||tt(i,r,ae,Q,u,X)}var gg=null,yg=null;function Sd(i){return i.nodeType===9?i:i.ownerDocument}function oE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function vg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var _g=null;function kD(){var i=window.event;return i&&i.type==="popstate"?i===_g?!1:(_g=i,!0):(_g=null,!1)}var cE=typeof setTimeout=="function"?setTimeout:void 0,VD=typeof clearTimeout=="function"?clearTimeout:void 0,uE=typeof Promise=="function"?Promise:void 0,LD=typeof queueMicrotask=="function"?queueMicrotask:typeof uE<"u"?function(i){return uE.resolve(null).then(i).catch(UD)}:cE;function UD(i){setTimeout(function(){throw i})}function Ar(i){return i==="head"}function hE(i,r){var o=r,u=0,p=0;do{var y=o.nextSibling;if(i.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<u&&8>u){o=u;var x=i.ownerDocument;if(o&1&&$c(x.documentElement),o&2&&$c(x.body),o&4)for(o=x.head,$c(o),x=o.firstChild;x;){var S=x.nextSibling,V=x.nodeName;x[fa]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=S}}if(p===0){i.removeChild(y),eu(r);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:u=o.charCodeAt(0)-48;else u=0;o=y}while(o);eu(r)}function bg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":bg(o),or(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function BD(i,r,o,u){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[fa])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=As(i.nextSibling),i===null)break}return null}function FD(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=As(i.nextSibling),i===null))return null;return i}function Tg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function zD(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function As(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Eg=null;function dE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function fE(i,r,o){switch(r=Sd(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function $c(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);or(i)}var ds=new Map,mE=new Set;function Ad(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ki=J.d;J.d={f:qD,r:HD,D:GD,C:$D,L:KD,m:YD,X:XD,S:QD,M:WD};function qD(){var i=ki.f(),r=yd();return i||r}function HD(i){var r=ks(i);r!==null&&r.tag===5&&r.type==="form"?O0(r):ki.r(i)}var il=typeof document>"u"?null:document;function pE(i,r,o){var u=il;if(u&&typeof r=="string"&&r){var p=Pt(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),mE.has(p)||(mE.add(p),i={rel:i,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),sn(r,"link",i),wt(r),u.head.appendChild(r)))}}function GD(i){ki.D(i),pE("dns-prefetch",i,null)}function $D(i,r){ki.C(i,r),pE("preconnect",i,r)}function KD(i,r,o){ki.L(i,r,o);var u=il;if(u&&i&&r){var p='link[rel="preload"][as="'+Pt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Pt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Pt(o.imageSizes)+'"]')):p+='[href="'+Pt(i)+'"]';var y=p;switch(r){case"style":y=rl(i);break;case"script":y=al(i)}ds.has(y)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ds.set(y,i),u.querySelector(p)!==null||r==="style"&&u.querySelector(Kc(y))||r==="script"&&u.querySelector(Yc(y))||(r=u.createElement("link"),sn(r,"link",i),wt(r),u.head.appendChild(r)))}}function YD(i,r){ki.m(i,r);var o=il;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Pt(u)+'"][href="'+Pt(i)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=al(i)}if(!ds.has(y)&&(i=v({rel:"modulepreload",href:i},r),ds.set(y,i),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Yc(y)))return}u=o.createElement("link"),sn(u,"link",i),wt(u),o.head.appendChild(u)}}}function QD(i,r,o){ki.S(i,r,o);var u=il;if(u&&i){var p=_n(u).hoistableStyles,y=rl(i);r=r||"default";var x=p.get(y);if(!x){var S={loading:0,preload:null};if(x=u.querySelector(Kc(y)))S.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ds.get(y))&&xg(i,o);var V=x=u.createElement("link");wt(V),sn(V,"link",i),V._p=new Promise(function(Y,ne){V.onload=Y,V.onerror=ne}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Rd(x,r,u)}x={type:"stylesheet",instance:x,count:1,state:S},p.set(y,x)}}}function XD(i,r){ki.X(i,r);var o=il;if(o&&i){var u=_n(o).hoistableScripts,p=al(i),y=u.get(p);y||(y=o.querySelector(Yc(p)),y||(i=v({src:i,async:!0},r),(r=ds.get(p))&&wg(i,r),y=o.createElement("script"),wt(y),sn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function WD(i,r){ki.M(i,r);var o=il;if(o&&i){var u=_n(o).hoistableScripts,p=al(i),y=u.get(p);y||(y=o.querySelector(Yc(p)),y||(i=v({src:i,async:!0,type:"module"},r),(r=ds.get(p))&&wg(i,r),y=o.createElement("script"),wt(y),sn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function gE(i,r,o,u){var p=(p=Ae.current)?Ad(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=rl(o.href),o=_n(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=rl(o.href);var y=_n(p).hoistableStyles,x=y.get(i);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,x),(y=p.querySelector(Kc(i)))&&!y._p&&(x.instance=y,x.state.loading=5),ds.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ds.set(i,o),y||ZD(p,i,o,x.state))),r&&u===null)throw Error(s(528,""));return x}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=al(o),o=_n(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function rl(i){return'href="'+Pt(i)+'"'}function Kc(i){return'link[rel="stylesheet"]['+i+"]"}function yE(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function ZD(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),sn(r,"link",o),wt(r),i.head.appendChild(r))}function al(i){return'[src="'+Pt(i)+'"]'}function Yc(i){return"script[async]"+i}function vE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Pt(o.href)+'"]');if(u)return r.instance=u,wt(u),u;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),wt(u),sn(u,"style",p),Rd(u,o.precedence,i),r.instance=u;case"stylesheet":p=rl(o.href);var y=i.querySelector(Kc(p));if(y)return r.state.loading|=4,r.instance=y,wt(y),y;u=yE(o),(p=ds.get(p))&&xg(u,p),y=(i.ownerDocument||i).createElement("link"),wt(y);var x=y;return x._p=new Promise(function(S,V){x.onload=S,x.onerror=V}),sn(y,"link",u),r.state.loading|=4,Rd(y,o.precedence,i),r.instance=y;case"script":return y=al(o.src),(p=i.querySelector(Yc(y)))?(r.instance=p,wt(p),p):(u=o,(p=ds.get(y))&&(u=v({},o),wg(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),wt(p),sn(p,"link",u),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Rd(u,o.precedence,i));return r.instance}function Rd(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,x=0;x<u.length;x++){var S=u[x];if(S.dataset.precedence===r)y=S;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function xg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function wg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Nd=null;function _E(i,r,o){if(Nd===null){var u=new Map,p=Nd=new Map;p.set(o,u)}else p=Nd,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var y=o[p];if(!(y[fa]||y[Bt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(r)||"";x=i+x;var S=u.get(x);S?S.push(y):u.set(x,[y])}}return u}function bE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function JD(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function TE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Qc=null;function ej(){}function tj(i,r,o){if(Qc===null)throw Error(s(475));var u=Qc;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=rl(o.href),y=i.querySelector(Kc(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Cd.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=y,wt(y);return}y=i.ownerDocument||i,o=yE(o),(p=ds.get(p))&&xg(o,p),y=y.createElement("link"),wt(y);var x=y;x._p=new Promise(function(S,V){x.onload=S,x.onerror=V}),sn(y,"link",o),r.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Cd.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function nj(){if(Qc===null)throw Error(s(475));var i=Qc;return i.stylesheets&&i.count===0&&Sg(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Sg(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Cd(){if(this.count--,this.count===0){if(this.stylesheets)Sg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Id=null;function Sg(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Id=new Map,r.forEach(sj,i),Id=null,Cd.call(i))}function sj(i,r){if(!(r.state.loading&4)){var o=Id.get(i);if(o)var u=o.get(null);else{o=new Map,Id.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var x=p[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),u=x)}u&&o.set(null,u)}p=r.instance,x=p.getAttribute("data-precedence"),y=o.get(x)||u,y===u&&o.set(null,p),o.set(x,p),this.count++,u=Cd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var Xc={$$typeof:F,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function ij(i,r,o,u,p,y,x,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function EE(i,r,o,u,p,y,x,S,V,Y,ne,ae){return i=new ij(i,r,o,x,S,V,Y,ae),r=1,y===!0&&(r|=24),y=Un(3,null,null,r),i.current=y,y.stateNode=i,r=ap(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},up(y),i}function xE(i){return i?(i=Vo,i):Vo}function wE(i,r,o,u,p,y){p=xE(p),u.context===null?u.context=p:u.pendingContext=p,u=fr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=mr(i,u,r),o!==null&&(Hn(o,i,r),Ac(o,i,r))}function SE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Ag(i,r){SE(i,r),(i=i.alternate)&&SE(i,r)}function AE(i){if(i.tag===13){var r=ko(i,67108864);r!==null&&Hn(r,i,67108864),Ag(i,67108864)}}var Dd=!0;function rj(i,r,o,u){var p=G.T;G.T=null;var y=J.p;try{J.p=2,Rg(i,r,o,u)}finally{J.p=y,G.T=p}}function aj(i,r,o,u){var p=G.T;G.T=null;var y=J.p;try{J.p=8,Rg(i,r,o,u)}finally{J.p=y,G.T=p}}function Rg(i,r,o,u){if(Dd){var p=Ng(u);if(p===null)mg(i,r,u,jd,o),NE(i,u);else if(lj(p,i,r,o,u))u.stopPropagation();else if(NE(i,u),r&4&&-1<oj.indexOf(i)){for(;p!==null;){var y=ks(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=Ts(y.pendingLanes);if(x!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var V=1<<31-un(x);S.entanglements[1]|=V,x&=~V}Xs(y),(Xe&6)===0&&(pd=es()+500,qc(0))}}break;case 13:S=ko(y,2),S!==null&&Hn(S,y,2),yd(),Ag(y,2)}if(y=Ng(u),y===null&&mg(i,r,u,jd,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else mg(i,r,u,null,o)}}function Ng(i){return i=ss(i),Cg(i)}var jd=null;function Cg(i){if(jd=null,i=mi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return jd=i,null}function RE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jm()){case Yl:return 2;case po:return 8;case la:case Pm:return 32;case go:return 268435456;default:return 32}default:return 32}}var Ig=!1,Rr=null,Nr=null,Cr=null,Wc=new Map,Zc=new Map,Ir=[],oj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function NE(i,r){switch(i){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":Wc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(r.pointerId)}}function Jc(i,r,o,u,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},r!==null&&(r=ks(r),r!==null&&AE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function lj(i,r,o,u,p){switch(r){case"focusin":return Rr=Jc(Rr,i,r,o,u,p),!0;case"dragenter":return Nr=Jc(Nr,i,r,o,u,p),!0;case"mouseover":return Cr=Jc(Cr,i,r,o,u,p),!0;case"pointerover":var y=p.pointerId;return Wc.set(y,Jc(Wc.get(y)||null,i,r,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,Zc.set(y,Jc(Zc.get(y)||null,i,r,o,u,p)),!0}return!1}function CE(i){var r=mi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,yh(i.priority,function(){if(o.tag===13){var u=qn();u=ir(u);var p=ko(o,u);p!==null&&Hn(p,o,u),Ag(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Ng(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);vi=u,o.target.dispatchEvent(u),vi=null}else return r=ks(o),r!==null&&AE(r),i.blockedOn=o,!1;r.shift()}return!0}function IE(i,r,o){Pd(i)&&o.delete(r)}function cj(){Ig=!1,Rr!==null&&Pd(Rr)&&(Rr=null),Nr!==null&&Pd(Nr)&&(Nr=null),Cr!==null&&Pd(Cr)&&(Cr=null),Wc.forEach(IE),Zc.forEach(IE)}function Od(i,r){i.blockedOn===r&&(i.blockedOn=null,Ig||(Ig=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cj)))}var Md=null;function DE(i){Md!==i&&(Md=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Md===i&&(Md=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],p=i[r+2];if(typeof u!="function"){if(Cg(u||o)===null)continue;break}var y=ks(o);y!==null&&(i.splice(r,3),r-=3,Cp(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function eu(i){function r(V){return Od(V,i)}Rr!==null&&Od(Rr,i),Nr!==null&&Od(Nr,i),Cr!==null&&Od(Cr,i),Wc.forEach(r),Zc.forEach(r);for(var o=0;o<Ir.length;o++){var u=Ir[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ir.length&&(o=Ir[0],o.blockedOn===null);)CE(o),o.blockedOn===null&&Ir.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],x=p[jt]||null;if(typeof y=="function")x||DE(o);else if(x){var S=null;if(y&&y.hasAttribute("formAction")){if(p=y,x=y[jt]||null)S=x.formAction;else if(Cg(p)!==null)continue}else S=x.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),DE(o)}}}function Dg(i){this._internalRoot=i}kd.prototype.render=Dg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=qn();wE(o,u,i,r,null,null)},kd.prototype.unmount=Dg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;wE(i.current,2,null,i,null,null),yd(),r[ts]=null}};function kd(i){this._internalRoot=i}kd.prototype.unstable_scheduleHydration=function(i){if(i){var r=rr();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Ir.length&&r!==0&&r<Ir[o].priority;o++);Ir.splice(o,0,i),o===0&&CE(i)}};var jE=e.version;if(jE!=="19.1.1")throw Error(s(527,jE,"19.1.1"));J.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var uj={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{yt=Vd.inject(uj),Qe=Vd}catch{}}return nu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",p=Y0,y=Q0,x=X0,S=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=EE(i,1,!1,null,null,o,u,p,y,x,S,null),i[ts]=r.current,fg(i),new Dg(r)},nu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,p="",y=Y0,x=Q0,S=X0,V=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),r=EE(i,1,!0,r,o??null,u,p,y,x,S,V,Y),r.context=xE(null),o=r.current,u=qn(),u=ir(u),p=fr(u),p.callback=null,mr(o,p,u),o=u,r.current.lanes=o,fi(r,o),Xs(r),i[ts]=r.current,fg(i),new kd(r)},nu.version="19.1.1",nu}var zE;function bj(){if(zE)return Og.exports;zE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Og.exports=_j(),Og.exports}var Tj=bj();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qE="popstate";function Ej(t={}){function e(a,l){let{pathname:c="/",search:h="",hash:m=""}=lo(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Sy("",{pathname:c,search:h,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");h=g===-1?m:m.slice(0,g)}return h+"#"+(typeof l=="string"?l:Cu(l))}function s(a,l){ys(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return wj(e,n,s,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ys(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xj(){return Math.random().toString(36).substring(2,10)}function HE(t,e){return{usr:t.state,key:t.key,idx:e}}function Sy(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?lo(e):e,state:n,key:e&&e.key||s||xj()}}function Cu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function wj(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,h="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){h="POP";let P=v(),j=P==null?null:P-g;g=P,m&&m({action:h,location:D.location,delta:j})}function T(P,j){h="PUSH";let q=Sy(D.location,P,j);n&&n(q,P),g=v()+1;let F=HE(q,g),W=D.createHref(q);try{c.pushState(F,"",W)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(W)}l&&m&&m({action:h,location:D.location,delta:1})}function w(P,j){h="REPLACE";let q=Sy(D.location,P,j);n&&n(q,P),g=v();let F=HE(q,g),W=D.createHref(q);c.replaceState(F,"",W),l&&m&&m({action:h,location:D.location,delta:0})}function A(P){return Sj(P)}let D={get action(){return h},get location(){return t(a,c)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(qE,b),m=P,()=>{a.removeEventListener(qE,b),m=null}},createHref(P){return e(a,P)},createURL:A,encodeLocation(P){let j=A(P);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:T,replace:w,go(P){return c.go(P)}};return D}function Sj(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Cu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function vA(t,e,n="/"){return Aj(t,e,n,!1)}function Aj(t,e,n,s){let a=typeof e=="string"?lo(e):e,l=qi(a.pathname||"/",n);if(l==null)return null;let c=_A(t);Rj(c);let h=null;for(let m=0;h==null&&m<c.length;++m){let g=Lj(l);h=kj(c[m],g,s)}return h}function _A(t,e=[],n=[],s="",a=!1){let l=(c,h,m=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;dt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Bi([s,v.relativePath]),T=n.concat(v);c.children&&c.children.length>0&&(dt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),_A(c.children,e,T,b,m)),!(c.path==null&&!c.index)&&e.push({path:b,score:Oj(b,c.index),routesMeta:T})};return t.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let m of bA(c.path))l(c,h,!0,m)}),e}function bA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=bA(s.join("/")),h=[];return h.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&h.push(...c),h.map(m=>t.startsWith("/")&&m===""?"/":m)}function Rj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Mj(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Nj=/^:[\w-]+$/,Cj=3,Ij=2,Dj=1,jj=10,Pj=-2,GE=t=>t==="*";function Oj(t,e){let n=t.split("/"),s=n.length;return n.some(GE)&&(s+=Pj),e&&(s+=Ij),n.filter(a=>!GE(a)).reduce((a,l)=>a+(Nj.test(l)?Cj:l===""?Dj:jj),s)}function Mj(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function kj(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let h=0;h<s.length;++h){let m=s[h],g=h===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=vf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),T=m.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=vf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Bi([l,b.pathname]),pathnameBase:zj(Bi([l,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(l=Bi([l,b.pathnameBase]))}return c}function vf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=Vj(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},T)=>{if(v==="*"){let A=h[T]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const w=h[T];return b&&!w?g[v]=void 0:g[v]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function Vj(t,e=!1,n=!0){ys(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,m)=>(s.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function Lj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ys(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function Uj(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?lo(t):t;return{pathname:n?n.startsWith("/")?n:Bj(n,e):e,search:qj(s),hash:Hj(a)}}function Bj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Lg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Av(t){let e=Fj(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Rv(t,e,n,s=!1){let a;typeof t=="string"?a=lo(t):(a={...t},dt(!a.pathname||!a.pathname.includes("?"),Lg("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),Lg("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),Lg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),b-=1;a.pathname=T.join("/")}h=b>=0?e[b]:"/"}let m=Uj(a,h),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Bi=t=>t.join("/").replace(/\/\/+/g,"/"),zj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Hj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Gj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var TA=["POST","PUT","PATCH","DELETE"];new Set(TA);var $j=["GET",...TA];new Set($j);var kl=I.createContext(null);kl.displayName="DataRouter";var Qf=I.createContext(null);Qf.displayName="DataRouterState";I.createContext(!1);var EA=I.createContext({isTransitioning:!1});EA.displayName="ViewTransition";var Kj=I.createContext(new Map);Kj.displayName="Fetchers";var Yj=I.createContext(null);Yj.displayName="Await";var Ds=I.createContext(null);Ds.displayName="Navigation";var $u=I.createContext(null);$u.displayName="Location";var js=I.createContext({outlet:null,matches:[],isDataRoute:!1});js.displayName="Route";var Nv=I.createContext(null);Nv.displayName="RouteError";function Qj(t,{relative:e}={}){dt(Vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=I.useContext(Ds),{hash:a,pathname:l,search:c}=Ku(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Bi([n,l])),s.createHref({pathname:h,search:c,hash:a})}function Vl(){return I.useContext($u)!=null}function bs(){return dt(Vl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext($u).location}var xA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wA(t){I.useContext(Ds).static||I.useLayoutEffect(t)}function Ps(){let{isDataRoute:t}=I.useContext(js);return t?cP():Xj()}function Xj(){dt(Vl(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(kl),{basename:e,navigator:n}=I.useContext(Ds),{matches:s}=I.useContext(js),{pathname:a}=bs(),l=JSON.stringify(Av(s)),c=I.useRef(!1);return wA(()=>{c.current=!0}),I.useCallback((m,g={})=>{if(ys(c.current,xA),!c.current)return;if(typeof m=="number"){n.go(m);return}let v=Rv(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Bi([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}I.createContext(null);function Wj(){let{matches:t}=I.useContext(js),e=t[t.length-1];return e?e.params:{}}function Ku(t,{relative:e}={}){let{matches:n}=I.useContext(js),{pathname:s}=bs(),a=JSON.stringify(Av(n));return I.useMemo(()=>Rv(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function Zj(t,e){return SA(t,e)}function SA(t,e,n,s){dt(Vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=I.useContext(Ds),{matches:l}=I.useContext(js),c=l[l.length-1],h=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let j=v&&v.path||"";AA(m,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=bs(),T;if(e){let j=typeof e=="string"?lo(e):e;dt(g==="/"||j.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),T=j}else T=b;let w=T.pathname||"/",A=w;if(g!=="/"){let j=g.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let D=vA(t,{pathname:A});ys(v||D!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),ys(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=sP(D&&D.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:Bi([g,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:Bi([g,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,n,s);return e&&P?I.createElement($u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},P):P}function Jj(){let t=lP(),e=Gj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,c)}var eP=I.createElement(Jj,null),tP=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(js.Provider,{value:this.props.routeContext},I.createElement(Nv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nP({routeContext:t,match:e,children:n}){let s=I.useContext(kl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(js.Provider,{value:t},n)}function sP(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,h=-1;if(n)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:v,errors:b}=n,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||T){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((m,g,v)=>{let b,T=!1,w=null,A=null;n&&(b=l&&g.route.id?l[g.route.id]:void 0,w=g.route.errorElement||eP,c&&(h<0&&v===0?(AA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,A=null):h===v&&(T=!0,A=g.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,v+1)),P=()=>{let j;return b?j=w:T?j=A:g.route.Component?j=I.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=m,I.createElement(nP,{match:g,routeContext:{outlet:m,matches:D,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?I.createElement(tP,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:P(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):P()},null)}function Cv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iP(t){let e=I.useContext(kl);return dt(e,Cv(t)),e}function rP(t){let e=I.useContext(Qf);return dt(e,Cv(t)),e}function aP(t){let e=I.useContext(js);return dt(e,Cv(t)),e}function Iv(t){let e=aP(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function oP(){return Iv("useRouteId")}function lP(){let t=I.useContext(Nv),e=rP("useRouteError"),n=Iv("useRouteError");return t!==void 0?t:e.errors?.[n]}function cP(){let{router:t}=iP("useNavigate"),e=Iv("useNavigate"),n=I.useRef(!1);return wA(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{ys(n.current,xA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var $E={};function AA(t,e,n){!e&&!$E[t]&&($E[t]=!0,ys(!1,n))}I.memo(uP);function uP({routes:t,future:e,state:n}){return SA(t,void 0,n,e)}function Ay({to:t,replace:e,state:n,relative:s}){dt(Vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(Ds);ys(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(js),{pathname:c}=bs(),h=Ps(),m=Rv(t,Av(l),c,s==="path"),g=JSON.stringify(m);return I.useEffect(()=>{h(JSON.parse(g),{replace:e,state:n,relative:s})},[h,g,s,e,n]),null}function Rt(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hP({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){dt(!Vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=I.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=lo(n));let{pathname:m="/",search:g="",hash:v="",state:b=null,key:T="default"}=n,w=I.useMemo(()=>{let A=qi(m,c);return A==null?null:{location:{pathname:A,search:g,hash:v,state:b,key:T},navigationType:s}},[c,m,g,v,b,T,s]);return ys(w!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:I.createElement(Ds.Provider,{value:h},I.createElement($u.Provider,{children:e,value:w}))}function dP({children:t,location:e}){return Zj(Ry(t),e)}function Ry(t,e=[]){let n=[];return I.Children.forEach(t,(s,a)=>{if(!I.isValidElement(s))return;let l=[...e,a];if(s.type===I.Fragment){n.push.apply(n,Ry(s.props.children,l));return}dt(s.type===Rt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Ry(s.props.children,l)),n.push(c)}),n}var ef="get",tf="application/x-www-form-urlencoded";function Xf(t){return t!=null&&typeof t.tagName=="string"}function fP(t){return Xf(t)&&t.tagName.toLowerCase()==="button"}function mP(t){return Xf(t)&&t.tagName.toLowerCase()==="form"}function pP(t){return Xf(t)&&t.tagName.toLowerCase()==="input"}function gP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yP(t,e){return t.button===0&&(!e||e==="_self")&&!gP(t)}var Ld=null;function vP(){if(Ld===null)try{new FormData(document.createElement("form"),0),Ld=!1}catch{Ld=!0}return Ld}var _P=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ug(t){return t!=null&&!_P.has(t)?(ys(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tf}"`),null):t}function bP(t,e){let n,s,a,l,c;if(mP(t)){let h=t.getAttribute("action");s=h?qi(h,e):null,n=t.getAttribute("method")||ef,a=Ug(t.getAttribute("enctype"))||tf,l=new FormData(t)}else if(fP(t)||pP(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||h.getAttribute("action");if(s=m?qi(m,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||ef,a=Ug(t.getAttribute("formenctype"))||Ug(h.getAttribute("enctype"))||tf,l=new FormData(h,t),!vP()){let{name:g,type:v,value:b}=t;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,b)}}else{if(Xf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ef,s=null,a=tf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function TP(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&qi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function EP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wP(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await EP(l,n);return c.links?c.links():[]}return[]}));return NP(s.flat(1).filter(xP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function KE(t,e,n,s,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,h=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||h(m,g)):l==="data"?e.filter((m,g)=>{let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||h(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function SP(t,e,{includeHydrateFallback:n}={}){return AP(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function AP(t){return[...new Set(t)]}function RP(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function NP(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(RP(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function RA(){let t=I.useContext(kl);return Dv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function CP(){let t=I.useContext(Qf);return Dv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jv=I.createContext(void 0);jv.displayName="FrameworkContext";function NA(){let t=I.useContext(jv);return Dv(t,"You must render this element inside a <HydratedRouter> element"),t}function IP(t,e){let n=I.useContext(jv),[s,a]=I.useState(!1),[l,c]=I.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,T=I.useRef(null);I.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=j=>{j.forEach(q=>{c(q.isIntersecting)})},P=new IntersectionObserver(D,{threshold:.5});return T.current&&P.observe(T.current),()=>{P.disconnect()}}},[t]),I.useEffect(()=>{if(s){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[s]);let w=()=>{a(!0)},A=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:su(h,w),onBlur:su(m,A),onMouseEnter:su(g,w),onMouseLeave:su(v,A),onTouchStart:su(b,w)}]:[!1,T,{}]}function su(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function DP({page:t,...e}){let{router:n}=RA(),s=I.useMemo(()=>vA(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?I.createElement(PP,{page:t,matches:s,...e}):null}function jP(t){let{manifest:e,routeModules:n}=NA(),[s,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return wP(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function PP({page:t,matches:e,...n}){let s=bs(),{manifest:a,routeModules:l}=NA(),{basename:c}=RA(),{loaderData:h,matches:m}=CP(),g=I.useMemo(()=>KE(t,e,m,a,s,"data"),[t,e,m,a,s]),v=I.useMemo(()=>KE(t,e,m,a,s,"assets"),[t,e,m,a,s]),b=I.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let A=new Set,D=!1;if(e.forEach(j=>{let q=a.routes[j.route.id];!q||!q.hasLoader||(!g.some(F=>F.route.id===j.route.id)&&j.route.id in h&&l[j.route.id]?.shouldRevalidate||q.hasClientLoader?D=!0:A.add(j.route.id))}),A.size===0)return[];let P=TP(t,c,"data");return D&&A.size>0&&P.searchParams.set("_routes",e.filter(j=>A.has(j.route.id)).map(j=>j.route.id).join(",")),[P.pathname+P.search]},[c,h,s,a,g,e,t,l]),T=I.useMemo(()=>SP(v,a),[v,a]),w=jP(v);return I.createElement(I.Fragment,null,b.map(A=>I.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),T.map(A=>I.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),w.map(({key:A,link:D})=>I.createElement("link",{key:A,nonce:n.nonce,...D})))}function OP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CA&&(window.__reactRouterVersion="7.8.1")}catch{}function MP({basename:t,children:e,window:n}){let s=I.useRef();s.current==null&&(s.current=Ej({window:n,v5Compat:!0}));let a=s.current,[l,c]=I.useState({action:a.action,location:a.location}),h=I.useCallback(m=>{I.startTransition(()=>c(m))},[c]);return I.useLayoutEffect(()=>a.listen(h),[a,h]),I.createElement(hP,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var IA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=I.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:h,target:m,to:g,preventScrollReset:v,viewTransition:b,...T},w){let{basename:A}=I.useContext(Ds),D=typeof g=="string"&&IA.test(g),P,j=!1;if(typeof g=="string"&&D&&(P=g,CA))try{let C=new URL(window.location.href),M=g.startsWith("//")?new URL(C.protocol+g):new URL(g),U=qi(M.pathname,A);M.origin===C.origin&&U!=null?g=U+M.search+M.hash:j=!0}catch{ys(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=Qj(g,{relative:a}),[F,W,ee]=IP(s,T),ue=LP(g,{replace:c,state:h,target:m,preventScrollReset:v,relative:a,viewTransition:b});function k(C){e&&e(C),C.defaultPrevented||ue(C)}let N=I.createElement("a",{...T,...ee,href:P||q,onClick:j||l?e:k,ref:OP(w,W),target:m,"data-discover":!D&&n==="render"?"true":void 0});return F&&!D?I.createElement(I.Fragment,null,N,I.createElement(DP,{page:q})):N});qe.displayName="Link";var cl=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:h,children:m,...g},v){let b=Ku(c,{relative:g.relative}),T=bs(),w=I.useContext(Qf),{navigator:A,basename:D}=I.useContext(Ds),P=w!=null&&qP(b)&&h===!0,j=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,q=T.pathname,F=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(q=q.toLowerCase(),F=F?F.toLowerCase():null,j=j.toLowerCase()),F&&D&&(F=qi(F,D)||F);const W=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ee=q===j||!a&&q.startsWith(j)&&q.charAt(W)==="/",ue=F!=null&&(F===j||!a&&F.startsWith(j)&&F.charAt(j.length)==="/"),k={isActive:ee,isPending:ue,isTransitioning:P},N=ee?e:void 0,C;typeof s=="function"?C=s(k):C=[s,ee?"active":null,ue?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(k):l;return I.createElement(qe,{...g,"aria-current":N,className:C,ref:v,style:M,to:c,viewTransition:h},typeof m=="function"?m(k):m)});cl.displayName="NavLink";var kP=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=ef,action:h,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:b,...T},w)=>{let A=FP(),D=zP(h,{relative:g}),P=c.toLowerCase()==="get"?"get":"post",j=typeof h=="string"&&IA.test(h),q=F=>{if(m&&m(F),F.defaultPrevented)return;F.preventDefault();let W=F.nativeEvent.submitter,ee=W?.getAttribute("formmethod")||c;A(W||F.currentTarget,{fetcherKey:e,method:ee,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:b})};return I.createElement("form",{ref:w,method:P,action:D,onSubmit:s?m:q,...T,"data-discover":!j&&t==="render"?"true":void 0})});kP.displayName="Form";function VP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DA(t){let e=I.useContext(kl);return dt(e,VP(t)),e}function LP(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let h=Ps(),m=bs(),g=Ku(t,{relative:l});return I.useCallback(v=>{if(yP(v,e)){v.preventDefault();let b=n!==void 0?n:Cu(m)===Cu(g);h(t,{replace:b,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,h,g,n,s,e,t,a,l,c])}var UP=0,BP=()=>`__${String(++UP)}__`;function FP(){let{router:t}=DA("useSubmit"),{basename:e}=I.useContext(Ds),n=oP();return I.useCallback(async(s,a={})=>{let{action:l,method:c,encType:h,formData:m,body:g}=bP(s,e);if(a.navigate===!1){let v=a.fetcherKey||BP();await t.fetch(v,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function zP(t,{relative:e}={}){let{basename:n}=I.useContext(Ds),s=I.useContext(js);dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Ku(t||".",{relative:e})},c=bs();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),m=h.getAll("index");if(m.some(v=>v==="")){h.delete("index"),m.filter(b=>b).forEach(b=>h.append("index",b));let v=h.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Bi([n,l.pathname])),Cu(l)}function qP(t,{relative:e}={}){let n=I.useContext(EA);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DA("useViewTransitionState"),a=Ku(t,{relative:e});if(!n.isTransitioning)return!1;let l=qi(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=qi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vf(a.pathname,c)!=null||vf(a.pathname,l)!=null}const Pv=I.createContext({});function Ov(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const Mv=typeof window<"u",jA=Mv?I.useLayoutEffect:I.useEffect,Wf=I.createContext(null);function kv(t,e){t.indexOf(e)===-1&&t.push(e)}function Vv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Hi=(t,e,n)=>n>e?e:n<t?t:n;let Lv=()=>{};const Gi={},PA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function OA(t){return typeof t=="object"&&t!==null}const MA=t=>/^0[^.\s]+$/u.test(t);function Uv(t){let e;return()=>(e===void 0&&(e=t()),e)}const gs=t=>t,HP=(t,e)=>n=>e(t(n)),Yu=(...t)=>t.reduce(HP),Iu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Bv{constructor(){this.subscriptions=[]}add(e){return kv(this.subscriptions,e),()=>Vv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Js=t=>t*1e3,ei=t=>t/1e3;function kA(t,e){return e?t*(1e3/e):0}const VA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,GP=1e-7,$P=12;function KP(t,e,n,s,a){let l,c,h=0;do c=e+(n-e)/2,l=VA(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>GP&&++h<$P);return c}function Qu(t,e,n,s){if(t===e&&n===s)return gs;const a=l=>KP(l,0,1,t,n);return l=>l===0||l===1?l:VA(a(l),e,s)}const LA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,UA=t=>e=>1-t(1-e),BA=Qu(.33,1.53,.69,.99),Fv=UA(BA),FA=LA(Fv),zA=t=>(t*=2)<1?.5*Fv(t):.5*(2-Math.pow(2,-10*(t-1))),zv=t=>1-Math.sin(Math.acos(t)),qA=UA(zv),HA=LA(zv),YP=Qu(.42,0,1,1),QP=Qu(0,0,.58,1),GA=Qu(.42,0,.58,1),XP=t=>Array.isArray(t)&&typeof t[0]!="number",$A=t=>Array.isArray(t)&&typeof t[0]=="number",WP={linear:gs,easeIn:YP,easeInOut:GA,easeOut:QP,circIn:zv,circInOut:HA,circOut:qA,backIn:Fv,backInOut:FA,backOut:BA,anticipate:zA},ZP=t=>typeof t=="string",YE=t=>{if($A(t)){Lv(t.length===4);const[e,n,s,a]=t;return Qu(e,n,s,a)}else if(ZP(t))return WP[t];return t},Ud=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function JP(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(g.schedule(v),t()),v(h)}const g={schedule:(v,b=!1,T=!1)=>{const A=T&&a?n:s;return b&&c.add(v),A.has(v)||A.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(h=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const e2=40;function KA(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Ud.reduce((F,W)=>(F[W]=JP(l),F),{}),{setup:h,read:m,resolveKeyframes:g,preUpdate:v,update:b,preRender:T,render:w,postRender:A}=c,D=()=>{const F=Gi.useManualTiming?a.timestamp:performance.now();n=!1,Gi.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,e2),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),m.process(a),g.process(a),v.process(a),b.process(a),T.process(a),w.process(a),A.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(D))},P=()=>{n=!0,s=!0,a.isProcessing||t(D)};return{schedule:Ud.reduce((F,W)=>{const ee=c[W];return F[W]=(ue,k=!1,N=!1)=>(n||P(),ee.schedule(ue,k,N)),F},{}),cancel:F=>{for(let W=0;W<Ud.length;W++)c[Ud[W]].cancel(F)},state:a,steps:c}}const{schedule:ht,cancel:Gr,state:an,steps:Bg}=KA(typeof requestAnimationFrame<"u"?requestAnimationFrame:gs,!0);let nf;function t2(){nf=void 0}const Pn={now:()=>(nf===void 0&&Pn.set(an.isProcessing||Gi.useManualTiming?an.timestamp:performance.now()),nf),set:t=>{nf=t,queueMicrotask(t2)}},YA=t=>e=>typeof e=="string"&&e.startsWith(t),qv=YA("--"),n2=YA("var(--"),Hv=t=>n2(t)?s2.test(t.split("/*")[0].trim()):!1,s2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ll={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Du={...Ll,transform:t=>Hi(0,1,t)},Bd={...Ll,default:1},gu=t=>Math.round(t*1e5)/1e5,Gv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function i2(t){return t==null}const r2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$v=(t,e)=>n=>!!(typeof n=="string"&&r2.test(n)&&n.startsWith(t)||e&&!i2(n)&&Object.prototype.hasOwnProperty.call(n,e)),QA=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,h]=s.match(Gv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},a2=t=>Hi(0,255,t),Fg={...Ll,transform:t=>Math.round(a2(t))},Ga={test:$v("rgb","red"),parse:QA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Fg.transform(t)+", "+Fg.transform(e)+", "+Fg.transform(n)+", "+gu(Du.transform(s))+")"};function o2(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Ny={test:$v("#"),parse:o2,transform:Ga.transform},Xu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Or=Xu("deg"),ti=Xu("%"),Se=Xu("px"),l2=Xu("vh"),c2=Xu("vw"),QE={...ti,parse:t=>ti.parse(t)/100,transform:t=>ti.transform(t*100)},ml={test:$v("hsl","hue"),parse:QA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ti.transform(gu(e))+", "+ti.transform(gu(n))+", "+gu(Du.transform(s))+")"},Vt={test:t=>Ga.test(t)||Ny.test(t)||ml.test(t),parse:t=>Ga.test(t)?Ga.parse(t):ml.test(t)?ml.parse(t):Ny.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ga.transform(t):ml.transform(t),getAnimatableNone:t=>{const e=Vt.parse(t);return e.alpha=0,Vt.transform(e)}},u2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function h2(t){return isNaN(t)&&typeof t=="string"&&(t.match(Gv)?.length||0)+(t.match(u2)?.length||0)>0}const XA="number",WA="color",d2="var",f2="var(",XE="${}",m2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ju(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(m2,m=>(Vt.test(m)?(s.color.push(l),a.push(WA),n.push(Vt.parse(m))):m.startsWith(f2)?(s.var.push(l),a.push(d2),n.push(m)):(s.number.push(l),a.push(XA),n.push(parseFloat(m))),++l,XE)).split(XE);return{values:n,split:h,indexes:s,types:a}}function ZA(t){return ju(t).values}function JA(t){const{split:e,types:n}=ju(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===XA?l+=gu(a[c]):h===WA?l+=Vt.transform(a[c]):l+=a[c]}return l}}const p2=t=>typeof t=="number"?0:Vt.test(t)?Vt.getAnimatableNone(t):t;function g2(t){const e=ZA(t);return JA(t)(e.map(p2))}const $r={test:h2,parse:ZA,createTransformer:JA,getAnimatableNone:g2};function zg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function y2({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,m=2*n-h;a=zg(m,h,t+1/3),l=zg(m,h,t),c=zg(m,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function _f(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,qg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},v2=[Ny,Ga,ml],_2=t=>v2.find(e=>e.test(t));function WE(t){const e=_2(t);if(!e)return!1;let n=e.parse(t);return e===ml&&(n=y2(n)),n}const ZE=(t,e)=>{const n=WE(t),s=WE(e);if(!n||!s)return _f(t,e);const a={...n};return l=>(a.red=qg(n.red,s.red,l),a.green=qg(n.green,s.green,l),a.blue=qg(n.blue,s.blue,l),a.alpha=pt(n.alpha,s.alpha,l),Ga.transform(a))},Cy=new Set(["none","hidden"]);function b2(t,e){return Cy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function T2(t,e){return n=>pt(t,e,n)}function Kv(t){return typeof t=="number"?T2:typeof t=="string"?Hv(t)?_f:Vt.test(t)?ZE:w2:Array.isArray(t)?e1:typeof t=="object"?Vt.test(t)?ZE:E2:_f}function e1(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Kv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function E2(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Kv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function x2(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],h=t.values[c]??0;n[a]=h,s[l]++}return n}const w2=(t,e)=>{const n=$r.createTransformer(e),s=ju(t),a=ju(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Cy.has(t)&&!a.values.length||Cy.has(e)&&!s.values.length?b2(t,e):Yu(e1(x2(s,a),a.values),n):_f(t,e)};function t1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):Kv(t)(t,e)}const S2=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>Gr(e),now:()=>an.isProcessing?an.timestamp:Pn.now()}},n1=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},bf=2e4;function Yv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<bf;)e+=n,s=t.next(e);return e>=bf?1/0:e}function A2(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Yv(s),bf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ei(a)}}const R2=5;function s1(t,e,n){const s=Math.max(e-R2,0);return kA(n-t(s),e-s)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hg=.001;function N2({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:s=bt.mass}){let a,l,c=1-e;c=Hi(bt.minDamping,bt.maxDamping,c),t=Hi(bt.minDuration,bt.maxDuration,ei(t)),c<1?(a=g=>{const v=g*c,b=v*t,T=v-n,w=Iy(g,c),A=Math.exp(-b);return Hg-T/w*A},l=g=>{const b=g*c*t,T=b*n+n,w=Math.pow(c,2)*Math.pow(g,2)*t,A=Math.exp(-b),D=Iy(Math.pow(g,2),c);return(-a(g)+Hg>0?-1:1)*((T-w)*A)/D}):(a=g=>{const v=Math.exp(-g*t),b=(g-n)*t+1;return-Hg+v*b},l=g=>{const v=Math.exp(-g*t),b=(n-g)*(t*t);return v*b});const h=5/t,m=I2(a,l,h);if(t=Js(t),isNaN(m))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:t}}}const C2=12;function I2(t,e,n){let s=n;for(let a=1;a<C2;a++)s=s-t(s)/e(s);return s}function Iy(t,e){return t*Math.sqrt(1-e*e)}const D2=["duration","bounce"],j2=["stiffness","damping","mass"];function JE(t,e){return e.some(n=>t[n]!==void 0)}function P2(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!JE(t,j2)&&JE(t,D2))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Hi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:bt.mass,stiffness:a,damping:l}}else{const n=N2(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function Tf(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:m,damping:g,mass:v,duration:b,velocity:T,isResolvedFromDuration:w}=P2({...n,velocity:-ei(n.velocity||0)}),A=T||0,D=g/(2*Math.sqrt(m*v)),P=c-l,j=ei(Math.sqrt(m/v)),q=Math.abs(P)<5;s||(s=q?bt.restSpeed.granular:bt.restSpeed.default),a||(a=q?bt.restDelta.granular:bt.restDelta.default);let F;if(D<1){const ee=Iy(j,D);F=ue=>{const k=Math.exp(-D*j*ue);return c-k*((A+D*j*P)/ee*Math.sin(ee*ue)+P*Math.cos(ee*ue))}}else if(D===1)F=ee=>c-Math.exp(-j*ee)*(P+(A+j*P)*ee);else{const ee=j*Math.sqrt(D*D-1);F=ue=>{const k=Math.exp(-D*j*ue),N=Math.min(ee*ue,300);return c-k*((A+D*j*P)*Math.sinh(N)+ee*P*Math.cosh(N))/ee}}const W={calculatedDuration:w&&b||null,next:ee=>{const ue=F(ee);if(w)h.done=ee>=b;else{let k=ee===0?A:0;D<1&&(k=ee===0?Js(A):s1(F,ee,ue));const N=Math.abs(k)<=s,C=Math.abs(c-ue)<=a;h.done=N&&C}return h.value=h.done?c:ue,h},toString:()=>{const ee=Math.min(Yv(W),bf),ue=n1(k=>W.next(ee*k).value,ee,30);return ee+"ms "+ue},toTransition:()=>{}};return W}Tf.applyToOptions=t=>{const e=A2(t,100,Tf);return t.ease=e.ease,t.duration=Js(e.duration),t.type="keyframes",t};function Dy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:m,restDelta:g=.5,restSpeed:v}){const b=t[0],T={done:!1,value:b},w=N=>h!==void 0&&N<h||m!==void 0&&N>m,A=N=>h===void 0?m:m===void 0||Math.abs(h-N)<Math.abs(m-N)?h:m;let D=n*e;const P=b+D,j=c===void 0?P:c(P);j!==P&&(D=j-b);const q=N=>-D*Math.exp(-N/s),F=N=>j+q(N),W=N=>{const C=q(N),M=F(N);T.done=Math.abs(C)<=g,T.value=T.done?j:M};let ee,ue;const k=N=>{w(T.value)&&(ee=N,ue=Tf({keyframes:[T.value,A(T.value)],velocity:s1(F,N,T.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return k(0),{calculatedDuration:null,next:N=>{let C=!1;return!ue&&ee===void 0&&(C=!0,W(N),k(N)),ee!==void 0&&N>=ee?ue.next(N-ee):(!C&&W(N),T)}}}function O2(t,e,n){const s=[],a=n||Gi.mix||t1,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||gs:e;h=Yu(m,h)}s.push(h)}return s}function M2(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Lv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=O2(e,s,a),m=h.length,g=v=>{if(c&&v<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const T=Iu(t[b],t[b+1],v);return h[b](T)};return n?v=>g(Hi(t[0],t[l-1],v)):g}function k2(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Iu(0,e,s);t.push(pt(n,1,a))}}function V2(t){const e=[0];return k2(e,t.length-1),e}function L2(t,e){return t.map(n=>n*e)}function U2(t,e){return t.map(()=>e||GA).splice(0,t.length-1)}function yu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=XP(s)?s.map(YE):YE(s),l={done:!1,value:e[0]},c=L2(n&&n.length===e.length?n:V2(e),t),h=M2(c,e,{ease:Array.isArray(a)?a:U2(e,a)});return{calculatedDuration:t,next:m=>(l.value=h(m),l.done=m>=t,l)}}const B2=t=>t!==null;function Qv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(B2),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const F2={decay:Dy,inertia:Dy,tween:yu,keyframes:yu,spring:Tf};function i1(t){typeof t.type=="string"&&(t.type=F2[t.type])}class Xv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const z2=t=>t/100;class Wv extends Xv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Pn.now()&&this.tick(Pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;i1(e);const{type:n=yu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const m=n||yu;m!==yu&&typeof h[0]!="number"&&(this.mixKeyframes=Yu(z2,t1(h[0],h[1])),h=[0,100]);const g=m({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Yv(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:b,repeatType:T,repeatDelay:w,type:A,onUpdate:D,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-g*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,W=s;if(b){const N=Math.min(this.currentTime,a)/h;let C=Math.floor(N),M=N%1;!M&&N>=1&&(M=1),M===1&&C--,C=Math.min(C,b+1),!!(C%2)&&(T==="reverse"?(M=1-M,w&&(M-=w/h)):T==="mirror"&&(W=c)),F=Hi(0,1,M)*h}const ee=q?{done:!1,value:v[0]}:W.next(F);l&&(ee.value=l(ee.value));let{done:ue}=ee;!q&&m!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return k&&A!==Dy&&(ee.value=Qv(v,this.options,P,this.speed)),D&&D(ee.value),k&&this.finish(),ee}then(e,n){return this.finished.then(e,n)}get duration(){return ei(this.calculatedDuration)}get time(){return ei(this.currentTime)}set time(e){e=Js(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ei(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=S2,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function q2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const $a=t=>t*180/Math.PI,jy=t=>{const e=$a(Math.atan2(t[1],t[0]));return Py(e)},H2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jy,rotateZ:jy,skewX:t=>$a(Math.atan(t[1])),skewY:t=>$a(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Py=t=>(t=t%360,t<0&&(t+=360),t),ex=jy,tx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),nx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),G2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tx,scaleY:nx,scale:t=>(tx(t)+nx(t))/2,rotateX:t=>Py($a(Math.atan2(t[6],t[5]))),rotateY:t=>Py($a(Math.atan2(-t[2],t[0]))),rotateZ:ex,rotate:ex,skewX:t=>$a(Math.atan(t[4])),skewY:t=>$a(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Oy(t){return t.includes("scale")?1:0}function My(t,e){if(!t||t==="none")return Oy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=G2,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=H2,a=h}if(!a)return Oy(e);const l=s[e],c=a[1].split(",").map(K2);return typeof l=="function"?l(c):c[l]}const $2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return My(n,e)};function K2(t){return parseFloat(t.trim())}const Ul=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bl=new Set(Ul),sx=t=>t===Ll||t===Se,Y2=new Set(["x","y","z"]),Q2=Ul.filter(t=>!Y2.has(t));function X2(t){const e=[];return Q2.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Qa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>My(e,"x"),y:(t,{transform:e})=>My(e,"y")};Qa.translateX=Qa.x;Qa.translateY=Qa.y;const Xa=new Set;let ky=!1,Vy=!1,Ly=!1;function r1(){if(Vy){const t=Array.from(Xa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=X2(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Vy=!1,ky=!1,Xa.forEach(t=>t.complete(Ly)),Xa.clear()}function a1(){Xa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Vy=!0)})}function W2(){Ly=!0,a1(),r1(),Ly=!1}class Zv{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Xa.add(this),ky||(ky=!0,ht.read(a1),ht.resolveKeyframes(r1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}q2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xa.delete(this)}cancel(){this.state==="scheduled"&&(Xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Z2=t=>t.startsWith("--");function J2(t,e,n){Z2(e)?t.style.setProperty(e,n):t.style[e]=n}const eO=Uv(()=>window.ScrollTimeline!==void 0),tO={};function nO(t,e){const n=Uv(t);return()=>tO[e]??n()}const o1=nO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,ix={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cu([0,.65,.55,1]),circOut:cu([.55,0,1,.45]),backIn:cu([.31,.01,.66,-.59]),backOut:cu([.33,1.53,.69,.99])};function l1(t,e){if(t)return typeof t=="function"?o1()?n1(t,e):"ease-out":$A(t)?cu(t):Array.isArray(t)?t.map(n=>l1(n,e)||ix.easeOut):ix[t]}function sO(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:m}={},g=void 0){const v={[e]:n};m&&(v.offset=m);const b=l1(h,a);Array.isArray(b)&&(v.easing=b);const T={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(T.pseudoElement=g),t.animate(v,T)}function c1(t){return typeof t=="function"&&"applyToOptions"in t}function iO({type:t,...e}){return c1(t)&&o1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class rO extends Xv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Lv(typeof e.type!="string");const g=iO(e);this.animation=sO(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Qv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):J2(n,s,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ei(Number(e))}get time(){return ei(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Js(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&eO()?(this.animation.timeline=e,gs):n(this)}}const u1={anticipate:zA,backInOut:FA,circInOut:HA};function aO(t){return t in u1}function oO(t){typeof t.ease=="string"&&aO(t.ease)&&(t.ease=u1[t.ease])}const rx=10;class lO extends rO{constructor(e){oO(e),i1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Wv({...c,autoplay:!1}),m=Js(this.finishedTime??this.time);n.setWithVelocity(h.sample(m-rx).value,h.sample(m).value,rx),h.stop()}}const ax=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($r.test(t)||t==="0")&&!t.startsWith("url("));function cO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function uO(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=ax(a,e),h=ax(l,e);return!c||!h?!1:cO(t)||(n==="spring"||c1(n))&&s}function Uy(t){t.duration=0,t.type}const hO=new Set(["opacity","clipPath","filter","transform"]),dO=Uv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fO(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return dO()&&n&&hO.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const mO=40;class pO extends Xv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:m,motionValue:g,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pn.now();const T={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:v,...b},w=v?.KeyframeResolver||Zv;this.keyframeResolver=new w(h,(A,D,P)=>this.onKeyframesResolved(A,D,T,!P),m,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:m,isHandoff:g,onUpdate:v}=s;this.resolvedAt=Pn.now(),uO(e,l,c,h)||((Gi.instantAnimations||!m)&&v?.(Qv(e,s,n)),e[0]=e[e.length-1],Uy(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>mO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!g&&fO(T)?new lO({...T,element:T.motionValue.owner.current}):new Wv(T);w.finished.then(()=>this.notifyFinished()).catch(gs),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),W2()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const gO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yO(t){const e=gO.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function h1(t,e,n=1){const[s,a]=yO(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return PA(c)?parseFloat(c):c}return Hv(a)?h1(a,e,n+1):a}function Jv(t,e){return t?.[e]??t?.default??t}const d1=new Set(["width","height","top","left","right","bottom",...Ul]),vO={test:t=>t==="auto",parse:t=>t},f1=t=>e=>e.test(t),m1=[Ll,Se,ti,Or,c2,l2,vO],ox=t=>m1.find(f1(t));function _O(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||MA(t):!0}const bO=new Set(["brightness","contrast","saturate","opacity"]);function TO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Gv)||[];if(!s)return t;const a=n.replace(s,"");let l=bO.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const EO=/\b([a-z-]*)\(.*?\)/gu,By={...$r,getAnimatableNone:t=>{const e=t.match(EO);return e?e.map(TO).join(" "):t}},lx={...Ll,transform:Math.round},xO={rotate:Or,rotateX:Or,rotateY:Or,rotateZ:Or,scale:Bd,scaleX:Bd,scaleY:Bd,scaleZ:Bd,skew:Or,skewX:Or,skewY:Or,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:Du,originX:QE,originY:QE,originZ:Se},e_={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se,...xO,zIndex:lx,fillOpacity:Du,strokeOpacity:Du,numOctaves:lx},wO={...e_,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:By,WebkitFilter:By},p1=t=>wO[t];function g1(t,e){let n=p1(t);return n!==By&&(n=$r),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const SO=new Set(["auto","none","0"]);function AO(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!SO.has(l)&&ju(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=g1(n,a)}class RO extends Zv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Hv(g))){const v=h1(g,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!d1.has(s)||e.length!==2)return;const[a,l]=e,c=ox(a),h=ox(l);if(c!==h)if(sx(c)&&sx(h))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else Qa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||_O(e[a]))&&s.push(a);s.length&&AO(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Qa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function NO(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const y1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function v1(t){return OA(t)&&"offsetHeight"in t}const cx=30,CO=t=>!isNaN(parseFloat(t));class IO{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Pn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=CO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Bv);const s=this.events[e].add(n);return e==="change"?()=>{s(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cx);return kA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sl(t,e){return new IO(t,e)}const{schedule:t_}=KA(queueMicrotask,!1),Rs={x:!1,y:!1};function _1(){return Rs.x||Rs.y}function DO(t){return t==="x"||t==="y"?Rs[t]?null:(Rs[t]=!0,()=>{Rs[t]=!1}):Rs.x||Rs.y?null:(Rs.x=Rs.y=!0,()=>{Rs.x=Rs.y=!1})}function b1(t,e){const n=NO(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function ux(t){return!(t.pointerType==="touch"||_1())}function jO(t,e,n={}){const[s,a,l]=b1(t,n),c=h=>{if(!ux(h))return;const{target:m}=h,g=e(m,h);if(typeof g!="function"||!m)return;const v=b=>{ux(b)&&(g(b),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const T1=(t,e)=>e?t===e?!0:T1(t,e.parentElement):!1,n_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,PO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OO(t){return PO.has(t.tagName)||t.tabIndex!==-1}const sf=new WeakSet;function hx(t){return e=>{e.key==="Enter"&&t(e)}}function Gg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const MO=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=hx(()=>{if(sf.has(n))return;Gg(n,"down");const a=hx(()=>{Gg(n,"up")}),l=()=>Gg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function dx(t){return n_(t)&&!_1()}function kO(t,e,n={}){const[s,a,l]=b1(t,n),c=h=>{const m=h.currentTarget;if(!dx(h))return;sf.add(m);const g=e(m,h),v=(w,A)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",T),sf.has(m)&&sf.delete(m),dx(w)&&typeof g=="function"&&g(w,{success:A})},b=w=>{v(w,m===window||m===document||n.useGlobalTarget||T1(m,w.target))},T=w=>{v(w,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",T,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),v1(h)&&(h.addEventListener("focus",g=>MO(g,a)),!OO(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function E1(t){return OA(t)&&"ownerSVGElement"in t}function VO(t){return E1(t)&&t.tagName==="svg"}const gn=t=>!!(t&&t.getVelocity),LO=[...m1,Vt,$r],UO=t=>LO.find(f1(t)),s_=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class BO extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=v1(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function FO({children:t,isPresent:e,anchorX:n,root:s}){const a=I.useId(),l=I.useRef(null),c=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=I.useContext(s_);return I.useInsertionEffect(()=>{const{width:m,height:g,top:v,left:b,right:T}=c.current;if(e||!l.current||!m||!g)return;const w=n==="left"?`left: ${b}`:`right: ${T}`;l.current.dataset.motionPopId=a;const A=document.createElement("style");h&&(A.nonce=h);const D=s??document.head;return D.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${w}px !important;
            top: ${v}px !important;
          }
        `),()=>{D.contains(A)&&D.removeChild(A)}},[e]),f.jsx(BO,{isPresent:e,childRef:l,sizeRef:c,children:I.cloneElement(t,{ref:l})})}const zO=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,root:m})=>{const g=Ov(qO),v=I.useId();let b=!0,T=I.useMemo(()=>(b=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:w=>{g.set(w,!0);for(const A of g.values())if(!A)return;s&&s()},register:w=>(g.set(w,!1),()=>g.delete(w))}),[n,g,s]);return l&&b&&(T={...T}),I.useMemo(()=>{g.forEach((w,A)=>g.set(A,!1))},[n]),I.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),c==="popLayout"&&(t=f.jsx(FO,{isPresent:n,anchorX:h,root:m,children:t})),f.jsx(Wf.Provider,{value:T,children:t})};function qO(){return new Map}function x1(t=!0){const e=I.useContext(Wf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const c=I.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Fd=t=>t.key||"";function fx(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const HO=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",root:m})=>{const[g,v]=x1(c),b=I.useMemo(()=>fx(t),[t]),T=c&&!g?[]:b.map(Fd),w=I.useRef(!0),A=I.useRef(b),D=Ov(()=>new Map),[P,j]=I.useState(b),[q,F]=I.useState(b);jA(()=>{w.current=!1,A.current=b;for(let ue=0;ue<q.length;ue++){const k=Fd(q[ue]);T.includes(k)?D.delete(k):D.get(k)!==!0&&D.set(k,!1)}},[q,T.length,T.join("-")]);const W=[];if(b!==P){let ue=[...b];for(let k=0;k<q.length;k++){const N=q[k],C=Fd(N);T.includes(C)||(ue.splice(k,0,N),W.push(N))}return l==="wait"&&W.length&&(ue=W),F(fx(ue)),j(b),null}const{forceRender:ee}=I.useContext(Pv);return f.jsx(f.Fragment,{children:q.map(ue=>{const k=Fd(ue),N=c&&!g?!1:b===q||T.includes(k),C=()=>{if(D.has(k))D.set(k,!0);else return;let M=!0;D.forEach(U=>{U||(M=!1)}),M&&(ee?.(),F(A.current),c&&v?.(),s&&s())};return f.jsx(zO,{isPresent:N,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:N?void 0:C,anchorX:h,children:ue},k)})})},w1=I.createContext({strict:!1}),mx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Al={};for(const t in mx)Al[t]={isEnabled:e=>mx[t].some(n=>!!e[n])};function GO(t){for(const e in t)Al[e]={...Al[e],...t[e]}}const $O=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ef(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$O.has(t)}let S1=t=>!Ef(t);function KO(t){typeof t=="function"&&(S1=e=>e.startsWith("on")?!Ef(e):t(e))}try{KO(require("@emotion/is-prop-valid").default)}catch{}function YO(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(S1(a)||n===!0&&Ef(a)||!e&&!Ef(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Zf=I.createContext({});function Jf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Pu(t){return typeof t=="string"||Array.isArray(t)}const i_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],r_=["initial",...i_];function em(t){return Jf(t.animate)||r_.some(e=>Pu(t[e]))}function A1(t){return!!(em(t)||t.variants)}function QO(t,e){if(em(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Pu(n)?n:void 0,animate:Pu(s)?s:void 0}}return t.inherit!==!1?e:{}}function XO(t){const{initial:e,animate:n}=QO(t,I.useContext(Zf));return I.useMemo(()=>({initial:e,animate:n}),[px(e),px(n)])}function px(t){return Array.isArray(t)?t.join(" "):t}const Ou={};function WO(t){for(const e in t)Ou[e]=t[e],qv(e)&&(Ou[e].isCSSVariable=!0)}function R1(t,{layout:e,layoutId:n}){return Bl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ou[t]||t==="opacity")}const ZO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JO=Ul.length;function eM(t,e,n){let s="",a=!0;for(let l=0;l<JO;l++){const c=Ul[l],h=t[c];if(h===void 0)continue;let m=!0;if(typeof h=="number"?m=h===(c.startsWith("scale")?1:0):m=parseFloat(h)===0,!m||n){const g=y1(h,e_[c]);if(!m){a=!1;const v=ZO[c]||c;s+=`${v}(${g}) `}n&&(e[c]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function a_(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const m in e){const g=e[m];if(Bl.has(m)){c=!0;continue}else if(qv(m)){a[m]=g;continue}else{const v=y1(g,e_[m]);m.startsWith("origin")?(h=!0,l[m]=v):s[m]=v}}if(e.transform||(c||n?s.transform=eM(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:m="50%",originY:g="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${g} ${v}`}}const o_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function N1(t,e,n){for(const s in e)!gn(e[s])&&!R1(s,n)&&(t[s]=e[s])}function tM({transformTemplate:t},e){return I.useMemo(()=>{const n=o_();return a_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function nM(t,e){const n=t.style||{},s={};return N1(s,n,t),Object.assign(s,tM(t,e)),s}function sM(t,e){const n={},s=nM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const iM={offset:"stroke-dashoffset",array:"stroke-dasharray"},rM={offset:"strokeDashoffset",array:"strokeDasharray"};function aM(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?iM:rM;t[l.offset]=Se.transform(-s);const c=Se.transform(e),h=Se.transform(n);t[l.array]=`${c} ${h}`}function C1(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},m,g,v){if(a_(t,h,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:T}=t;b.transform&&(T.transform=b.transform,delete b.transform),(T.transform||b.transformOrigin)&&(T.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),T.transform&&(T.transformBox=v?.transformBox??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&aM(b,a,l,c,!1)}const I1=()=>({...o_(),attrs:{}}),D1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function oM(t,e,n,s){const a=I.useMemo(()=>{const l=I1();return C1(l,e,D1(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};N1(l,t.style,t),a.style={...l,...a.style}}return a}const lM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function l_(t){return typeof t!="string"||t.includes("-")?!1:!!(lM.indexOf(t)>-1||/[A-Z]/u.test(t))}function cM(t,e,n,{latestValues:s},a,l=!1){const h=(l_(t)?oM:sM)(e,s,a,t),m=YO(e,typeof t=="string",l),g=t!==I.Fragment?{...m,...h,ref:n}:{},{children:v}=e,b=I.useMemo(()=>gn(v)?v.get():v,[v]);return I.createElement(t,{...g,children:b})}function gx(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function c_(t,e,n,s){if(typeof e=="function"){const[a,l]=gx(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=gx(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function rf(t){return gn(t)?t.get():t}function uM({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:hM(n,s,a,t),renderState:e()}}function hM(t,e,n,s){const a={},l=s(t,{});for(const T in l)a[T]=rf(l[T]);let{initial:c,animate:h}=t;const m=em(t),g=A1(t);e&&g&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const b=v?h:c;if(b&&typeof b!="boolean"&&!Jf(b)){const T=Array.isArray(b)?b:[b];for(let w=0;w<T.length;w++){const A=c_(t,T[w]);if(A){const{transitionEnd:D,transition:P,...j}=A;for(const q in j){let F=j[q];if(Array.isArray(F)){const W=v?F.length-1:0;F=F[W]}F!==null&&(a[q]=F)}for(const q in D)a[q]=D[q]}}}return a}const j1=t=>(e,n)=>{const s=I.useContext(Zf),a=I.useContext(Wf),l=()=>uM(t,e,s,a);return n?l():Ov(l)};function u_(t,e,n){const{style:s}=t,a={};for(const l in s)(gn(s[l])||e.style&&gn(e.style[l])||R1(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const dM=j1({scrapeMotionValuesFromProps:u_,createRenderState:o_});function P1(t,e,n){const s=u_(t,e,n);for(const a in t)if(gn(t[a])||gn(e[a])){const l=Ul.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const fM=j1({scrapeMotionValuesFromProps:P1,createRenderState:I1}),mM=Symbol.for("motionComponentSymbol");function pl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pM(t,e,n){return I.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):pl(n)&&(n.current=s))},[e])}const h_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gM="framerAppearId",O1="data-"+h_(gM),M1=I.createContext({});function yM(t,e,n,s,a){const{visualElement:l}=I.useContext(Zf),c=I.useContext(w1),h=I.useContext(Wf),m=I.useContext(s_).reducedMotion,g=I.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,b=I.useContext(M1);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&vM(g.current,n,a,b);const T=I.useRef(!1);I.useInsertionEffect(()=>{v&&T.current&&v.update(n,h)});const w=n[O1],A=I.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return jA(()=>{v&&(T.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),A.current&&v.animationState&&v.animationState.animateChanges())}),I.useEffect(()=>{v&&(!A.current&&v.animationState&&v.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),A.current=!1),v.enteringChildren=void 0)}),v}function vM(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:k1(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&pl(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:g})}function k1(t){if(t)return t.options.allowProjection!==!1?t.projection:k1(t.parent)}function $g(t,{forwardMotionProps:e=!1}={},n,s){n&&GO(n);const a=l_(t)?fM:dM;function l(h,m){let g;const v={...I.useContext(s_),...h,layoutId:_M(h)},{isStatic:b}=v,T=XO(h),w=a(h,b);if(!b&&Mv){bM();const A=TM(v);g=A.MeasureLayout,T.visualElement=yM(t,w,v,s,A.ProjectionNode)}return f.jsxs(Zf.Provider,{value:T,children:[g&&T.visualElement?f.jsx(g,{visualElement:T.visualElement,...v}):null,cM(t,h,pM(w,T.visualElement,m),w,b,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=I.forwardRef(l);return c[mM]=t,c}function _M({layoutId:t}){const e=I.useContext(Pv).id;return e&&t!==void 0?e+"-"+t:t}function bM(t,e){I.useContext(w1).strict}function TM(t){const{drag:e,layout:n}=Al;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function EM(t,e){if(typeof Proxy>"u")return $g;const n=new Map,s=(l,c)=>$g(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,$g(c,void 0,t,e)),n.get(c))})}function V1({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function xM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function wM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Kg(t){return t===void 0||t===1}function Fy({scale:t,scaleX:e,scaleY:n}){return!Kg(t)||!Kg(e)||!Kg(n)}function qa(t){return Fy(t)||L1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function L1(t){return yx(t.x)||yx(t.y)}function yx(t){return t&&t!=="0%"}function xf(t,e,n){const s=t-n,a=e*s;return n+a}function vx(t,e,n,s,a){return a!==void 0&&(t=xf(t,a,s)),xf(t,n,s)+e}function zy(t,e=0,n=1,s,a){t.min=vx(t.min,e,n,s,a),t.max=vx(t.max,e,n,s,a)}function U1(t,{x:e,y:n}){zy(t.x,e.translate,e.scale,e.originPoint),zy(t.y,n.translate,n.scale,n.originPoint)}const _x=.999999999999,bx=1.0000000000001;function SM(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&yl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,U1(t,c)),s&&qa(l.latestValues)&&yl(t,l.latestValues))}e.x<bx&&e.x>_x&&(e.x=1),e.y<bx&&e.y>_x&&(e.y=1)}function gl(t,e){t.min=t.min+e,t.max=t.max+e}function Tx(t,e,n,s,a=.5){const l=pt(t.min,t.max,a);zy(t,e,n,l,s)}function yl(t,e){Tx(t.x,e.x,e.scaleX,e.scale,e.originX),Tx(t.y,e.y,e.scaleY,e.scale,e.originY)}function B1(t,e){return V1(wM(t.getBoundingClientRect(),e))}function AM(t,e,n){const s=B1(t,n),{scroll:a}=e;return a&&(gl(s.x,a.offset.x),gl(s.y,a.offset.y)),s}const Ex=()=>({translate:0,scale:1,origin:0,originPoint:0}),vl=()=>({x:Ex(),y:Ex()}),xx=()=>({min:0,max:0}),Nt=()=>({x:xx(),y:xx()}),qy={current:null},F1={current:!1};function RM(){if(F1.current=!0,!!Mv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qy.current=t.matches;t.addEventListener("change",e),e()}else qy.current=!1}const NM=new WeakMap;function CM(t,e,n){for(const s in e){const a=e[s],l=n[s];if(gn(a))t.addValue(s,a);else if(gn(l))t.addValue(s,Sl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,Sl(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const wx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IM{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Pn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,ht.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=em(n),this.isVariantNode=A1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in b){const w=b[T];m[T]!==void 0&&gn(w)&&w.set(m[T])}}mount(e){this.current=e,NM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),F1.current||RM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Gr(this.notifyUpdate),Gr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Bl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ht.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Al){const n=Al[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<wx.length;s++){const a=wx[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=CM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Sl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(PA(s)||MA(s))?s=parseFloat(s):!UO(s)&&$r.test(n)&&(s=g1(e,n)),this.setBaseTarget(e,gn(s)?s.get():s)),gn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=c_(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!gn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Bv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){t_.render(this.render)}}class z1 extends IM{constructor(){super(...arguments),this.KeyframeResolver=RO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function q1(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function DM(t){return window.getComputedStyle(t)}class jM extends z1{constructor(){super(...arguments),this.type="html",this.renderInstance=q1}readValueFromInstance(e,n){if(Bl.has(n))return this.projection?.isProjecting?Oy(n):$2(e,n);{const s=DM(e),a=(qv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return B1(e,n)}build(e,n,s){a_(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return u_(e,n,s)}}const H1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PM(t,e,n,s){q1(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(H1.has(a)?a:h_(a),e.attrs[a])}class OM extends z1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bl.has(n)){const s=p1(n);return s&&s.default||0}return n=H1.has(n)?n:h_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return P1(e,n,s)}build(e,n,s){C1(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){PM(e,n,s,a)}mount(e){this.isSVGTag=D1(e.tagName),super.mount(e)}}const MM=(t,e)=>l_(t)?new OM(e):new jM(e,{allowProjection:t!==I.Fragment});function bl(t,e,n){const s=t.getProps();return c_(s,e,n!==void 0?n:s.custom,t)}const Hy=t=>Array.isArray(t);function kM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Sl(n))}function VM(t){return Hy(t)?t[t.length-1]||0:t}function LM(t,e){const n=bl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const h=VM(l[c]);kM(t,c,h)}}function UM(t){return!!(gn(t)&&t.add)}function Gy(t,e){const n=t.getValue("willChange");if(UM(n))return n.add(e);if(!n&&Gi.WillChange){const s=new Gi.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function G1(t){return t.props[O1]}const BM=t=>t!==null;function FM(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(BM),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const zM={type:"spring",stiffness:500,damping:25,restSpeed:10},qM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),HM={type:"keyframes",duration:.8},GM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$M=(t,{keyframes:e})=>e.length>2?HM:Bl.has(t)?t.startsWith("scale")?qM(e[1]):zM:GM;function KM({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const d_=(t,e,n,s={},a,l)=>c=>{const h=Jv(s,t)||{},m=h.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Js(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-g,onUpdate:T=>{e.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};KM(h)||Object.assign(v,$M(t,v)),v.duration&&(v.duration=Js(v.duration)),v.repeatDelay&&(v.repeatDelay=Js(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Uy(v),v.delay===0&&(b=!0)),(Gi.instantAnimations||Gi.skipAnimations)&&(b=!0,Uy(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,b&&!l&&e.get()!==void 0){const T=FM(v.keyframes,h);if(T!==void 0){ht.update(()=>{v.onUpdate(T),v.onComplete()});return}}return h.isSync?new Wv(v):new pO(v)};function YM({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function $1(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(l=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const v in h){const b=t.getValue(v,t.latestValues[v]??null),T=h[v];if(T===void 0||g&&YM(g,v))continue;const w={delay:n,...Jv(l||{},v)},A=b.get();if(A!==void 0&&!b.isAnimating&&!Array.isArray(T)&&T===A&&!w.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const j=G1(t);if(j){const q=window.MotionHandoffAnimation(j,v,ht);q!==null&&(w.startTime=q,D=!0)}}Gy(t,v),b.start(d_(v,b,T,t.shouldReduceMotion&&d1.has(v)?{type:!1}:w,t,D));const P=b.animation;P&&m.push(P)}return c&&Promise.all(m).then(()=>{ht.update(()=>{c&&LM(t,c)})}),m}function K1(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),c=t.size,h=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:h-l*s}function $y(t,e,n={}){const s=bl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all($1(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:b}=a;return QM(t,e,m,g,v,b,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,g]=h==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function QM(t,e,n=0,s=0,a=0,l=1,c){const h=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),h.push($y(m,e,{...c,delay:n+(typeof s=="function"?0:s)+K1(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function XM(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>$y(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=$y(t,e,n);else{const a=typeof e=="function"?bl(t,e,n.custom):e;s=Promise.all($1(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function Y1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const WM=r_.length;function Q1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Q1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<WM;n++){const s=r_[n],a=t.props[s];(Pu(a)||a===!1)&&(e[s]=a)}return e}const ZM=[...i_].reverse(),JM=i_.length;function ek(t){return e=>Promise.all(e.map(({animation:n,options:s})=>XM(t,n,s)))}function tk(t){let e=ek(t),n=Sx(),s=!0;const a=m=>(g,v)=>{const b=bl(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:T,transitionEnd:w,...A}=b;g={...g,...A,...w}}return g};function l(m){e=m(t)}function c(m){const{props:g}=t,v=Q1(t.parent)||{},b=[],T=new Set;let w={},A=1/0;for(let P=0;P<JM;P++){const j=ZM[P],q=n[j],F=g[j]!==void 0?g[j]:v[j],W=Pu(F),ee=j===m?q.isActive:null;ee===!1&&(A=P);let ue=F===v[j]&&F!==g[j]&&W;if(ue&&s&&t.manuallyAnimateOnMount&&(ue=!1),q.protectedKeys={...w},!q.isActive&&ee===null||!F&&!q.prevProp||Jf(F)||typeof F=="boolean")continue;const k=nk(q.prevProp,F);let N=k||j===m&&q.isActive&&!ue&&W||P>A&&W,C=!1;const M=Array.isArray(F)?F:[F];let U=M.reduce(a(j),{});ee===!1&&(U={});const{prevResolvedValues:L={}}=q,O={...L,...U},re=J=>{N=!0,T.has(J)&&(C=!0,T.delete(J)),q.needsAnimating[J]=!0;const he=t.getValue(J);he&&(he.liveStyle=!1)};for(const J in O){const he=U[J],Re=L[J];if(w.hasOwnProperty(J))continue;let B=!1;Hy(he)&&Hy(Re)?B=!Y1(he,Re):B=he!==Re,B?he!=null?re(J):T.add(J):he!==void 0&&T.has(J)?re(J):q.protectedKeys[J]=!0}q.prevProp=F,q.prevResolvedValues=U,q.isActive&&(w={...w,...U}),s&&t.blockInitialAnimation&&(N=!1);const le=ue&&k;N&&(!le||C)&&b.push(...M.map(J=>{const he={type:j};if(typeof J=="string"&&s&&!le&&t.manuallyAnimateOnMount&&t.parent){const{parent:Re}=t,B=bl(Re,J);if(Re.enteringChildren&&B){const{delayChildren:te}=B.transition||{};he.delay=K1(Re.enteringChildren,t,te)}}return{animation:J,options:he}}))}if(T.size){const P={};if(typeof g.initial!="boolean"){const j=bl(t,Array.isArray(g.initial)?g.initial[0]:g.initial);j&&j.transition&&(P.transition=j.transition)}T.forEach(j=>{const q=t.getBaseTarget(j),F=t.getValue(j);F&&(F.liveStyle=!0),P[j]=q??null}),b.push({animation:P})}let D=!!b.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(D=!1),s=!1,D?e(b):Promise.resolve()}function h(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(m,g)),n[m].isActive=g;const v=c(m);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Sx(),s=!0}}}function nk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Y1(e,t):!1}function za(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sx(){return{animate:za(!0),whileInView:za(),whileHover:za(),whileTap:za(),whileDrag:za(),whileFocus:za(),exit:za()}}class ta{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sk extends ta{constructor(e){super(e),e.animationState||(e.animationState=tk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ik=0;class rk extends ta{constructor(){super(...arguments),this.id=ik++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ak={animation:{Feature:sk},exit:{Feature:rk}};function Mu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Wu(t){return{point:{x:t.pageX,y:t.pageY}}}const ok=t=>e=>n_(e)&&t(e,Wu(e));function vu(t,e,n,s){return Mu(t,e,ok(n),s)}const X1=1e-4,lk=1-X1,ck=1+X1,W1=.01,uk=0-W1,hk=0+W1;function wn(t){return t.max-t.min}function dk(t,e,n){return Math.abs(t-e)<=n}function Ax(t,e,n,s=.5){t.origin=s,t.originPoint=pt(e.min,e.max,t.origin),t.scale=wn(n)/wn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=lk&&t.scale<=ck||isNaN(t.scale))&&(t.scale=1),(t.translate>=uk&&t.translate<=hk||isNaN(t.translate))&&(t.translate=0)}function _u(t,e,n,s){Ax(t.x,e.x,n.x,s?s.originX:void 0),Ax(t.y,e.y,n.y,s?s.originY:void 0)}function Rx(t,e,n){t.min=n.min+e.min,t.max=t.min+wn(e)}function fk(t,e,n){Rx(t.x,e.x,n.x),Rx(t.y,e.y,n.y)}function Nx(t,e,n){t.min=e.min-n.min,t.max=t.min+wn(e)}function bu(t,e,n){Nx(t.x,e.x,n.x),Nx(t.y,e.y,n.y)}function ms(t){return[t("x"),t("y")]}const Z1=({current:t})=>t?t.ownerDocument.defaultView:null,Cx=(t,e)=>Math.abs(t-e);function mk(t,e){const n=Cx(t.x,e.x),s=Cx(t.y,e.y);return Math.sqrt(n**2+s**2)}class J1{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Qg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,A=mk(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!A)return;const{point:D}=T,{timestamp:P}=an;this.history.push({...D,timestamp:P});const{onStart:j,onMove:q}=this.handlers;w||(j&&j(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,T)},this.handlePointerMove=(T,w)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Yg(w,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(T,w)=>{this.end();const{onEnd:A,onSessionEnd:D,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Qg(T.type==="pointercancel"?this.lastMoveEventInfo:Yg(w,this.transformPagePoint),this.history);this.startEvent&&A&&A(T,j),D&&D(T,j)},!n_(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const h=Wu(e),m=Yg(h,this.transformPagePoint),{point:g}=m,{timestamp:v}=an;this.history=[{...g,timestamp:v}];const{onSessionStart:b}=n;b&&b(e,Qg(m,this.history)),this.removeListeners=Yu(vu(this.contextWindow,"pointermove",this.handlePointerMove),vu(this.contextWindow,"pointerup",this.handlePointerUp),vu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gr(this.updatePoint)}}function Yg(t,e){return e?{point:e(t.point)}:t}function Ix(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qg({point:t},e){return{point:t,delta:Ix(t,eR(e)),offset:Ix(t,pk(e)),velocity:gk(e,.1)}}function pk(t){return t[0]}function eR(t){return t[t.length-1]}function gk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=eR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Js(e)));)n--;if(!s)return{x:0,y:0};const l=ei(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function yk(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?pt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?pt(n,t,s.max):Math.min(t,n)),t}function Dx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function vk(t,{top:e,left:n,bottom:s,right:a}){return{x:Dx(t.x,n,a),y:Dx(t.y,e,s)}}function jx(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function _k(t,e){return{x:jx(t.x,e.x),y:jx(t.y,e.y)}}function bk(t,e){let n=.5;const s=wn(t),a=wn(e);return a>s?n=Iu(e.min,e.max-s,t.min):s>a&&(n=Iu(t.min,t.max-a,e.min)),Hi(0,1,n)}function Tk(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ky=.35;function Ek(t=Ky){return t===!1?t=0:t===!0&&(t=Ky),{x:Px(t,"left","right"),y:Px(t,"top","bottom")}}function Px(t,e,n){return{min:Ox(t,e),max:Ox(t,n)}}function Ox(t,e){return typeof t=="number"?t:t[e]||0}const xk=new WeakMap;class wk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wu(b).point)},c=(b,T)=>{const{drag:w,dragPropagation:A,onDragStart:D}=this.getProps();if(w&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DO(w),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ms(j=>{let q=this.getAxisMotionValue(j).get()||0;if(ti.test(q)){const{projection:F}=this.visualElement;if(F&&F.layout){const W=F.layout.layoutBox[j];W&&(q=wn(W)*(parseFloat(q)/100))}}this.originPoint[j]=q}),D&&ht.postRender(()=>D(b,T)),Gy(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},h=(b,T)=>{this.latestPointerEvent=b,this.latestPanInfo=T;const{dragPropagation:w,dragDirectionLock:A,onDirectionLock:D,onDrag:P}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:j}=T;if(A&&this.currentDirection===null){this.currentDirection=Sk(j),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",T.point,j),this.updateAxis("y",T.point,j),this.visualElement.render(),P&&P(b,T)},m=(b,T)=>{this.latestPointerEvent=b,this.latestPanInfo=T,this.stop(b,T),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ms(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new J1(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:Z1(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&ht.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!zd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=yk(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&pl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=vk(s.layoutBox,e):this.constraints=!1,this.elastic=Ek(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ms(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Tk(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!pl(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=AM(s,a.root,this.visualElement.getTransformPagePoint());let c=_k(a.layout.layoutBox,l);if(n){const h=n(xM(c));this.hasMutatedConstraints=!!h,h&&(c=V1(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},g=ms(v=>{if(!zd(v,n,this.currentDirection))return;let b=m&&m[v]||{};c&&(b={min:0,max:0});const T=a?200:1e6,w=a?40:1e7,A={type:"inertia",velocity:s?e[v]:0,bounceStiffness:T,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,A)});return Promise.all(g).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Gy(this.visualElement,e),s.start(d_(e,s,0,n,this.visualElement,!1))}stopAnimation(){ms(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ms(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ms(n=>{const{drag:s}=this.getProps();if(!zd(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n];l.set(e[n]-pt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!pl(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ms(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const m=h.get();a[c]=bk({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ms(c=>{if(!zd(c,e,null))return;const h=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];h.set(pt(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;xk.set(this.visualElement,this);const e=this.visualElement.current,n=vu(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();pl(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ht.read(s);const c=Mu(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ms(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=m[v].translate,b.set(b.get()+m[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Ky,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function zd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Sk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Ak extends ta{constructor(e){super(e),this.removeGroupControls=gs,this.removeListeners=gs,this.controls=new wk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Mx=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class Rk extends ta{constructor(){super(...arguments),this.removePointerDownListener=gs}onPointerDown(e){this.session=new J1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Z1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Mx(e),onStart:Mx(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ht.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=vu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const af={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const iu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=kx(t,e.target.x),s=kx(t,e.target.y);return`${n}% ${s}%`}},Nk={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=$r.parse(t);if(a.length>5)return s;const l=$r.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=m;const g=pt(h,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}};let Xg=!1;class Ck extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;WO(Ik),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Xg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),af.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Xg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ht.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),t_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Xg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tR(t){const[e,n]=x1(),s=I.useContext(Pv);return f.jsx(Ck,{...t,layoutGroup:s,switchLayoutGroup:I.useContext(M1),isPresent:e,safeToRemove:n})}const Ik={borderRadius:{...iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:iu,borderTopRightRadius:iu,borderBottomLeftRadius:iu,borderBottomRightRadius:iu,boxShadow:Nk};function Dk(t,e,n){const s=gn(t)?t:Sl(t);return s.start(d_("",s,e,n)),s.animation}const jk=(t,e)=>t.depth-e.depth;class Pk{constructor(){this.children=[],this.isDirty=!1}add(e){kv(this.children,e),this.isDirty=!0}remove(e){Vv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jk),this.isDirty=!1,this.children.forEach(e)}}function Ok(t,e){const n=Pn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Gr(s),t(l-e))};return ht.setup(s,!0),()=>Gr(s)}const nR=["TopLeft","TopRight","BottomLeft","BottomRight"],Mk=nR.length,Vx=t=>typeof t=="string"?parseFloat(t):t,Lx=t=>typeof t=="number"||Se.test(t);function kk(t,e,n,s,a,l){a?(t.opacity=pt(0,n.opacity??1,Vk(s)),t.opacityExit=pt(e.opacity??1,0,Lk(s))):l&&(t.opacity=pt(e.opacity??1,n.opacity??1,s));for(let c=0;c<Mk;c++){const h=`border${nR[c]}Radius`;let m=Ux(e,h),g=Ux(n,h);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||Lx(m)===Lx(g)?(t[h]=Math.max(pt(Vx(m),Vx(g),s),0),(ti.test(g)||ti.test(m))&&(t[h]+="%")):t[h]=g}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,s))}function Ux(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Vk=sR(0,.5,qA),Lk=sR(.5,.95,gs);function sR(t,e,n){return s=>s<t?0:s>e?1:n(Iu(t,e,s))}function Bx(t,e){t.min=e.min,t.max=e.max}function fs(t,e){Bx(t.x,e.x),Bx(t.y,e.y)}function Fx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zx(t,e,n,s,a){return t-=e,t=xf(t,1/n,s),a!==void 0&&(t=xf(t,1/a,s)),t}function Uk(t,e=0,n=1,s=.5,a,l=t,c=t){if(ti.test(e)&&(e=parseFloat(e),e=pt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=pt(l.min,l.max,s);t===l&&(h-=e),t.min=zx(t.min,e,n,h,a),t.max=zx(t.max,e,n,h,a)}function qx(t,e,[n,s,a],l,c){Uk(t,e[n],e[s],e[a],e.scale,l,c)}const Bk=["x","scaleX","originX"],Fk=["y","scaleY","originY"];function Hx(t,e,n,s){qx(t.x,e,Bk,n?n.x:void 0,s?s.x:void 0),qx(t.y,e,Fk,n?n.y:void 0,s?s.y:void 0)}function Gx(t){return t.translate===0&&t.scale===1}function iR(t){return Gx(t.x)&&Gx(t.y)}function $x(t,e){return t.min===e.min&&t.max===e.max}function zk(t,e){return $x(t.x,e.x)&&$x(t.y,e.y)}function Kx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rR(t,e){return Kx(t.x,e.x)&&Kx(t.y,e.y)}function Yx(t){return wn(t.x)/wn(t.y)}function Qx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class qk{constructor(){this.members=[]}add(e){kv(this.members,e),e.scheduleRender()}remove(e){if(Vv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hk(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:b,rotateY:T,skewX:w,skewY:A}=n;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),b&&(s+=`rotateX(${b}deg) `),T&&(s+=`rotateY(${T}deg) `),w&&(s+=`skewX(${w}deg) `),A&&(s+=`skewY(${A}deg) `)}const h=t.x.scale*e.x,m=t.y.scale*e.y;return(h!==1||m!==1)&&(s+=`scale(${h}, ${m})`),s||"none"}const Wg=["","X","Y","Z"],Gk=1e3;let $k=0;function Zg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function aR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=G1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&aR(s)}function oR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=$k++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Qk),this.nodes.forEach(Jk),this.nodes.forEach(eV),this.nodes.forEach(Xk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new Pk)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Bv),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const m=this.eventHandlers.get(c);m&&m.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=E1(c)&&!VO(c),this.instance=c;const{layoutId:h,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),t){let v,b=0;const T=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{b=window.innerWidth}),t(c,()=>{const w=window.innerWidth;w!==b&&(b=w,this.root.updateBlockedByResize=!0,v&&v(),v=Ok(T,250),af.hasAnimatedSinceResize&&(af.hasAnimatedSinceResize=!1,this.nodes.forEach(Zx)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:T,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||g.getDefaultTransition()||rV,{onLayoutAnimationStart:D,onLayoutAnimationComplete:P}=g.getProps(),j=!this.targetLayout||!rR(this.targetLayout,w),q=!b&&T;if(this.options.layoutRoot||this.resumeFrom||q||b&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Jv(A,"layout"),onPlay:D,onComplete:P};(g.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(v,q)}else b||Zx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Wx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Zk),this.nodes.forEach(Kk),this.nodes.forEach(Yk)):this.nodes.forEach(Wx),this.clearAllSnapshots();const h=Pn.now();an.delta=Hi(0,1e3/60,h-an.timestamp),an.timestamp=h,an.isProcessing=!0,Bg.update.process(an),Bg.preRender.process(an),Bg.render.process(an),an.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,t_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Wk),this.sharedNodes.forEach(nV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wn(this.snapshot.measuredBox.x)&&!wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!iR(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(h||qa(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return c&&(m=this.removeTransform(m)),aV(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Nt();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(oV))){const{scroll:g}=this.root;g&&(gl(h.x,g.offset.x),gl(h.y,g.offset.y))}return h}removeElementScroll(c){const h=Nt();if(fs(h,c),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:b}=g;g!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&fs(h,c),gl(h.x,v.offset.x),gl(h.y,v.offset.y))}return h}applyTransform(c,h=!1){const m=Nt();fs(m,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&yl(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),qa(v.latestValues)&&yl(m,v.latestValues)}return qa(this.latestValues)&&yl(m,this.latestValues),m}removeTransform(c){const h=Nt();fs(h,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!qa(g.latestValues))continue;Fy(g.latestValues)&&g.updateSnapshot();const v=Nt(),b=g.measurePageBox();fs(v,b),Hx(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return qa(this.latestValues)&&Hx(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==an.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=an.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),bu(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),fs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fs(this.target,this.layout.layoutBox),U1(this.target,this.targetDelta)):fs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),bu(this.relativeTargetOrigin,this.target,T.target),fs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fy(this.parent.latestValues)||L1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===an.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;fs(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,T=this.treeScale.y;SM(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Nt());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Fx(this.prevProjectionDelta.x,this.projectionDelta.x),Fx(this.prevProjectionDelta.y,this.projectionDelta.y)),_u(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==T||!Qx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vl(),this.projectionDelta=vl(),this.projectionDeltaWithTransform=vl()}setAnimationOrigin(c,h=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},b=vl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=Nt(),w=m?m.source:void 0,A=this.layout?this.layout.source:void 0,D=w!==A,P=this.getStack(),j=!P||P.members.length<=1,q=!!(D&&!j&&this.options.crossfade===!0&&!this.path.some(iV));this.animationProgress=0;let F;this.mixTargetDelta=W=>{const ee=W/1e3;Jx(b.x,c.x,ee),Jx(b.y,c.y,ee),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bu(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sV(this.relativeTarget,this.relativeTargetOrigin,T,ee),F&&zk(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Nt()),fs(F,this.relativeTarget)),D&&(this.animationValues=v,kk(v,g,this.latestValues,ee,q,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Gr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{af.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Sl(0)),this.currentAnimation=Dk(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:m,layout:g,latestValues:v}=c;if(!(!h||!m||!g)){if(this!==c&&this.layout&&g&&lR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Nt();const b=wn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+b;const T=wn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+T}fs(h,m),yl(h,v),_u(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new qk),this.sharedNodes.get(c).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const g={};m.z&&Zg("z",c,g,this.animationValues);for(let v=0;v<Wg.length;v++)Zg(`rotate${Wg[v]}`,c,g,this.animationValues),Zg(`skew${Wg[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=rf(h?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=rf(h?.pointerEvents)||""),this.hasProjected&&!qa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=Hk(this.projectionDeltaWithTransform,this.treeScale,v);m&&(b=m(v,b)),c.transform=b;const{x:T,y:w}=this.projectionDelta;c.transformOrigin=`${T.origin*100}% ${w.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const A in Ou){if(v[A]===void 0)continue;const{correct:D,applyTo:P,isCSSVariable:j}=Ou[A],q=b==="none"?v[A]:D(v[A],g);if(P){const F=P.length;for(let W=0;W<F;W++)c[P[W]]=q}else j?this.options.visualElement.renderState.vars[A]=q:c[A]=q}this.options.layoutId&&(c.pointerEvents=g===this?rf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Xx),this.root.sharedNodes.clear()}}}function Kk(t){t.updateLayout()}function Yk(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ms(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],T=wn(b);b.min=n[v].min,b.max=b.min+T}):lR(a,e.layoutBox,n)&&ms(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],T=wn(n[v]);b.max=b.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+T)});const c=vl();_u(c,n,e.layoutBox);const h=vl();l?_u(h,t.applyTransform(s,!0),e.measuredBox):_u(h,n,e.layoutBox);const m=!iR(c);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:T}=v;if(b&&T){const w=Nt();bu(w,e.layoutBox,b.layoutBox);const A=Nt();bu(A,n,T.layoutBox),rR(w,A)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=w,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Qk(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Xk(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Wk(t){t.clearSnapshot()}function Xx(t){t.clearMeasurements()}function Wx(t){t.isLayoutDirty=!1}function Zk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Zx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Jk(t){t.resolveTargetDelta()}function eV(t){t.calcProjection()}function tV(t){t.resetSkewAndRotation()}function nV(t){t.removeLeadSnapshot()}function Jx(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ew(t,e,n,s){t.min=pt(e.min,n.min,s),t.max=pt(e.max,n.max,s)}function sV(t,e,n,s){ew(t.x,e.x,n.x,s),ew(t.y,e.y,n.y,s)}function iV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rV={duration:.45,ease:[.4,0,.1,1]},tw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),nw=tw("applewebkit/")&&!tw("chrome/")?Math.round:gs;function sw(t){t.min=nw(t.min),t.max=nw(t.max)}function aV(t){sw(t.x),sw(t.y)}function lR(t,e,n){return t==="position"||t==="preserve-aspect"&&!dk(Yx(e),Yx(n),.2)}function oV(t){return t!==t.root&&t.scroll?.wasRoot}const lV=oR({attachResizeListener:(t,e)=>Mu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jg={current:void 0},cR=oR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Jg.current){const t=new lV({});t.mount(window),t.setOptions({layoutScroll:!0}),Jg.current=t}return Jg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cV={pan:{Feature:Rk},drag:{Feature:Ak,ProjectionNode:cR,MeasureLayout:tR}};function iw(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ht.postRender(()=>l(e,Wu(e)))}class uV extends ta{mount(){const{current:e}=this.node;e&&(this.unmount=jO(e,(n,s)=>(iw(this.node,s,"Start"),a=>iw(this.node,a,"End"))))}unmount(){}}class hV extends ta{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yu(Mu(this.node.current,"focus",()=>this.onFocus()),Mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rw(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ht.postRender(()=>l(e,Wu(e)))}class dV extends ta{mount(){const{current:e}=this.node;e&&(this.unmount=kO(e,(n,s)=>(rw(this.node,s,"Start"),(a,{success:l})=>rw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yy=new WeakMap,ey=new WeakMap,fV=t=>{const e=Yy.get(t.target);e&&e(t)},mV=t=>{t.forEach(fV)};function pV({root:t,...e}){const n=t||document;ey.has(n)||ey.set(n,{});const s=ey.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(mV,{root:t,...e})),s[a]}function gV(t,e,n){const s=pV(e);return Yy.set(t,n),s.observe(t),()=>{Yy.delete(t),s.unobserve(t)}}const yV={some:0,all:1};class vV extends ta{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:yV[a]},h=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),T=g?v:b;T&&T(m)};return gV(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_V(e,n))&&this.startObserver()}unmount(){}}function _V({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const bV={inView:{Feature:vV},tap:{Feature:dV},focus:{Feature:hV},hover:{Feature:uV}},TV={layout:{ProjectionNode:cR,MeasureLayout:tR}},EV={...ak,...bV,...cV,...TV},Vi=EM(EV,MM),xV=()=>{};var aw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},wV=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},hR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,v=l>>2,b=(l&3)<<4|h>>4;let T=(h&15)<<2|g>>6,w=g&63;m||(w=64,c||(T=64)),s.push(n[v],n[b],n[T],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||g==null||b==null)throw new SV;const T=l<<2|h>>4;if(s.push(T),g!==64){const w=h<<4&240|g>>2;if(s.push(w),b!==64){const A=g<<6&192|b;s.push(A)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AV=function(t){const e=uR(t);return hR.encodeByteArray(e,!0)},wf=function(t){return AV(t).replace(/\./g,"")},dR=function(t){try{return hR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=()=>RV().__FIREBASE_DEFAULTS__,CV=()=>{if(typeof process>"u"||typeof aw>"u")return;const t=aw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dR(t[1]);return e&&JSON.parse(e)},tm=()=>{try{return xV()||NV()||CV()||IV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fR=t=>tm()?.emulatorHosts?.[t],f_=t=>{const e=fR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},mR=()=>tm()?.config,pR=t=>tm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nm(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wf(JSON.stringify(n)),wf(JSON.stringify(c)),""].join(".")}const Tu={};function jV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tu))Tu[e]?t.emulator.push(e):t.prod.push(e);return t}function PV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ow=!1;function sm(t,e){if(typeof window>"u"||typeof document>"u"||!Ji(window.location.host)||Tu[t]===e||Tu[t]||ow)return;Tu[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=jV().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,w){T.setAttribute("width","24"),T.setAttribute("id",w),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{ow=!0,c()},T}function v(T,w){T.setAttribute("id",w),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=PV(s),w=n("text"),A=document.getElementById(w)||document.createElement("span"),D=n("learnmore"),P=document.getElementById(D)||document.createElement("a"),j=n("preprendIcon"),q=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const F=T.element;h(F),v(P,D);const W=g();m(q,j),F.append(q,A,P,W),document.body.appendChild(F)}l?(A.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function MV(){const t=tm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LV(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UV(){return!MV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vR(){try{return typeof indexedDB=="object"}catch{return!1}}function _R(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function BV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="FirebaseError";class Zn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=FV,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,co.prototype.create)}}class co{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?zV(l,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Zn(a,h,s)}}function zV(t,e){return t.replace(qV,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const qV=/\{\$([^}]+)}/g;function HV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(lw(l)&&lw(c)){if(!Kr(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function lw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function uu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function hu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function GV(t,e){const n=new $V(t,e);return n.subscribe.bind(n)}class $V{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");KV(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=ty),a.error===void 0&&(a.error=ty),a.complete===void 0&&(a.complete=ty);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ty(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=1e3,QV=2,XV=14400*1e3,WV=.5;function cw(t,e=YV,n=QV){const s=e*Math.pow(n,t),a=Math.round(WV*s*(Math.random()-.5)*2);return Math.min(XV,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t){return t&&t._delegate?t._delegate:t}class Xn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new DV;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eL(e))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ha){return this.instances.has(e)}getOptions(e=Ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:JV(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ha){return this.component?this.component.multipleInstances?e:Ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JV(t){return t===Ha?void 0:t}function eL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const nL={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},sL=ke.INFO,iL={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},rL=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=iL[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class im{constructor(e){this.name=e,this._logLevel=sL,this._logHandler=rL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const aL=(t,e)=>e.some(n=>t instanceof n);let uw,hw;function oL(){return uw||(uw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lL(){return hw||(hw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bR=new WeakMap,Qy=new WeakMap,TR=new WeakMap,ny=new WeakMap,m_=new WeakMap;function cL(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Fr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&bR.set(n,t)}).catch(()=>{}),m_.set(e,t),e}function uL(t){if(Qy.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Qy.set(t,e)}let Xy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hL(t){Xy=t(Xy)}function dL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(sy(this),e,...n);return TR.set(s,e.sort?e.sort():[e]),Fr(s)}:lL().includes(t)?function(...e){return t.apply(sy(this),e),Fr(bR.get(this))}:function(...e){return Fr(t.apply(sy(this),e))}}function fL(t){return typeof t=="function"?dL(t):(t instanceof IDBTransaction&&uL(t),aL(t,oL())?new Proxy(t,Xy):t)}function Fr(t){if(t instanceof IDBRequest)return cL(t);if(ny.has(t))return ny.get(t);const e=fL(t);return e!==t&&(ny.set(t,e),m_.set(e,t)),e}const sy=t=>m_.get(t);function ER(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Fr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Fr(c.result),m.oldVersion,m.newVersion,Fr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const mL=["get","getKey","getAll","getAllKeys","count"],pL=["put","add","delete","clear"],iy=new Map;function dw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iy.get(e))return iy.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=pL.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||mL.includes(n)))return;const l=async function(c,...h){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),a&&m.done]))[0]};return iy.set(e,l),l}hL(t=>({...t,get:(e,n,s)=>dw(e,n)||t.get(e,n,s),has:(e,n)=>!!dw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yL(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function yL(t){return t.getComponent()?.type==="VERSION"}const Wy="@firebase/app",fw="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new im("@firebase/app"),vL="@firebase/app-compat",_L="@firebase/analytics-compat",bL="@firebase/analytics",TL="@firebase/app-check-compat",EL="@firebase/app-check",xL="@firebase/auth",wL="@firebase/auth-compat",SL="@firebase/database",AL="@firebase/data-connect",RL="@firebase/database-compat",NL="@firebase/functions",CL="@firebase/functions-compat",IL="@firebase/installations",DL="@firebase/installations-compat",jL="@firebase/messaging",PL="@firebase/messaging-compat",OL="@firebase/performance",ML="@firebase/performance-compat",kL="@firebase/remote-config",VL="@firebase/remote-config-compat",LL="@firebase/storage",UL="@firebase/storage-compat",BL="@firebase/firestore",FL="@firebase/ai",zL="@firebase/firestore-compat",qL="firebase",HL="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="[DEFAULT]",GL={[Wy]:"fire-core",[vL]:"fire-core-compat",[bL]:"fire-analytics",[_L]:"fire-analytics-compat",[EL]:"fire-app-check",[TL]:"fire-app-check-compat",[xL]:"fire-auth",[wL]:"fire-auth-compat",[SL]:"fire-rtdb",[AL]:"fire-data-connect",[RL]:"fire-rtdb-compat",[NL]:"fire-fn",[CL]:"fire-fn-compat",[IL]:"fire-iid",[DL]:"fire-iid-compat",[jL]:"fire-fcm",[PL]:"fire-fcm-compat",[OL]:"fire-perf",[ML]:"fire-perf-compat",[kL]:"fire-rc",[VL]:"fire-rc-compat",[LL]:"fire-gcs",[UL]:"fire-gcs-compat",[BL]:"fire-fst",[zL]:"fire-fst-compat",[FL]:"fire-vertex","fire-js":"fire-js",[qL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Map,$L=new Map,Jy=new Map;function mw(t,e){try{t.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vs(t){const e=t.name;if(Jy.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;Jy.set(e,t);for(const n of Sf.values())mw(n,t);for(const n of $L.values())mw(n,t);return!0}function er(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new co("app","Firebase",KL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=HL;function xR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Zy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw zr.create("bad-app-name",{appName:String(a)});if(n||(n=mR()),!n)throw zr.create("no-options");const l=Sf.get(a);if(l){if(Kr(n,l.options)&&Kr(s,l.config))return l;throw zr.create("duplicate-app",{appName:a})}const c=new tL(a);for(const m of Jy.values())c.addComponent(m);const h=new YL(n,s,c);return Sf.set(a,h),h}function Ju(t=Zy){const e=Sf.get(t);if(!e&&t===Zy&&mR())return xR();if(!e)throw zr.create("no-app",{appName:t});return e}function yn(t,e,n){let s=GL[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(c.join(" "));return}vs(new Xn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="firebase-heartbeat-database",XL=1,ku="firebase-heartbeat-store";let ry=null;function wR(){return ry||(ry=ER(QL,XL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ku)}catch(n){console.warn(n)}}}}).catch(t=>{throw zr.create("idb-open",{originalErrorMessage:t.message})})),ry}async function WL(t){try{const n=(await wR()).transaction(ku),s=await n.objectStore(ku).get(SR(t));return await n.done,s}catch(e){if(e instanceof Zn)$i.warn(e.message);else{const n=zr.create("idb-get",{originalErrorMessage:e?.message});$i.warn(n.message)}}}async function pw(t,e){try{const s=(await wR()).transaction(ku,"readwrite");await s.objectStore(ku).put(e,SR(t)),await s.done}catch(n){if(n instanceof Zn)$i.warn(n.message);else{const s=zr.create("idb-set",{originalErrorMessage:n?.message});$i.warn(s.message)}}}function SR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=1024,JL=30;class e4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new n4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>JL){const a=s4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gw(),{heartbeatsToSend:n,unsentEntries:s}=t4(this._heartbeatsCache.heartbeats),a=wf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return $i.warn(e),""}}}function gw(){return new Date().toISOString().substring(0,10)}function t4(t,e=ZL){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),yw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),yw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class n4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vR()?_R().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yw(t){return wf(JSON.stringify({version:2,heartbeats:t})).length}function s4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t){vs(new Xn("platform-logger",e=>new gL(e),"PRIVATE")),vs(new Xn("heartbeat",e=>new e4(e),"PRIVATE")),yn(Wy,fw,t),yn(Wy,fw,"esm2020"),yn("fire-js","")}i4("");function AR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r4=AR,RR=new co("auth","Firebase",AR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new im("@firebase/auth");function a4(t,...e){Af.logLevel<=ke.WARN&&Af.warn(`Auth (${uo}): ${t}`,...e)}function of(t,...e){Af.logLevel<=ke.ERROR&&Af.error(`Auth (${uo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t,...e){throw p_(t,...e)}function ni(t,...e){return p_(t,...e)}function NR(t,e,n){const s={...r4(),[e]:n};return new co("auth","Firebase",s).create(e,{appName:t.name})}function Fi(t){return NR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p_(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return RR.create(t,...e)}function _e(t,e,...n){if(!t)throw p_(e,...n)}function Li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw of(e),new Error(e)}function Ki(t,e){t||Li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(){return typeof self<"u"&&self.location?.href||""}function o4(){return vw()==="http:"||vw()==="https:"}function vw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o4()||yR()||"connection"in navigator)?navigator.onLine:!0}function c4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=OV()||VV()}get(){return l4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t,e){Ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],d4=new eh(3e4,6e4);function tr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ui(t,e,n,s,a={}){return IR(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const h=Zu({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return kV()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Ji(t.emulatorConfig.host)&&(g.credentials="include"),CR.fetch()(await DR(t,t.config.apiHost,n,h),g)})}async function IR(t,e,n){t._canInitEmulator=!1;const s={...u4,...e};try{const a=new m4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw qd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[m,g]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw qd(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw qd(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw qd(t,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw NR(t,v,g);Cs(t,v)}}catch(a){if(a instanceof Zn)throw a;Cs(t,"network-request-failed",{message:String(a)})}}async function th(t,e,n,s,a={}){const l=await ui(t,e,n,s,a);return"mfaPendingCredential"in l&&Cs(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function DR(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?g_(t.config,a):`${t.config.apiScheme}://${a}`;return h4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function f4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ni(this.auth,"network-request-failed")),d4.get())})}}function qd(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ni(t,e,s);return a.customData._tokenResponse=n,a}function _w(t){return t!==void 0&&t.enterprise!==void 0}class p4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return f4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function g4(t,e){return ui(t,"GET","/v2/recaptchaConfig",tr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(t,e){return ui(t,"POST","/v1/accounts:delete",e)}async function Rf(t,e){return ui(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function v4(t,e=!1){const n=$e(t),s=await n.getIdToken(e),a=y_(s);_e(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Eu(ay(a.auth_time)),issuedAtTime:Eu(ay(a.iat)),expirationTime:Eu(ay(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ay(t){return Number(t)*1e3}function y_(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return of("JWT malformed, contained fewer than 3 sections"),null;try{const a=dR(n);return a?JSON.parse(a):(of("Failed to decode base64 JWT payload"),null)}catch(a){return of("Caught error parsing JWT payload as JSON",a?.toString()),null}}function bw(t){const e=y_(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zn&&_4(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function _4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nf(t){const e=t.auth,n=await t.getIdToken(),s=await Rl(t,Rf(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?jR(a.providerUserInfo):[],c=E4(t.providerData,l),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,g=h?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new tv(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function T4(t){const e=$e(t);await Nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E4(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function jR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e){const n=await IR(t,{},async()=>{const s=Zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await DR(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:s};return t.emulatorConfig&&Ji(t.emulatorConfig.host)&&(m.credentials="include"),CR.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function w4(t,e){return ui(t,"POST","/v2/accounts:revokeToken",tr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=bw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await x4(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Tl;return s&&(_e(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(_e(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(_e(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tl,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ns{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new b4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new tv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return v4(this,e)}reload(){return T4(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ns({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Nf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Fi(this.auth));const e=await this.getIdToken();return await Rl(this,y4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:T,isAnonymous:w,providerData:A,stsTokenManager:D}=n;_e(b&&D,e,"internal-error");const P=Tl.fromJSON(this.name,D);_e(typeof b=="string",e,"internal-error"),jr(s,e.name),jr(a,e.name),_e(typeof T=="boolean",e,"internal-error"),_e(typeof w=="boolean",e,"internal-error"),jr(l,e.name),jr(c,e.name),jr(h,e.name),jr(m,e.name),jr(g,e.name),jr(v,e.name);const j=new Ns({uid:b,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:w,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:P,createdAt:g,lastLoginAt:v});return A&&Array.isArray(A)&&(j.providerData=A.map(q=>({...q}))),m&&(j._redirectEventId=m),j}static async _fromIdTokenResponse(e,n,s=!1){const a=new Tl;a.updateFromServerResponse(n);const l=new Ns({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Nf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];_e(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?jR(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new Tl;h.updateFromIdToken(s);const m=new Ns({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new tv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Map;function Ui(t){Ki(t instanceof Function,"Expected a class definition");let e=Tw.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Tw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PR.type="NONE";const Ew=PR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t,e,n){return`firebase:${t}:${e}:${n}`}class El{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=lf(this.userKey,a.apiKey,l),this.fullPersistenceKey=lf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rf(this.auth,{idToken:e}).catch(()=>{});return n?Ns._fromGetAccountInfoResponse(this.auth,n,e):null}return Ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new El(Ui(Ew),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Ui(Ew);const c=lf(s,e.config.apiKey,e.name);let h=null;for(const g of n)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const T=await Rf(e,{idToken:v}).catch(()=>{});if(!T)break;b=await Ns._fromGetAccountInfoResponse(e,T,v)}else b=Ns._fromJSON(e,v);g!==l&&(h=b),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new El(l,e,s):(l=m[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new El(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UR(e))return"Blackberry";if(BR(e))return"Webos";if(MR(e))return"Safari";if((e.includes("chrome/")||kR(e))&&!e.includes("edge/"))return"Chrome";if(LR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function OR(t=vn()){return/firefox\//i.test(t)}function MR(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kR(t=vn()){return/crios\//i.test(t)}function VR(t=vn()){return/iemobile/i.test(t)}function LR(t=vn()){return/android/i.test(t)}function UR(t=vn()){return/blackberry/i.test(t)}function BR(t=vn()){return/webos/i.test(t)}function v_(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function S4(t=vn()){return v_(t)&&!!window.navigator?.standalone}function A4(){return LV()&&document.documentMode===10}function FR(t=vn()){return v_(t)||LR(t)||BR(t)||UR(t)||/windows phone/i.test(t)||VR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t,e=[]){let n;switch(t){case"Browser":n=xw(vn());break;case"Worker":n=`${xw(vn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,h)=>{try{const m=e(l);c(m)}catch(m){h(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e={}){return ui(t,"GET","/v2/passwordPolicy",tr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=6;class I4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??C4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ww(this),this.idTokenSubscription=new ww(this),this.beforeStateQueue=new R4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ui(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await El.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rf(this,{idToken:e}),s=await Ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Dn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Fi(this));const n=e?$e(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N4(this),n=new I4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new co("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await w4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ui(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await El.create(this,[Ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&a4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function na(t){return $e(t)}class ww{constructor(e){this.auth=e,this.observer=null,this.addObserver=GV(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j4(t){rm=t}function qR(t){return rm.loadJS(t)}function P4(){return rm.recaptchaEnterpriseScript}function O4(){return rm.gapiScript}function M4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class k4{constructor(){this.enterprise=new V4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class V4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const L4="recaptcha-enterprise",HR="NO_RECAPTCHA";class U4{constructor(e){this.type=L4,this.auth=na(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{g4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new p4(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{h(m)})})}function a(l,c,h){const m=window.grecaptcha;_w(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(HR)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new k4().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(h=>{if(!n&&_w(window.grecaptcha))a(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=P4();m.length!==0&&(m+=h),qR(m).then(()=>{a(h,l,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function Sw(t,e,n,s=!1,a=!1){const l=new U4(t);let c;if(a)c=HR;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Cf(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Sw(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Sw(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t,e){const n=er(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Kr(l,e??{}))return a;Cs(a,"already-initialized")}return n.initialize({options:e})}function F4(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ui);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function z4(t,e,n){const s=na(t);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=GR(e),{host:c,port:h}=q4(e),m=h===null?"":`:${h}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(Kr(g,s.config.emulator)&&Kr(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Ji(c)?(nm(`${l}//${c}${m}`),sm("Auth",!0)):H4()}function GR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function q4(t){const e=GR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Aw(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Aw(c)}}}function Aw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function H4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Li("not implemented")}_getIdTokenResponse(e){return Li("not implemented")}_linkToIdToken(e,n){return Li("not implemented")}_getReauthenticationResolver(e){return Li("not implemented")}}async function G4(t,e){return ui(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(t,e){return th(t,"POST","/v1/accounts:signInWithPassword",tr(t,e))}async function K4(t,e){return ui(t,"POST","/v1/accounts:sendOobCode",tr(t,e))}async function Y4(t,e){return K4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t,e){return th(t,"POST","/v1/accounts:signInWithEmailLink",tr(t,e))}async function X4(t,e){return th(t,"POST","/v1/accounts:signInWithEmailLink",tr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends __{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Vu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Vu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,n,"signInWithPassword",$4);case"emailLink":return Q4(e,{email:this._email,oobCode:this._password});default:Cs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cf(e,s,"signUpPassword",G4);case"emailLink":return X4(e,{idToken:n,email:this._email,oobCode:this._password});default:Cs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e){return th(t,"POST","/v1/accounts:signInWithIdp",tr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="http://localhost";class eo extends __{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new eo(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return xl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,xl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xl(e,n)}buildRequest(){const e={requestUri:W4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function J4(t){const e=uu(hu(t)).link,n=e?uu(hu(e)).deep_link_id:null,s=uu(hu(t)).deep_link_id;return(s?uu(hu(s)).link:null)||s||n||e||t}class b_{constructor(e){const n=uu(hu(e)),s=n.apiKey??null,a=n.oobCode??null,l=Z4(n.mode??null);_e(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=J4(e);try{return new b_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.providerId=Fl.PROVIDER_ID}static credential(e,n){return Vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=b_.parseLink(n);return _e(s,"argument-error"),Vu._fromEmailAndCode(e,s.code,s.tenantId)}}Fl.PROVIDER_ID="password";Fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends $R{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends nh{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends nh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return eo._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return kr.credential(n,s)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends nh{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.GITHUB_SIGN_IN_METHOD="github.com";Vr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends nh{constructor(){super("twitter.com")}static credential(e,n){return eo._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(t,e){return th(t,"POST","/v1/accounts:signUp",tr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ns._fromIdTokenResponse(e,s,a),c=Rw(s);return new to({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Rw(s);return new to({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Rw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends Zn{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,If.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new If(e,n,s,a)}}function KR(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(t,l,e,s):l})}async function tU(t,e,n=!1){const s=await Rl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return to._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(t,e,n=!1){const{auth:s}=t;if(Dn(s.app))return Promise.reject(Fi(s));const a="reauthenticate";try{const l=await Rl(t,KR(s,a,e,t),n);_e(l.idToken,s,"internal-error");const c=y_(l.idToken);_e(c,s,"internal-error");const{sub:h}=c;return _e(t.uid===h,s,"user-mismatch"),to._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Cs(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t,e,n=!1){if(Dn(t.app))return Promise.reject(Fi(t));const s="signIn",a=await KR(t,s,e),l=await to._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function sU(t,e){return YR(na(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t,e,n){_e(n.url?.length>0,t,"invalid-continue-uri"),_e(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),_e(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_e(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(_e(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(t){const e=na(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rU(t,e,n){const s=na(t),a={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&iU(s,a,n),await Cf(s,a,"getOobCode",Y4)}async function aU(t,e,n){if(Dn(t.app))return Promise.reject(Fi(t));const s=na(t),c=await Cf(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eU).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&QR(t),m}),h=await to._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(h.user),h}function oU(t,e,n){return Dn(t.app)?Promise.reject(Fi(t)):sU($e(t),Fl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&QR(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(t,e){return ui(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=$e(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Rl(s,lU(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const h=s.providerData.find(({providerId:m})=>m==="password");h&&(h.displayName=s.displayName,h.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function uU(t,e,n,s){return $e(t).onIdTokenChanged(e,n,s)}function hU(t,e,n){return $e(t).beforeAuthStateChanged(e,n)}function XR(t,e,n,s){return $e(t).onAuthStateChanged(e,n,s)}function dU(t){return $e(t).signOut()}const Df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Df,"1"),this.storage.removeItem(Df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=1e3,mU=10;class ZR extends WR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);A4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,mU):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},fU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZR.type="LOCAL";const pU=ZR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR extends WR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JR.type="SESSION";const eN=JR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new am(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(c).map(async g=>g(n.origin,l)),m=await gU(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}am.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,m)=>{const g=T_("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(b){const T=b;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function vU(t){si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function _U(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bU(){return navigator?.serviceWorker?.controller||null}function TU(){return tN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="firebaseLocalStorageDb",EU=1,jf="firebaseLocalStorage",sN="fbase_key";class sh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function om(t,e){return t.transaction([jf],e?"readwrite":"readonly").objectStore(jf)}function xU(){const t=indexedDB.deleteDatabase(nN);return new sh(t).toPromise()}function nv(){const t=indexedDB.open(nN,EU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(jf,{keyPath:sN})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(jf)?e(s):(s.close(),await xU(),e(await nv()))})})}async function Nw(t,e,n){const s=om(t,!0).put({[sN]:e,value:n});return new sh(s).toPromise()}async function wU(t,e){const n=om(t,!1).get(e),s=await new sh(n).toPromise();return s===void 0?null:s.value}function Cw(t,e){const n=om(t,!0).delete(e);return new sh(n).toPromise()}const SU=800,AU=3;class iN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>AU)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=am._getInstance(TU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _U(),!this.activeServiceWorker)return;this.sender=new yU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nv();return await Nw(e,Df,"1"),await Cw(e,Df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Nw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>wU(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=om(a,!1).getAll();return new sh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iN.type="LOCAL";const RU=iN;new eh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t,e){return e?Ui(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_ extends __{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CU(t){return YR(t.auth,new E_(t),t.bypassAuthState)}function IU(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),nU(n,new E_(t),t.bypassAuthState)}async function DU(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),tU(n,new E_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CU;case"linkViaPopup":case"linkViaRedirect":return DU;case"reauthViaPopup":case"reauthViaRedirect":return IU;default:Cs(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=new eh(2e3,1e4);class _l extends rN{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,_l.currentPopupAction&&_l.currentPopupAction.cancel(),_l.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=T_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_l.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jU.get())};e()}}_l.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU="pendingRedirect",cf=new Map;class OU extends rN{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=cf.get(this.auth._key());if(!e){try{const s=await MU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}cf.set(this.auth._key(),e)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MU(t,e){const n=LU(e),s=VU(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function kU(t,e){cf.set(t._key(),e)}function VU(t){return Ui(t._redirectPersistence)}function LU(t){return lf(PU,t.config.apiKey,t.name)}async function UU(t,e,n=!1){if(Dn(t.app))return Promise.reject(Fi(t));const s=na(t),a=NU(s,e),c=await new OU(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=600*1e3;class FU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!aN(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iw(e))}saveEventToCache(e){this.cachedEventUids.add(Iw(e)),this.lastProcessedEventTime=Date.now()}}function Iw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function zU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qU(t,e={}){return ui(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GU=/^https?/;async function $U(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qU(t);for(const n of e)try{if(KU(n))return}catch{}Cs(t,"unauthorized-domain")}function KU(t){const e=ev(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!GU.test(n))return!1;if(HU.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=new eh(3e4,6e4);function Dw(){const t=si().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QU(t){return new Promise((e,n)=>{function s(){Dw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dw(),n(ni(t,"network-request-failed"))},timeout:YU.get()})}if(si().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(si().gapi?.load)s();else{const a=M4("iframefcb");return si()[a]=()=>{gapi.load?s():n(ni(t,"network-request-failed"))},qR(`${O4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw uf=null,e})}let uf=null;function XU(t){return uf=uf||QU(t),uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=new eh(5e3,15e3),ZU="__/auth/iframe",JU="emulator/auth/iframe",e6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n6(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?g_(e,JU):`https://${t.config.authDomain}/${ZU}`,s={apiKey:e.apiKey,appName:t.name,v:uo},a=t6.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Zu(s).slice(1)}`}async function s6(t){const e=await XU(t),n=si().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:n6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e6,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=ni(t,"network-request-failed"),h=si().setTimeout(()=>{l(c)},WU.get());function m(){si().clearTimeout(h),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r6=500,a6=600,o6="_blank",l6="http://localhost";class jw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c6(t,e,n,s=r6,a=a6){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const m={...i6,width:s.toString(),height:a.toString(),top:l,left:c},g=vn().toLowerCase();n&&(h=kR(g)?o6:n),OR(g)&&(e=e||l6,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[w,A])=>`${T}${w}=${A},`,"");if(S4(g)&&h!=="_self")return u6(e||"",h),new jw(null);const b=window.open(e||"",h,v);_e(b,t,"popup-blocked");try{b.focus()}catch{}return new jw(b)}function u6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="__/auth/handler",d6="emulator/auth/handler",f6=encodeURIComponent("fac");async function Pw(t,e,n,s,a,l){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:uo,eventId:a};if(e instanceof $R){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",HV(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof nh){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const m=await t._getAppCheckToken(),g=m?`#${f6}=${encodeURIComponent(m)}`:"";return`${m6(t)}?${Zu(h).slice(1)}${g}`}function m6({config:t}){return t.emulator?g_(t,d6):`https://${t.authDomain}/${h6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="webStorageSupport";class p6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eN,this._completeRedirectFn=UU,this._overrideRedirectResult=kU}async _openPopup(e,n,s,a){Ki(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Pw(e,n,s,ev(),a);return c6(e,l,T_())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await Pw(e,n,s,ev(),a);return vU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ki(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await s6(e),s=new FU(e);return n.register("authEvent",a=>(_e(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(oy,{type:oy},a=>{const l=a?.[0]?.[oy];l!==void 0&&n(!!l),Cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$U(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FR()||MR()||v_()}}const g6=p6;var Ow="@firebase/auth",Mw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _6(t){vs(new Xn("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;_e(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zR(t)},g=new D4(s,a,l,m);return F4(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),vs(new Xn("auth-internal",e=>{const n=na(e.getProvider("auth").getImmediate());return(s=>new y6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yn(Ow,Mw,v6(t)),yn(Ow,Mw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=300,T6=pR("authIdTokenMaxAge")||b6;let kw=null;const E6=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>T6)return;const a=n?.token;kw!==a&&(kw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function x6(t=Ju()){const e=er(t,"auth");if(e.isInitialized())return e.getImmediate();const n=B4(t,{popupRedirectResolver:g6,persistence:[RU,pU,eN]}),s=pR("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=E6(l.toString());hU(n,c,()=>c(n.currentUser)),uU(n,h=>c(h))}}const a=fR("auth");return a&&z4(n,`http://${a}`),n}function w6(){return document.getElementsByTagName("head")?.[0]??document}j4({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=ni("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",w6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_6("Browser");var S6="firebase",A6="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn(S6,A6,"app");var Vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,oN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,N){function C(){}C.prototype=N.prototype,k.D=N.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(M,U,L){for(var O=Array(arguments.length-2),re=2;re<arguments.length;re++)O[re-2]=arguments[re];return N.prototype[U].apply(M,O)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,N,C){C||(C=0);var M=Array(16);if(typeof N=="string")for(var U=0;16>U;++U)M[U]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(U=0;16>U;++U)M[U]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=k.g[0],C=k.g[1],U=k.g[2];var L=k.g[3],O=N+(L^C&(U^L))+M[0]+3614090360&4294967295;N=C+(O<<7&4294967295|O>>>25),O=L+(U^N&(C^U))+M[1]+3905402710&4294967295,L=N+(O<<12&4294967295|O>>>20),O=U+(C^L&(N^C))+M[2]+606105819&4294967295,U=L+(O<<17&4294967295|O>>>15),O=C+(N^U&(L^N))+M[3]+3250441966&4294967295,C=U+(O<<22&4294967295|O>>>10),O=N+(L^C&(U^L))+M[4]+4118548399&4294967295,N=C+(O<<7&4294967295|O>>>25),O=L+(U^N&(C^U))+M[5]+1200080426&4294967295,L=N+(O<<12&4294967295|O>>>20),O=U+(C^L&(N^C))+M[6]+2821735955&4294967295,U=L+(O<<17&4294967295|O>>>15),O=C+(N^U&(L^N))+M[7]+4249261313&4294967295,C=U+(O<<22&4294967295|O>>>10),O=N+(L^C&(U^L))+M[8]+1770035416&4294967295,N=C+(O<<7&4294967295|O>>>25),O=L+(U^N&(C^U))+M[9]+2336552879&4294967295,L=N+(O<<12&4294967295|O>>>20),O=U+(C^L&(N^C))+M[10]+4294925233&4294967295,U=L+(O<<17&4294967295|O>>>15),O=C+(N^U&(L^N))+M[11]+2304563134&4294967295,C=U+(O<<22&4294967295|O>>>10),O=N+(L^C&(U^L))+M[12]+1804603682&4294967295,N=C+(O<<7&4294967295|O>>>25),O=L+(U^N&(C^U))+M[13]+4254626195&4294967295,L=N+(O<<12&4294967295|O>>>20),O=U+(C^L&(N^C))+M[14]+2792965006&4294967295,U=L+(O<<17&4294967295|O>>>15),O=C+(N^U&(L^N))+M[15]+1236535329&4294967295,C=U+(O<<22&4294967295|O>>>10),O=N+(U^L&(C^U))+M[1]+4129170786&4294967295,N=C+(O<<5&4294967295|O>>>27),O=L+(C^U&(N^C))+M[6]+3225465664&4294967295,L=N+(O<<9&4294967295|O>>>23),O=U+(N^C&(L^N))+M[11]+643717713&4294967295,U=L+(O<<14&4294967295|O>>>18),O=C+(L^N&(U^L))+M[0]+3921069994&4294967295,C=U+(O<<20&4294967295|O>>>12),O=N+(U^L&(C^U))+M[5]+3593408605&4294967295,N=C+(O<<5&4294967295|O>>>27),O=L+(C^U&(N^C))+M[10]+38016083&4294967295,L=N+(O<<9&4294967295|O>>>23),O=U+(N^C&(L^N))+M[15]+3634488961&4294967295,U=L+(O<<14&4294967295|O>>>18),O=C+(L^N&(U^L))+M[4]+3889429448&4294967295,C=U+(O<<20&4294967295|O>>>12),O=N+(U^L&(C^U))+M[9]+568446438&4294967295,N=C+(O<<5&4294967295|O>>>27),O=L+(C^U&(N^C))+M[14]+3275163606&4294967295,L=N+(O<<9&4294967295|O>>>23),O=U+(N^C&(L^N))+M[3]+4107603335&4294967295,U=L+(O<<14&4294967295|O>>>18),O=C+(L^N&(U^L))+M[8]+1163531501&4294967295,C=U+(O<<20&4294967295|O>>>12),O=N+(U^L&(C^U))+M[13]+2850285829&4294967295,N=C+(O<<5&4294967295|O>>>27),O=L+(C^U&(N^C))+M[2]+4243563512&4294967295,L=N+(O<<9&4294967295|O>>>23),O=U+(N^C&(L^N))+M[7]+1735328473&4294967295,U=L+(O<<14&4294967295|O>>>18),O=C+(L^N&(U^L))+M[12]+2368359562&4294967295,C=U+(O<<20&4294967295|O>>>12),O=N+(C^U^L)+M[5]+4294588738&4294967295,N=C+(O<<4&4294967295|O>>>28),O=L+(N^C^U)+M[8]+2272392833&4294967295,L=N+(O<<11&4294967295|O>>>21),O=U+(L^N^C)+M[11]+1839030562&4294967295,U=L+(O<<16&4294967295|O>>>16),O=C+(U^L^N)+M[14]+4259657740&4294967295,C=U+(O<<23&4294967295|O>>>9),O=N+(C^U^L)+M[1]+2763975236&4294967295,N=C+(O<<4&4294967295|O>>>28),O=L+(N^C^U)+M[4]+1272893353&4294967295,L=N+(O<<11&4294967295|O>>>21),O=U+(L^N^C)+M[7]+4139469664&4294967295,U=L+(O<<16&4294967295|O>>>16),O=C+(U^L^N)+M[10]+3200236656&4294967295,C=U+(O<<23&4294967295|O>>>9),O=N+(C^U^L)+M[13]+681279174&4294967295,N=C+(O<<4&4294967295|O>>>28),O=L+(N^C^U)+M[0]+3936430074&4294967295,L=N+(O<<11&4294967295|O>>>21),O=U+(L^N^C)+M[3]+3572445317&4294967295,U=L+(O<<16&4294967295|O>>>16),O=C+(U^L^N)+M[6]+76029189&4294967295,C=U+(O<<23&4294967295|O>>>9),O=N+(C^U^L)+M[9]+3654602809&4294967295,N=C+(O<<4&4294967295|O>>>28),O=L+(N^C^U)+M[12]+3873151461&4294967295,L=N+(O<<11&4294967295|O>>>21),O=U+(L^N^C)+M[15]+530742520&4294967295,U=L+(O<<16&4294967295|O>>>16),O=C+(U^L^N)+M[2]+3299628645&4294967295,C=U+(O<<23&4294967295|O>>>9),O=N+(U^(C|~L))+M[0]+4096336452&4294967295,N=C+(O<<6&4294967295|O>>>26),O=L+(C^(N|~U))+M[7]+1126891415&4294967295,L=N+(O<<10&4294967295|O>>>22),O=U+(N^(L|~C))+M[14]+2878612391&4294967295,U=L+(O<<15&4294967295|O>>>17),O=C+(L^(U|~N))+M[5]+4237533241&4294967295,C=U+(O<<21&4294967295|O>>>11),O=N+(U^(C|~L))+M[12]+1700485571&4294967295,N=C+(O<<6&4294967295|O>>>26),O=L+(C^(N|~U))+M[3]+2399980690&4294967295,L=N+(O<<10&4294967295|O>>>22),O=U+(N^(L|~C))+M[10]+4293915773&4294967295,U=L+(O<<15&4294967295|O>>>17),O=C+(L^(U|~N))+M[1]+2240044497&4294967295,C=U+(O<<21&4294967295|O>>>11),O=N+(U^(C|~L))+M[8]+1873313359&4294967295,N=C+(O<<6&4294967295|O>>>26),O=L+(C^(N|~U))+M[15]+4264355552&4294967295,L=N+(O<<10&4294967295|O>>>22),O=U+(N^(L|~C))+M[6]+2734768916&4294967295,U=L+(O<<15&4294967295|O>>>17),O=C+(L^(U|~N))+M[13]+1309151649&4294967295,C=U+(O<<21&4294967295|O>>>11),O=N+(U^(C|~L))+M[4]+4149444226&4294967295,N=C+(O<<6&4294967295|O>>>26),O=L+(C^(N|~U))+M[11]+3174756917&4294967295,L=N+(O<<10&4294967295|O>>>22),O=U+(N^(L|~C))+M[2]+718787259&4294967295,U=L+(O<<15&4294967295|O>>>17),O=C+(L^(U|~N))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+U&4294967295,k.g[3]=k.g[3]+L&4294967295}s.prototype.u=function(k,N){N===void 0&&(N=k.length);for(var C=N-this.blockSize,M=this.B,U=this.h,L=0;L<N;){if(U==0)for(;L<=C;)a(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<N;)if(M[U++]=k.charCodeAt(L++),U==this.blockSize){a(this,M),U=0;break}}else for(;L<N;)if(M[U++]=k[L++],U==this.blockSize){a(this,M),U=0;break}}this.h=U,this.o+=N},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;var C=8*this.o;for(N=k.length-8;N<k.length;++N)k[N]=C&255,C/=256;for(this.u(k),k=Array(16),N=C=0;4>N;++N)for(var M=0;32>M;M+=8)k[C++]=this.g[N]>>>M&255;return k};function l(k,N){var C=h;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=N(k)}function c(k,N){this.h=N;for(var C=[],M=!0,U=k.length-1;0<=U;U--){var L=k[U]|0;M&&L==N||(C[U]=L,M=!1)}this.g=C}var h={};function m(k){return-128<=k&&128>k?l(k,function(N){return new c([N|0],0>N?-1:0)}):new c([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return P(g(-k));for(var N=[],C=1,M=0;k>=C;M++)N[M]=k/C|0,C*=4294967296;return new c(N,0)}function v(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return P(v(k.substring(1),N));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(N,8)),M=b,U=0;U<k.length;U+=8){var L=Math.min(8,k.length-U),O=parseInt(k.substring(U,U+L),N);8>L?(L=g(Math.pow(N,L)),M=M.j(L).add(g(O))):(M=M.j(C),M=M.add(g(O)))}return M}var b=m(0),T=m(1),w=m(16777216);t=c.prototype,t.m=function(){if(D(this))return-P(this).m();for(var k=0,N=1,C=0;C<this.g.length;C++){var M=this.i(C);k+=(0<=M?M:4294967296+M)*N,N*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A(this))return"0";if(D(this))return"-"+P(this).toString(k);for(var N=g(Math.pow(k,6)),C=this,M="";;){var U=W(C,N).g;C=j(C,U.j(N));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=U,A(C))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function A(k){if(k.h!=0)return!1;for(var N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function D(k){return k.h==-1}t.l=function(k){return k=j(this,k),D(k)?-1:A(k)?0:1};function P(k){for(var N=k.g.length,C=[],M=0;M<N;M++)C[M]=~k.g[M];return new c(C,~k.h).add(T)}t.abs=function(){return D(this)?P(this):this},t.add=function(k){for(var N=Math.max(this.g.length,k.g.length),C=[],M=0,U=0;U<=N;U++){var L=M+(this.i(U)&65535)+(k.i(U)&65535),O=(L>>>16)+(this.i(U)>>>16)+(k.i(U)>>>16);M=O>>>16,L&=65535,O&=65535,C[U]=O<<16|L}return new c(C,C[C.length-1]&-2147483648?-1:0)};function j(k,N){return k.add(P(N))}t.j=function(k){if(A(this)||A(k))return b;if(D(this))return D(k)?P(this).j(P(k)):P(P(this).j(k));if(D(k))return P(this.j(P(k)));if(0>this.l(w)&&0>k.l(w))return g(this.m()*k.m());for(var N=this.g.length+k.g.length,C=[],M=0;M<2*N;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var U=0;U<k.g.length;U++){var L=this.i(M)>>>16,O=this.i(M)&65535,re=k.i(U)>>>16,le=k.i(U)&65535;C[2*M+2*U]+=O*le,q(C,2*M+2*U),C[2*M+2*U+1]+=L*le,q(C,2*M+2*U+1),C[2*M+2*U+1]+=O*re,q(C,2*M+2*U+1),C[2*M+2*U+2]+=L*re,q(C,2*M+2*U+2)}for(M=0;M<N;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=N;M<2*N;M++)C[M]=0;return new c(C,0)};function q(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function F(k,N){this.g=k,this.h=N}function W(k,N){if(A(N))throw Error("division by zero");if(A(k))return new F(b,b);if(D(k))return N=W(P(k),N),new F(P(N.g),P(N.h));if(D(N))return N=W(k,P(N)),new F(P(N.g),N.h);if(30<k.g.length){if(D(k)||D(N))throw Error("slowDivide_ only works with positive integers.");for(var C=T,M=N;0>=M.l(k);)C=ee(C),M=ee(M);var U=ue(C,1),L=ue(M,1);for(M=ue(M,2),C=ue(C,2);!A(M);){var O=L.add(M);0>=O.l(k)&&(U=U.add(C),L=O),M=ue(M,1),C=ue(C,1)}return N=j(k,U.j(N)),new F(U,N)}for(U=b;0<=k.l(N);){for(C=Math.max(1,Math.floor(k.m()/N.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=g(C),O=L.j(N);D(O)||0<O.l(k);)C-=M,L=g(C),O=L.j(N);A(L)&&(L=T),U=U.add(L),k=j(k,O)}return new F(U,k)}t.A=function(k){return W(this,k).h},t.and=function(k){for(var N=Math.max(this.g.length,k.g.length),C=[],M=0;M<N;M++)C[M]=this.i(M)&k.i(M);return new c(C,this.h&k.h)},t.or=function(k){for(var N=Math.max(this.g.length,k.g.length),C=[],M=0;M<N;M++)C[M]=this.i(M)|k.i(M);return new c(C,this.h|k.h)},t.xor=function(k){for(var N=Math.max(this.g.length,k.g.length),C=[],M=0;M<N;M++)C[M]=this.i(M)^k.i(M);return new c(C,this.h^k.h)};function ee(k){for(var N=k.g.length+1,C=[],M=0;M<N;M++)C[M]=k.i(M)<<1|k.i(M-1)>>>31;return new c(C,k.h)}function ue(k,N){var C=N>>5;N%=32;for(var M=k.g.length-C,U=[],L=0;L<M;L++)U[L]=0<N?k.i(L+C)>>>N|k.i(L+C+1)<<32-N:k.i(L+C);return new c(U,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,oN=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,qr=c}).apply(typeof Vw<"u"?Vw:typeof self<"u"?self:typeof window<"u"?window:{});var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lN,du,cN,hf,sv,uN,hN,dN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,E){return d==Array.prototype||d==Object.prototype||(d[_]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hd=="object"&&Hd];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(d,_){if(_)e:{var E=s;d=d.split(".");for(var R=0;R<d.length-1;R++){var $=d[R];if(!($ in E))break e;E=E[$]}d=d[d.length-1],R=E[d],_=_(R),_!=R&&_!=null&&e(E,d,{configurable:!0,writable:!0,value:_})}}function l(d,_){d instanceof String&&(d+="");var E=0,R=!1,$={next:function(){if(!R&&E<d.length){var Z=E++;return{value:_(Z,d[Z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(d){return d||function(){return l(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function m(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function g(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function v(d,_,E){return d.call.apply(d.bind,arguments)}function b(d,_,E){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),d.apply(_,$)}}return function(){return d.apply(_,arguments)}}function T(d,_,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,T.apply(null,arguments)}function w(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function A(d,_){function E(){}E.prototype=_.prototype,d.aa=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(R,$,Z){for(var de=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)de[Ue-2]=arguments[Ue];return _.prototype[$].apply(R,de)}}function D(d){const _=d.length;if(0<_){const E=Array(_);for(let R=0;R<_;R++)E[R]=d[R];return E}return[]}function P(d,_){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(m(R)){const $=d.length||0,Z=R.length||0;d.length=$+Z;for(let de=0;de<Z;de++)d[$+de]=R[de]}else d.push(R)}}class j{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function q(d){return/^[\s\xa0]*$/.test(d)}function F(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function W(d){return W[" "](d),d}W[" "]=function(){};var ee=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ue(d,_,E){for(const R in d)_.call(E,d[R],R,d)}function k(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function N(d){const _={};for(const E in d)_[E]=d[E];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,_){let E,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(E in R)d[E]=R[E];for(let Z=0;Z<C.length;Z++)E=C[Z],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function U(d){var _=1;d=d.split(":");const E=[];for(;0<_&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function L(d){h.setTimeout(()=>{throw d},0)}function O(){var d=Re;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class re{constructor(){this.h=this.g=null}add(_,E){const R=le.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var le=new j(()=>new G,d=>d.reset());class G{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let J,he=!1,Re=new re,B=()=>{const d=h.Promise.resolve(void 0);J=()=>{d.then(te)}};var te=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(E){L(E)}var _=le;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}he=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var be=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};h.addEventListener("test",E,_),h.removeEventListener("test",E,_)}catch{}return d})();function je(d,_){if(ce.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(ee){e:{try{W(_.nodeName);var $=!0;break e}catch{}$=!1}$||(_=null)}}else E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&je.aa.h.call(this)}}A(je,ce);var Ae={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var $t="closure_listenable_"+(1e6*Math.random()|0),it=0;function Os(d,_,E,R,$){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=$,this.key=++it,this.da=this.fa=!1}function sr(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function hi(d){this.src=d,this.g={},this.h=0}hi.prototype.add=function(d,_,E,R,$){var Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);var de=aa(d,_,R,$);return-1<de?(_=d[de],E||(_.fa=!1)):(_=new Os(_,this.src,Z,!!R,$),_.fa=E,d.push(_)),_};function ra(d,_){var E=_.type;if(E in d.g){var R=d.g[E],$=Array.prototype.indexOf.call(R,_,void 0),Z;(Z=0<=$)&&Array.prototype.splice.call(R,$,1),Z&&(sr(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function aa(d,_,E,R){for(var $=0;$<d.length;++$){var Z=d[$];if(!Z.da&&Z.listener==_&&Z.capture==!!E&&Z.ha==R)return $}return-1}var oa="closure_lm_"+(1e6*Math.random()|0),Kl={};function mh(d,_,E,R,$){if(Array.isArray(_)){for(var Z=0;Z<_.length;Z++)mh(d,_[Z],E,R,$);return null}return E=ph(E),d&&d[$t]?d.K(_,E,g(R)?!!R.capture:!1,$):es(d,_,E,!1,R,$)}function es(d,_,E,R,$,Z){if(!_)throw Error("Invalid event type");var de=g($)?!!$.capture:!!$,Ue=go(d);if(Ue||(d[oa]=Ue=new hi(d)),E=Ue.add(_,E,R,de,Z),E.proxy)return E;if(R=jm(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)be||($=de),$===void 0&&($=!1),d.addEventListener(_.toString(),R,$);else if(d.attachEvent)d.attachEvent(la(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function jm(){function d(E){return _.call(d.src,d.listener,E)}const _=Pm;return d}function Yl(d,_,E,R,$){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)Yl(d,_[Z],E,R,$);else R=g(R)?!!R.capture:!!R,E=ph(E),d&&d[$t]?(d=d.i,_=String(_).toString(),_ in d.g&&(Z=d.g[_],E=aa(Z,E,R,$),-1<E&&(sr(Z[E]),Array.prototype.splice.call(Z,E,1),Z.length==0&&(delete d.g[_],d.h--)))):d&&(d=go(d))&&(_=d.g[_.toString()],d=-1,_&&(d=aa(_,E,R,$)),(E=-1<d?_[d]:null)&&po(E))}function po(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[$t])ra(_.i,d);else{var E=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(E,R,d.capture):_.detachEvent?_.detachEvent(la(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=go(_))?(ra(E,d),E.h==0&&(E.src=null,_[oa]=null)):sr(d)}}}function la(d){return d in Kl?Kl[d]:Kl[d]="on"+d}function Pm(d,_){if(d.da)d=!0;else{_=new je(_,this);var E=d.listener,R=d.ha||d.src;d.fa&&po(d),d=E.call(R,_)}return d}function go(d){return d=d[oa],d instanceof hi?d:null}var Ql="__closure_events_fn_"+(1e9*Math.random()>>>0);function ph(d){return typeof d=="function"?d:(d[Ql]||(d[Ql]=function(_){return d.handleEvent(_)}),d[Ql])}function yt(){fe.call(this),this.i=new hi(this),this.M=this,this.F=null}A(yt,fe),yt.prototype[$t]=!0,yt.prototype.removeEventListener=function(d,_,E,R){Yl(this,d,_,E,R)};function Qe(d,_){var E,R=d.F;if(R)for(E=[];R;R=R.F)E.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new ce(_,d);else if(_ instanceof ce)_.target=_.target||d;else{var $=_;_=new ce(R,d),M(_,$)}if($=!0,E)for(var Z=E.length-1;0<=Z;Z--){var de=_.g=E[Z];$=kn(de,R,!0,_)&&$}if(de=_.g=d,$=kn(de,R,!0,_)&&$,$=kn(de,R,!1,_)&&$,E)for(Z=0;Z<E.length;Z++)de=_.g=E[Z],$=kn(de,R,!1,_)&&$}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var E=d.g[_],R=0;R<E.length;R++)sr(E[R]);delete d.g[_],d.h--}}this.F=null},yt.prototype.K=function(d,_,E,R){return this.i.add(String(d),_,!1,E,R)},yt.prototype.L=function(d,_,E,R){return this.i.add(String(d),_,!0,E,R)};function kn(d,_,E,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var $=!0,Z=0;Z<_.length;++Z){var de=_[Z];if(de&&!de.da&&de.capture==E){var Ue=de.listener,Ft=de.ha||de.src;de.fa&&ra(d.i,de),$=Ue.call(Ft,R)!==!1&&$}}return $&&!R.defaultPrevented}function un(d,_,E){if(typeof d=="function")E&&(d=T(d,E));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(d,_||0)}function gh(d){d.g=un(()=>{d.g=null,d.i&&(d.i=!1,gh(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Om extends fe{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:gh(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(d){fe.call(this),this.h=d,this.g={}}A(ca,fe);var ua=[];function ha(d){ue(d.g,function(_,E){this.g.hasOwnProperty(E)&&po(_)},d),d.g={}}ca.prototype.N=function(){ca.aa.N.call(this),ha(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ts=h.JSON.stringify,yo=h.JSON.parse,da=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Xl(){}Xl.prototype.h=null;function Wl(d){return d.h||(d.h=d.i())}function Zl(){}var di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fi(){ce.call(this,"d")}A(fi,ce);function Jl(){ce.call(this,"c")}A(Jl,ce);var Ms={},ec=null;function ir(){return ec=ec||new yt}Ms.La="serverreachability";function vo(d){ce.call(this,Ms.La,d)}A(vo,ce);function rr(d){const _=ir();Qe(_,new vo(_))}Ms.STAT_EVENT="statevent";function yh(d,_){ce.call(this,Ms.STAT_EVENT,d),this.stat=_}A(yh,ce);function ct(d){const _=ir();Qe(_,new yh(_,d))}Ms.Ma="timingevent";function Bt(d,_){ce.call(this,Ms.Ma,d),this.size=_}A(Bt,ce);function jt(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},_)}function ts(){this.g=!0}ts.prototype.xa=function(){this.g=!1};function tc(d,_,E,R,$,Z){d.info(function(){if(d.g)if(Z)for(var de="",Ue=Z.split("&"),Ft=0;Ft<Ue.length;Ft++){var Be=Ue[Ft].split("=");if(1<Be.length){var Yt=Be[0];Be=Be[1];var zt=Yt.split("_");de=2<=zt.length&&zt[1]=="type"?de+(Yt+"="+Be+"&"):de+(Yt+"=redacted&")}}else de=null;else de=Z;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+_+`
`+E+`
`+de})}function Mm(d,_,E,R,$,Z,de){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+_+`
`+E+`
`+Z+" "+de})}function ar(d,_,E,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+fa(d,E)+(R?" "+R:"")})}function vh(d,_){d.info(function(){return"TIMEOUT: "+_})}ts.prototype.info=function(){};function fa(d,_){if(!d.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var R=E[d];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var Z=$[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var de=1;de<$.length;de++)$[de]=""}}}}return Ts(E)}catch{return _}}var or={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ks;function Vs(){}A(Vs,Xl),Vs.prototype.g=function(){return new XMLHttpRequest},Vs.prototype.i=function(){return{}},ks=new Vs;function _n(d,_,E,R){this.j=d,this.i=_,this.l=E,this.R=R||1,this.U=new ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var nc={},_o={};function Es(d,_,E){d.L=1,d.v=va(Vn(_)),d.m=E,d.P=!0,pi(d,null)}function pi(d,_){d.F=Date.now(),ma(d),d.A=Vn(d.v);var E=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),lc(E.i,"t",R),d.C=0,E=d.j.J,d.h=new wt,d.g=Oh(d.j,E?_:null,!d.m),0<d.O&&(d.M=new Om(T(d.Y,d,d.g),d.O)),_=d.U,E=d.g,R=d.ca;var $="readystatechange";Array.isArray($)||($&&(ua[0]=$.toString()),$=ua);for(var Z=0;Z<$.length;Z++){var de=mh(E,$[Z],R||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),rr(),tc(d.i,d.u,d.A,d.l,d.R,d.m)}_n.prototype.ca=function(d){d=d.target;const _=this.M;_&&rs(d)==3?_.j():this.Y(d)},_n.prototype.Y=function(d){try{if(d==this.g)e:{const zt=rs(this.g);var _=this.g.Ba();const xi=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Ah(this.g)))){this.J||zt!=4||_==7||(_==8||0>=xi?rr(3):rr(2)),lr(this);var E=this.g.Z();this.X=E;t:if(_h(this)){var R=Ah(this.g);d="";var $=R.length,Z=rs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),Ls(this);var de="";break t}this.h.i=new h.TextDecoder}for(_=0;_<$;_++)this.h.h=!0,d+=this.h.i.decode(R[_],{stream:!(Z&&_==$-1)});R.length=0,this.h.g+=d,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,Mm(this.i,this.u,this.A,this.l,this.R,zt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Ft=this.g;if((Ue=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ue)){var Be=Ue;break t}}Be=null}if(E=Be)ar(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pa(this,E);else{this.o=!1,this.s=3,ct(12),Jt(this),Ls(this);break e}}if(this.P){E=!0;let en;for(;!this.J&&this.C<de.length;)if(en=bh(this,de),en==_o){zt==4&&(this.s=4,ct(14),E=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(en==nc){this.s=4,ct(15),ar(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else ar(this.i,this.l,en,null),pa(this,en);if(_h(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||de.length!=0||this.h.h||(this.s=1,ct(16),E=!1),this.o=this.o&&E,!E)ar(this.i,this.l,de,"[Invalid Chunked Response]"),Jt(this),Ls(this);else if(0<de.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Aa(Yt),Yt.M=!0,ct(11))}}else ar(this.i,this.l,de,null),pa(this,de);zt==4&&Jt(this),this.o&&!this.J&&(zt==4?Dh(this.j,this):(this.o=!1,ma(this)))}else Bm(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Jt(this),Ls(this)}}}catch{}finally{}};function _h(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function bh(d,_){var E=d.C,R=_.indexOf(`
`,E);return R==-1?_o:(E=Number(_.substring(E,R)),isNaN(E)?nc:(R+=1,R+E>_.length?_o:(_=_.slice(R,R+E),d.C=R+E,_)))}_n.prototype.cancel=function(){this.J=!0,Jt(this)};function ma(d){d.S=Date.now()+d.I,Th(d,d.I)}function Th(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=jt(T(d.ba,d),_)}function lr(d){d.B&&(h.clearTimeout(d.B),d.B=null)}_n.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(vh(this.i,this.A),this.L!=2&&(rr(),ct(17)),Jt(this),this.s=2,Ls(this)):Th(this,this.S-d)};function Ls(d){d.j.G==0||d.J||Dh(d.j,d)}function Jt(d){lr(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,ha(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function pa(d,_){try{var E=d.j;if(E.G!=0&&(E.g==d||sc(E.h,d))){if(!d.K&&sc(E.h,d)&&E.G==3){try{var R=E.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Do(E),Co(E);else break e;fc(E),ct(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=jt(T(E.Za,E),6e3));if(1>=To(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ei(E,11)}else if((d.K||E.g==d)&&Do(E),!q(_))for($=E.Da.g.parse(_),_=0;_<$.length;_++){let Be=$[_];if(E.T=Be[0],Be=Be[1],E.G==2)if(Be[0]=="c"){E.K=Be[1],E.ia=Be[2];const Yt=Be[3];Yt!=null&&(E.la=Yt,E.j.info("VER="+E.la));const zt=Be[4];zt!=null&&(E.Aa=zt,E.j.info("SVER="+E.Aa));const xi=Be[5];xi!=null&&typeof xi=="number"&&0<xi&&(R=1.5*xi,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const en=d.g;if(en){const Gs=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var Z=R.h;Z.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Eo(Z,Z.h),Z.h=null))}if(R.D){const pc=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;pc&&(R.ya=pc,Je(R.I,R.D,pc))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var de=d;if(R.qa=Ph(R,R.J?R.ia:null,R.W),de.K){bn(R.h,de);var Ue=de,Ft=R.L;Ft&&(Ue.I=Ft),Ue.B&&(lr(Ue),ma(Ue)),R.g=de}else Ch(R);0<E.i.length&&Io(E)}else Be[0]!="stop"&&Be[0]!="close"||Ei(E,7);else E.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Ei(E,7):hc(E):Be[0]!="noop"&&E.l&&E.l.ta(Be),E.v=0)}}rr(4)}catch{}}var Eh=class{constructor(d,_){this.g=d,this.map=_}};function gi(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function To(d){return d.h?1:d.g?d.g.size:0}function sc(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Eo(d,_){d.g?d.g.add(_):d.h=_}function bn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}gi.prototype.cancel=function(){if(this.i=ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ic(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.D);return _}return D(d.i)}function km(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(m(d)){for(var _=[],E=d.length,R=0;R<E;R++)_.push(d[R]);return _}_=[],E=0;for(R in d)_[E++]=d[R];return _}function xo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(m(d)||typeof d=="string"){var _=[];d=d.length;for(var E=0;E<d;E++)_.push(E);return _}_=[],E=0;for(const R in d)_[E++]=R;return _}}}function rc(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(m(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var E=xo(d),R=km(d),$=R.length,Z=0;Z<$;Z++)_.call(void 0,R[Z],E&&E[Z],d)}var ga=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vm(d,_){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var R=d[E].indexOf("="),$=null;if(0<=R){var Z=d[E].substring(0,R);$=d[E].substring(R+1)}else Z=d[E];_(Z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Pt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Pt){this.h=d.h,ya(this,d.j),this.o=d.o,this.g=d.g,cr(this,d.s),this.l=d.l;var _=d.i,E=new vi;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),yi(this,E),this.m=d.m}else d&&(_=String(d).match(ga))?(this.h=!1,ya(this,_[1]||"",!0),this.o=ns(_[2]||""),this.g=ns(_[3]||"",!0),cr(this,_[4]),this.l=ns(_[5]||"",!0),yi(this,_[6]||"",!0),this.m=ns(_[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}Pt.prototype.toString=function(){var d=[],_=this.j;_&&d.push(_a(_,ac,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(_a(_,ac,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(_a(E,E.charAt(0)=="/"?Lm:oc,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",_a(E,wo)),d.join("")};function Vn(d){return new Pt(d)}function ya(d,_,E){d.j=E?ns(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function cr(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function yi(d,_,E){_ instanceof vi?(d.i=_,wh(d.i,d.h)):(E||(_=_a(_,Um)),d.i=new vi(_,d.h))}function Je(d,_,E){d.i.set(_,E)}function va(d){return Je(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ns(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function _a(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,xh),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function xh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ac=/[#\/\?@]/g,oc=/[#\?:]/g,Lm=/[#\?]/g,Um=/[#\?@]/g,wo=/#/g;function vi(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function ss(d){d.g||(d.g=new Map,d.h=0,d.i&&Vm(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=vi.prototype,t.add=function(d,_){ss(this),this.i=null,d=Us(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function _i(d,_){ss(d),_=Us(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function bi(d,_){return ss(d),_=Us(d,_),d.g.has(_)}t.forEach=function(d,_){ss(this),this.g.forEach(function(E,R){E.forEach(function($){d.call(_,$,R,this)},this)},this)},t.na=function(){ss(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let R=0;R<_.length;R++){const $=d[R];for(let Z=0;Z<$.length;Z++)E.push(_[R])}return E},t.V=function(d){ss(this);let _=[];if(typeof d=="string")bi(this,d)&&(_=_.concat(this.g.get(Us(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)_=_.concat(d[E])}return _},t.set=function(d,_){return ss(this),this.i=null,d=Us(this,d),bi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function lc(d,_,E){_i(d,_),0<E.length&&(d.i=null,d.g.set(Us(d,_),D(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var R=_[E];const Z=encodeURIComponent(String(R)),de=this.V(R);for(R=0;R<de.length;R++){var $=Z;de[R]!==""&&($+="="+encodeURIComponent(String(de[R]))),d.push($)}}return this.i=d.join("&")};function Us(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function wh(d,_){_&&!d.j&&(ss(d),d.i=null,d.g.forEach(function(E,R){var $=R.toLowerCase();R!=$&&(_i(this,R),lc(this,$,E))},d)),d.j=_}function ba(d,_){const E=new ts;if(h.Image){const R=new Image;R.onload=w(is,E,"TestLoadImage: loaded",!0,_,R),R.onerror=w(is,E,"TestLoadImage: error",!1,_,R),R.onabort=w(is,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=w(is,E,"TestLoadImage: timeout",!1,_,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function xs(d,_){const E=new ts,R=new AbortController,$=setTimeout(()=>{R.abort(),is(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(Z=>{clearTimeout($),Z.ok?is(E,"TestPingServer: ok",!0,_):is(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),is(E,"TestPingServer: error",!1,_)})}function is(d,_,E,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(E)}catch{}}function Ta(){this.g=new da}function Bs(d,_,E){const R=E||"";try{rc(d,function($,Z){let de=$;g($)&&(de=Ts($)),_.push(R+Z+"="+encodeURIComponent(de))})}catch($){throw _.push(R+"type="+encodeURIComponent("_badmap")),$}}function ur(d){this.l=d.Ub||null,this.j=d.eb||!1}A(ur,Xl),ur.prototype.g=function(){return new Ti(this.l,this.j)},ur.prototype.i=(function(d){return function(){return d}})({});function Ti(d,_){yt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ti,yt),t=Ti.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,zs(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fs(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function cc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Fs(this):zs(this),this.readyState==3&&cc(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Fs(this))},t.Qa=function(d){this.g&&(this.response=d,Fs(this))},t.ga=function(){this.g&&Fs(this)};function Fs(d){d.readyState=4,d.l=null,d.j=null,d.v=null,zs(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function zs(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function uc(d){let _="";return ue(d,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function Kt(d,_,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=uc(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Je(d,_,E))}function Ke(d){yt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ke,yt);var So=/^https?$/i,Ea=["POST","PUT"];t=Ke.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ks.g(),this.v=this.o?Wl(this.o):Wl(ks),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(Z){Sh(this,Z);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)E.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())E.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),$=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ea,_,void 0))||R||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,de]of E)this.g.setRequestHeader(Z,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xa(this),this.u=!0,this.g.send(d),this.u=!1}catch(Z){Sh(this,Z)}};function Sh(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Ao(d),qs(d)}function Ao(d){d.A||(d.A=!0,Qe(d,"complete"),Qe(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Qe(this,"complete"),Qe(this,"abort"),qs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qs(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ro(this):this.bb())},t.bb=function(){Ro(this)};function Ro(d){if(d.h&&typeof c<"u"&&(!d.v[1]||rs(d)!=4||d.Z()!=2)){if(d.u&&rs(d)==4)un(d.Ea,0,d);else if(Qe(d,"readystatechange"),rs(d)==4){d.h=!1;try{const de=d.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var R;if(R=de===0){var $=String(d.D).match(ga)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),R=!So.test($?$.toLowerCase():"")}E=R}if(E)Qe(d,"complete"),Qe(d,"success");else{d.m=6;try{var Z=2<rs(d)?d.g.statusText:""}catch{Z=""}d.l=Z+" ["+d.Z()+"]",Ao(d)}}finally{qs(d)}}}}function qs(d,_){if(d.g){xa(d);const E=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Qe(d,"ready");try{E.onreadystatechange=R}catch{}}}function xa(d){d.I&&(h.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function rs(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<rs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),yo(_)}};function Ah(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Bm(d){const _={};d=(d.g&&2<=rs(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(q(d[R]))continue;var E=U(d[R]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=_[$]||[];_[$]=Z,Z.push(E)}k(_,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function No(d){this.Aa=0,this.i=[],this.j=new ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,d),this.cb=wa("retryDelaySeedMs",1e4,d),this.Wa=wa("forwardChannelMaxRetries",2,d),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(d&&d.concurrentRequestLimit),this.Da=new Ta,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=No.prototype,t.la=8,t.G=1,t.connect=function(d,_,E,R){ct(0),this.W=d,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Ph(this,null,this.W),Io(this)};function hc(d){if(Rh(d),d.G==3){var _=d.U++,E=Vn(d.I);if(Je(E,"SID",d.K),Je(E,"RID",_),Je(E,"TYPE","terminate"),Sa(d,E),_=new _n(d,d.j,_),_.L=2,_.v=va(Vn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=_.v,E=!0),E||(_.g=Oh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ma(_)}jh(d)}function Co(d){d.g&&(Aa(d),d.g.cancel(),d.g=null)}function Rh(d){Co(d),d.u&&(h.clearTimeout(d.u),d.u=null),Do(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Io(d){if(!bo(d.h)&&!d.s){d.s=!0;var _=d.Ga;J||B(),he||(J(),he=!0),Re.add(_,d),d.B=0}}function Fm(d,_){return To(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=jt(T(d.Ga,d,_),mc(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const $=new _n(this,this.j,d);let Z=this.o;if(this.S&&(Z?(Z=N(Z),M(Z,this.S)):Z=this.S),this.m!==null||this.O||($.H=Z,Z=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Nh(this,$,_),E=Vn(this.I),Je(E,"RID",d),Je(E,"CVER",22),this.D&&Je(E,"X-HTTP-Session-Id",this.D),Sa(this,E),Z&&(this.O?_="headers="+encodeURIComponent(String(uc(Z)))+"&"+_:this.m&&Kt(E,this.m,Z)),Eo(this.h,$),this.Ua&&Je(E,"TYPE","init"),this.P?(Je(E,"$req",_),Je(E,"SID","null"),$.T=!0,Es($,E,null)):Es($,E,_),this.G=2}}else this.G==3&&(d?dc(this,d):this.i.length==0||bo(this.h)||dc(this))};function dc(d,_){var E;_?E=_.l:E=d.U++;const R=Vn(d.I);Je(R,"SID",d.K),Je(R,"RID",E),Je(R,"AID",d.T),Sa(d,R),d.m&&d.o&&Kt(R,d.m,d.o),E=new _n(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Nh(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Eo(d.h,E),Es(E,R,_)}function Sa(d,_){d.H&&ue(d.H,function(E,R){Je(_,R,E)}),d.l&&rc({},function(E,R){Je(_,R,E)})}function Nh(d,_,E){E=Math.min(d.i.length,E);var R=d.l?T(d.l.Na,d.l,d):null;e:{var $=d.i;let Z=-1;for(;;){const de=["count="+E];Z==-1?0<E?(Z=$[0].g,de.push("ofs="+Z)):Z=0:de.push("ofs="+Z);let Ue=!0;for(let Ft=0;Ft<E;Ft++){let Be=$[Ft].g;const Yt=$[Ft].map;if(Be-=Z,0>Be)Z=Math.max(0,$[Ft].g-100),Ue=!1;else try{Bs(Yt,de,"req"+Be+"_")}catch{R&&R(Yt)}}if(Ue){R=de.join("&");break e}}}return d=d.i.splice(0,E),_.D=d,R}function Ch(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;J||B(),he||(J(),he=!0),Re.add(_,d),d.v=0}}function fc(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=jt(T(d.Fa,d),mc(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=jt(T(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Co(this),Ih(this))};function Aa(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Ih(d){d.g=new _n(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Vn(d.qa);Je(_,"RID","rpc"),Je(_,"SID",d.K),Je(_,"AID",d.T),Je(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Je(_,"TO",d.ja),Je(_,"TYPE","xmlhttp"),Sa(d,_),d.m&&d.o&&Kt(_,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=va(Vn(_)),E.m=null,E.P=!0,pi(E,d)}t.Za=function(){this.C!=null&&(this.C=null,Co(this),fc(this),ct(19))};function Do(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Dh(d,_){var E=null;if(d.g==_){Do(d),Aa(d),d.g=null;var R=2}else if(sc(d.h,_))E=_.D,bn(d.h,_),R=1;else return;if(d.G!=0){if(_.o)if(R==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var $=d.B;R=ir(),Qe(R,new Bt(R,E)),Io(d)}else Ch(d);else if($=_.s,$==3||$==0&&0<_.X||!(R==1&&Fm(d,_)||R==2&&fc(d)))switch(E&&0<E.length&&(_=d.h,_.i=_.i.concat(E)),$){case 1:Ei(d,5);break;case 4:Ei(d,10);break;case 3:Ei(d,6);break;default:Ei(d,2)}}}function mc(d,_){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*_}function Ei(d,_){if(d.j.info("Error code "+_),_==2){var E=T(d.fb,d),R=d.Xa;const $=!R;R=new Pt(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ya(R,"https"),va(R),$?ba(R.toString(),E):xs(R.toString(),E)}else ct(2);d.G=0,d.l&&d.l.sa(_),jh(d),Rh(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function jh(d){if(d.G=0,d.ka=[],d.l){const _=ic(d.h);(_.length!=0||d.i.length!=0)&&(P(d.ka,_),P(d.ka,d.i),d.h.i.length=0,D(d.i),d.i.length=0),d.l.ra()}}function Ph(d,_,E){var R=E instanceof Pt?Vn(E):new Pt(E);if(R.g!="")_&&(R.g=_+"."+R.g),cr(R,R.s);else{var $=h.location;R=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;var Z=new Pt(null);R&&ya(Z,R),_&&(Z.g=_),$&&cr(Z,$),E&&(Z.l=E),R=Z}return E=d.D,_=d.ya,E&&_&&Je(R,E,_),Je(R,"VER",d.la),Sa(d,R),R}function Oh(d,_,E){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Ke(new ur({eb:E})):new Ke(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mh(){}t=Mh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jo(){}jo.prototype.g=function(d,_){return new Tn(d,_)};function Tn(d,_){yt.call(this),this.g=new No(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!q(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!q(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Hs(this)}A(Tn,yt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){hc(this.g)},Tn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Ts(d),d=E);_.i.push(new Eh(_.Ya++,d)),_.G==3&&Io(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,hc(this.g),delete this.g,Tn.aa.N.call(this)};function kh(d){fi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const E in _){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}A(kh,fi);function Vh(){Jl.call(this),this.status=1}A(Vh,Jl);function Hs(d){this.g=d}A(Hs,Mh),Hs.prototype.ua=function(){Qe(this.g,"a")},Hs.prototype.ta=function(d){Qe(this.g,new kh(d))},Hs.prototype.sa=function(d){Qe(this.g,new Vh)},Hs.prototype.ra=function(){Qe(this.g,"b")},jo.prototype.createWebChannel=jo.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,dN=function(){return new jo},hN=function(){return ir()},uN=Ms,sv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,hf=or,mi.COMPLETE="complete",cN=mi,Zl.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",yt.prototype.listen=yt.prototype.K,du=Zl,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,lN=Ke}).apply(typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{});const Lw="@firebase/firestore",Uw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new im("@firebase/firestore");function ul(){return no.logLevel}function pe(t,...e){if(no.logLevel<=ke.DEBUG){const n=e.map(x_);no.debug(`Firestore (${zl}): ${t}`,...n)}}function Yi(t,...e){if(no.logLevel<=ke.ERROR){const n=e.map(x_);no.error(`Firestore (${zl}): ${t}`,...n)}}function Nl(t,...e){if(no.logLevel<=ke.WARN){const n=e.map(x_);no.warn(`Firestore (${zl}): ${t}`,...n)}}function x_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,fN(t,s,n)}function fN(t,e,n){let s=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Yi(s),new Error(s)}function Ye(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||fN(e,a,s)}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class N6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class C6{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new zi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new zi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new mN(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class I6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new I6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Bw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=P6(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ve(t,e){return t<e?-1:t>e?1:0}function iv(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return ly(a)===ly(l)?Ve(a,l):ly(a)?1:-1}return Ve(t.length,e.length)}const O6=55296,M6=57343;function ly(t){const e=t.charCodeAt(0);return e>=O6&&e<=M6}function Cl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="__name__";class Ws{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ws?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Ws.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Ws.isNumericId(e),a=Ws.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ws.extractNumericId(e).compare(Ws.extractNumericId(n)):iv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class at extends Ws{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const k6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Ws{construct(e,n,s){return new ln(e,n,s)}static isValidIdentifier(e){return k6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fw}static keyField(){return new ln([Fw])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new me(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(s+=h,a++):(l(),a++)}if(l(),c)throw new me(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t,e,n){if(!n)throw new me(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V6(t,e,n,s){if(e===!0&&s===!0)throw new me(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zw(t){if(!ve.isDocumentKey(t))throw new me(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qw(t){if(ve.isDocumentKey(t))throw new me(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function lm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function Sn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lm(t);throw new me(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function L6(t,e){if(e<=0)throw new me(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t,e){const n={typeString:t};return e&&(n.value=e),n}function ih(t,e){if(!gN(t))throw new me(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new me(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=-62135596800,Gw=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Gw);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Hw)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gw}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ih(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Ut("string",ot._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new ot(0,0))}static max(){return new Ne(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=-1;function U6(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new Yr(a,ve.empty(),e)}function B6(t){return new Yr(t.readTime,t.key,Lu)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(Ne.min(),ve.empty(),Lu)}static max(){return new Yr(Ne.max(),ve.empty(),Lu)}}function F6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==z6)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((a=>a?oe.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,a)=>{const l=e.length,c=new Array(l);let h=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((v=>{c[g]=v,++h,h===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new oe(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function H6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=-1;function um(t){return t==null}function Pf(t){return t===0&&1/t==-1/0}function G6(t){return typeof t=="number"&&Number.isInteger(t)&&!Pf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="";function $6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$w(e)),e=K6(t.get(n),e);return $w(e)}function K6(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case yN:n+="";break;default:n+=l}}return n}function $w(t){return t+yN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gd(this.root,e,this.comparator,!0)}}class Gd{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??on.RED,this.left=a??on.EMPTY,this.right=l??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new on(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return on.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yw(this.data.getIterator())}getIteratorFrom(e){return new Yw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class Yw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new $n([])}unionWith(e){let n=new Gt(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new _N("Invalid base64 string: "+l):l}})(e);return new cn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const Y6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=Y6.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xr(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="server_timestamp",TN="__type__",EN="__previous_value__",xN="__local_write_time__";function A_(t){return(t?.mapValue?.fields||{})[TN]?.stringValue===bN}function hm(t){const e=t.mapValue.fields[EN];return A_(e)?hm(e):e}function Uu(t){const e=Qr(t.mapValue.fields[xN].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n,s,a,l,c,h,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Of="(default)";class Bu{constructor(e,n){this.projectId=e,this.database=n||Of}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===Of}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="__type__",X6="__max__",$d={mapValue:{}},SN="__vector__",Mf="value";function Wr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A_(t)?4:Z6(t)?9007199254740991:W6(t)?10:11:xe(28295,{value:t})}function li(t,e){if(t===e)return!0;const n=Wr(t);if(n!==Wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uu(t).isEqual(Uu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Qr(a.timestampValue),h=Qr(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Xr(a.bytesValue).isEqual(Xr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ct(a.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ct(a.integerValue)===Ct(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ct(a.doubleValue),h=Ct(l.doubleValue);return c===h?Pf(c)===Pf(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Cl(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(Kw(c)!==Kw(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(h[m]===void 0||!li(c[m],h[m])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function Fu(t,e){return(t.values||[]).find((n=>li(n,e)))!==void 0}function Il(t,e){if(t===e)return 0;const n=Wr(t),s=Wr(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Ct(l.integerValue||l.doubleValue),m=Ct(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(t,e);case 3:return Qw(t.timestampValue,e.timestampValue);case 4:return Qw(Uu(t),Uu(e));case 5:return iv(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=Xr(l),m=Xr(c);return h.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),m=c.split("/");for(let g=0;g<h.length&&g<m.length;g++){const v=Ve(h[g],m[g]);if(v!==0)return v}return Ve(h.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Ve(Ct(l.latitude),Ct(c.latitude));return h!==0?h:Ve(Ct(l.longitude),Ct(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Xw(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},m=c.fields||{},g=h[Mf]?.arrayValue,v=m[Mf]?.arrayValue,b=Ve(g?.values?.length||0,v?.values?.length||0);return b!==0?b:Xw(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===$d.mapValue&&c===$d.mapValue)return 0;if(l===$d.mapValue)return 1;if(c===$d.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const T=iv(m[b],v[b]);if(T!==0)return T;const w=Il(h[m[b]],g[v[b]]);if(w!==0)return w}return Ve(m.length,v.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function Qw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Qr(t),s=Qr(e),a=Ve(n.seconds,s.seconds);return a!==0?a:Ve(n.nanos,s.nanos)}function Xw(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Il(n[a],s[a]);if(l)return l}return Ve(n.length,s.length)}function Dl(t){return rv(t)}function rv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Xr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=rv(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${rv(n.fields[c])}`;return a+"}"})(t.mapValue):xe(61005,{value:t})}function df(t){switch(Wr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hm(t);return e?16+df(e):16;case 5:return 2*t.stringValue.length;case 6:return Xr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+df(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return sa(s.fields,((l,c)=>{a+=l.length+df(c)})),a})(t.mapValue);default:throw xe(13486,{value:t})}}function Ww(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function av(t){return!!t&&"integerValue"in t}function R_(t){return!!t&&"arrayValue"in t}function Zw(t){return!!t&&"nullValue"in t}function Jw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ff(t){return!!t&&"mapValue"in t}function W6(t){return(t?.mapValue?.fields||{})[wN]?.stringValue===SN}function xu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return sa(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=xu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xu(t.arrayValue.values[n]);return e}return{...t}}function Z6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===X6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(n)}setAll(e){let n=ln.emptyPath(),s={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=h.popLast()}c?s[h.lastSegment()]=xu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];ff(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){sa(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new jn(xu(this.value))}}function AN(t){const e=[];return sa(t.fields,((n,s)=>{const a=new ln([n]);if(ff(s)){const l=AN(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,s,a,l,c,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new pn(e,0,Ne.min(),Ne.min(),Ne.min(),jn.empty(),0)}static newFoundDocument(e,n,s,a){return new pn(e,1,n,Ne.min(),s,a,0)}static newNoDocument(e,n){return new pn(e,2,n,Ne.min(),Ne.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Ne.min(),Ne.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n){this.position=e,this.inclusive=n}}function eS(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(c.referenceValue),n.key):s=Il(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function tS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!li(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n="asc"){this.field=e,this.dir=n}}function J6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{}class Lt extends RN{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new t3(e,n,s):n==="array-contains"?new i3(e,s):n==="in"?new r3(e,s):n==="not-in"?new a3(e,s):n==="array-contains-any"?new o3(e,s):new Lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new n3(e,s):new s3(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Il(n,this.value)):n!==null&&Wr(this.value)===Wr(n)&&this.matchesComparison(Il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Is extends RN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Is(e,n)}matches(e){return NN(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NN(t){return t.op==="and"}function CN(t){return e3(t)&&NN(t)}function e3(t){for(const e of t.filters)if(e instanceof Is)return!1;return!0}function ov(t){if(t instanceof Lt)return t.field.canonicalString()+t.op.toString()+Dl(t.value);if(CN(t))return t.filters.map((e=>ov(e))).join(",");{const e=t.filters.map((n=>ov(n))).join(",");return`${t.op}(${e})`}}function IN(t,e){return t instanceof Lt?(function(s,a){return a instanceof Lt&&s.op===a.op&&s.field.isEqual(a.field)&&li(s.value,a.value)})(t,e):t instanceof Is?(function(s,a){return a instanceof Is&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,h)=>l&&IN(c,a.filters[h])),!0):!1})(t,e):void xe(19439)}function DN(t){return t instanceof Lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Dl(n.value)}`})(t):t instanceof Is?(function(n){return n.op.toString()+" {"+n.getFilters().map(DN).join(" ,")+"}"})(t):"Filter"}class t3 extends Lt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class n3 extends Lt{constructor(e,n){super(e,"in",n),this.keys=jN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class s3 extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=jN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function jN(t,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class i3 extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return R_(n)&&Fu(n.arrayValue,this.value)}}class r3 extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fu(this.value.arrayValue,n)}}class a3 extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fu(this.value.arrayValue,n)}}class o3 extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!R_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Fu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n=null,s=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function nS(t,e=null,n=[],s=[],a=null,l=null,c=null){return new l3(t,e,n,s,a,l,c)}function N_(t){const e=Ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ov(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),um(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Dl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Dl(s))).join(",")),e.Te=n}return e.Te}function C_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tS(t.startAt,e.startAt)&&tS(t.endAt,e.endAt)}function lv(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n=null,s=[],a=[],l=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function c3(t,e,n,s,a,l,c,h){return new Gl(t,e,n,s,a,l,c,h)}function dm(t){return new Gl(t)}function sS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PN(t){return t.collectionGroup!==null}function wu(t){const e=Ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Gt(ln.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new zu(l,s))})),n.has(ln.keyField().canonicalString())||e.Ie.push(new zu(ln.keyField(),s))}return e.Ie}function ii(t){const e=Ce(t);return e.Ee||(e.Ee=u3(e,wu(t))),e.Ee}function u3(t,e){if(t.limitType==="F")return nS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new zu(a.field,l)}));const n=t.endAt?new kf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new kf(t.startAt.position,t.startAt.inclusive):null;return nS(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function cv(t,e){const n=t.filters.concat([e]);return new Gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vf(t,e,n){return new Gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fm(t,e){return C_(ii(t),ii(e))&&t.limitType===e.limitType}function ON(t){return`${N_(ii(t))}|lt:${t.limitType}`}function hl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>DN(a))).join(", ")}]`),um(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Dl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Dl(a))).join(",")),`Target(${s})`})(ii(t))}; limitType=${t.limitType})`}function mm(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of wu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,h,m){const g=eS(c,h,m);return c.inclusive?g<=0:g<0})(s.startAt,wu(s),a)||s.endAt&&!(function(c,h,m){const g=eS(c,h,m);return c.inclusive?g>=0:g>0})(s.endAt,wu(s),a))})(t,e)}function h3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MN(t){return(e,n)=>{let s=!1;for(const a of wu(t)){const l=d3(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function d3(t,e,n){const s=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(l,c,h){const m=c.data.field(l),g=h.data.field(l);return m!==null&&g!==null?Il(m,g):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return vN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=new gt(ve.comparator);function Qi(){return f3}const kN=new gt(ve.comparator);function fu(...t){let e=kN;for(const n of t)e=e.insert(n.key,n);return e}function VN(t){let e=kN;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ka(){return Su()}function LN(){return Su()}function Su(){return new ho((t=>t.toString()),((t,e)=>t.isEqual(e)))}const m3=new gt(ve.comparator),p3=new Gt(ve.comparator);function Le(...t){let e=p3;for(const n of t)e=e.add(n);return e}const g3=new Gt(Ve);function y3(){return g3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(e)?"-0":e}}function UN(t){return{integerValue:""+t}}function v3(t,e){return G6(e)?UN(e):I_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this._=void 0}}function _3(t,e,n){return t instanceof qu?(function(a,l){const c={fields:{[TN]:{stringValue:bN},[xN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&A_(l)&&(l=hm(l)),l&&(c.fields[EN]=l),{mapValue:c}})(n,e):t instanceof Hu?FN(t,e):t instanceof Gu?zN(t,e):(function(a,l){const c=BN(a,l),h=iS(c)+iS(a.Ae);return av(c)&&av(a.Ae)?UN(h):I_(a.serializer,h)})(t,e)}function b3(t,e,n){return t instanceof Hu?FN(t,e):t instanceof Gu?zN(t,e):n}function BN(t,e){return t instanceof Lf?(function(s){return av(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class qu extends pm{}class Hu extends pm{constructor(e){super(),this.elements=e}}function FN(t,e){const n=qN(e);for(const s of t.elements)n.some((a=>li(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Gu extends pm{constructor(e){super(),this.elements=e}}function zN(t,e){let n=qN(e);for(const s of t.elements)n=n.filter((a=>!li(a,s)));return{arrayValue:{values:n}}}class Lf extends pm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function iS(t){return Ct(t.integerValue||t.doubleValue)}function qN(t){return R_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n){this.field=e,this.transform=n}}function E3(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Hu&&a instanceof Hu||s instanceof Gu&&a instanceof Gu?Cl(s.elements,a.elements,li):s instanceof Lf&&a instanceof Lf?li(s.Ae,a.Ae):s instanceof qu&&a instanceof qu})(t.transform,e.transform)}class x3{constructor(e,n){this.version=e,this.transformResults=n}}class An{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gm{}function HN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ym(t.key,An.none()):new rh(t.key,t.data,An.none());{const n=t.data,s=jn.empty();let a=new Gt(ln.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ia(t.key,s,new $n(a.toArray()),An.none())}}function w3(t,e,n){t instanceof rh?(function(a,l,c){const h=a.value.clone(),m=aS(a.fieldTransforms,l,c.transformResults);h.setAll(m),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ia?(function(a,l,c){if(!mf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=aS(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(GN(a)),m.setAll(h),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Au(t,e,n,s){return t instanceof rh?(function(l,c,h,m){if(!mf(l.precondition,c))return h;const g=l.value.clone(),v=oS(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof ia?(function(l,c,h,m){if(!mf(l.precondition,c))return h;const g=oS(l.fieldTransforms,m,c),v=c.data;return v.setAll(GN(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,c,h){return mf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function S3(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=BN(s.transform,a||null);l!=null&&(n===null&&(n=jn.empty()),n.set(s.field,l))}return n||null}function rS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Cl(s,a,((l,c)=>E3(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rh extends gm{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ia extends gm{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function GN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function aS(t,e,n){const s=new Map;Ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);s.set(l.field,b3(c,h,n[a]))}return s}function oS(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,_3(l,c,e))}return s}class ym extends gm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A3 extends gm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&w3(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Au(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Au(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=LN();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const m=HN(c,h);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Cl(this.mutations,e.mutations,((n,s)=>rS(n,s)))&&Cl(this.baseMutations,e.baseMutations,((n,s)=>rS(n,s)))}}class D_{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return m3})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new D_(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,ze;function I3(t){switch(t){case se.OK:return xe(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function $N(t){if(t===void 0)return Yi("GRPC error has no .code"),se.UNKNOWN;switch(t){case kt.OK:return se.OK;case kt.CANCELLED:return se.CANCELLED;case kt.UNKNOWN:return se.UNKNOWN;case kt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case kt.INTERNAL:return se.INTERNAL;case kt.UNAVAILABLE:return se.UNAVAILABLE;case kt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case kt.NOT_FOUND:return se.NOT_FOUND;case kt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case kt.ABORTED:return se.ABORTED;case kt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case kt.DATA_LOSS:return se.DATA_LOSS;default:return xe(39323,{code:t})}}(ze=kt||(kt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=new qr([4294967295,4294967295],0);function lS(t){const e=D3().encode(t),n=new oN;return n.update(e),new Uint8Array(n.digest())}function cS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new qr([n,s],0),new qr([a,l],0)]}class j_{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new mu(`Invalid padding: ${n}`);if(s<0)throw new mu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new mu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(qr.fromNumber(s)));return a.compare(j3)===1&&(a=new qr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=lS(e),[s,a]=cS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new j_(l,a,n);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=lS(e),[s,a]=cS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ah.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new vm(Ne.min(),a,new gt(Ve),Qi(),Le())}}class ah{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ah(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class KN{constructor(e,n){this.targetId=e,this.Ce=n}}class YN{constructor(e,n,s=cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class uS{constructor(){this.ve=0,this.Fe=hS(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:xe(38017,{changeType:l})}})),new ah(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=hS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class P3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qi(),this.Je=Kd(),this.He=Kd(),this.Ye=new gt(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(lv(l))if(s===0){const c=new ve(l.path);this.et(n,c,pn.newNoDocument(c,Ne.min()))}else Ye(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const h=this.ut(e),m=h?this.ct(h,e,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=Xr(s).toUint8Array()}catch(m){if(m instanceof _N)return Nl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new j_(c,a,l)}catch(m){return Nl(m instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&lv(h.target)){const m=new ve(h.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,pn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Le();this.He.forEach(((l,c)=>{let h=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new vm(e,n,this.Ye,this.je,s);return this.je=Qi(),this.Je=Kd(),this.He=Kd(),this.Ye=new gt(Ve),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new uS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kd(){return new gt(ve.comparator)}function hS(){return new gt(ve.comparator)}const O3={asc:"ASCENDING",desc:"DESCENDING"},M3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k3={and:"AND",or:"OR"};class V3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uv(t,e){return t.useProto3Json||um(e)?e:{value:e}}function Uf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function L3(t,e){return Uf(t,e.toTimestamp())}function ri(t){return Ye(!!t,49232),Ne.fromTimestamp((function(n){const s=Qr(n);return new ot(s.seconds,s.nanos)})(t))}function P_(t,e){return hv(t,e).canonicalString()}function hv(t,e){const n=(function(a){return new at(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function XN(t){const e=at.fromString(t);return Ye(tC(e),10190,{key:e.toString()}),e}function dv(t,e){return P_(t.databaseId,e.path)}function cy(t,e){const n=XN(e);if(n.get(1)!==t.databaseId.projectId)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(ZN(n))}function WN(t,e){return P_(t.databaseId,e)}function U3(t){const e=XN(t);return e.length===4?at.emptyPath():ZN(e)}function fv(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ZN(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dS(t,e,n){return{name:dv(t,e),fields:n.value.mapValue.fields}}function B3(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Ye(v===void 0||typeof v=="string",58123),cn.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),cn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const v=g.code===void 0?se.UNKNOWN:$N(g.code);return new me(v,g.message||"")})(c);n=new YN(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=cy(t,s.document.name),l=ri(s.document.updateTime),c=s.document.createTime?ri(s.document.createTime):Ne.min(),h=new jn({mapValue:{fields:s.document.fields}}),m=pn.newFoundDocument(a,l,c,h),g=s.targetIds||[],v=s.removedTargetIds||[];n=new pf(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=cy(t,s.document),l=s.readTime?ri(s.readTime):Ne.min(),c=pn.newNoDocument(a,l),h=s.removedTargetIds||[];n=new pf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=cy(t,s.document),l=s.removedTargetIds||[];n=new pf([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new C3(a,l),h=s.targetId;n=new KN(h,c)}}return n}function F3(t,e){let n;if(e instanceof rh)n={update:dS(t,e.key,e.value)};else if(e instanceof ym)n={delete:dv(t,e.key)};else if(e instanceof ia)n={update:dS(t,e.key,e.data),updateMask:X3(e.fieldMask)};else{if(!(e instanceof A3))return xe(16599,{Vt:e.type});n={verify:dv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof qu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Hu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Lf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw xe(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:L3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(t,e.precondition)),n}function z3(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?ri(a.updateTime):ri(l);return c.isEqual(Ne.min())&&(c=ri(l)),new x3(c,a.transformResults||[])})(n,e)))):[]}function q3(t,e){return{documents:[WN(t,e.path)]}}function H3(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=WN(t,a);const l=(function(g){if(g.length!==0)return eC(Is.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(T){return{field:dl(T.field),direction:K3(T.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=uv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function G3(t){let e=U3(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ye(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const T=JN(b);return T instanceof Is&&CN(T)?T.getFilters():[T]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((T=>(function(A){return new zu(fl(A.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let T;return T=typeof b=="object"?b.value:b,um(T)?null:T})(n.limit));let m=null;n.startAt&&(m=(function(b){const T=!!b.before,w=b.values||[];return new kf(w,T)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const T=!b.before,w=b.values||[];return new kf(w,T)})(n.endAt)),c3(e,a,c,l,h,"F",m,g)}function $3(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=fl(n.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=fl(n.unaryFilter.field);return Lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=fl(n.unaryFilter.field);return Lt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=fl(n.unaryFilter.field);return Lt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Lt.create(fl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Is.create(n.compositeFilter.filters.map((s=>JN(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function K3(t){return O3[t]}function Y3(t){return M3[t]}function Q3(t){return k3[t]}function dl(t){return{fieldPath:t.canonicalString()}}function fl(t){return ln.fromServerFormat(t.fieldPath)}function eC(t){return t instanceof Lt?(function(n){if(n.op==="=="){if(Jw(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NAN"}};if(Zw(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jw(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NAN"}};if(Zw(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(n.field),op:Y3(n.op),value:n.value}}})(t):t instanceof Is?(function(n){const s=n.getFilters().map((a=>eC(a)));return s.length===1?s[0]:{compositeFilter:{op:Q3(n.op),filters:s}}})(t):xe(54877,{filter:t})}function X3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function tC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,s,a,l=Ne.min(),c=Ne.min(),h=cn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.yt=e}}function Z3(t){const e=G3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(){this.Cn=new e9}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Yr.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class e9{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Gt(at.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Gt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nC=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(nC,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jl(0)}static cr(){return new jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="LruGarbageCollector",t9=1048576;function pS([t,e],[n,s]){const a=Ve(t,n);return a===0?Ve(e,s):a}class n9{constructor(e){this.Ir=e,this.buffer=new Gt(pS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();pS(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class s9{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(mS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hl(n)?pe(mS,"Ignoring IndexedDB error during garbage collection: ",n):await ql(n)}await this.Vr(3e5)}))}}class i9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(cm.ce);const s=new n9(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(fS)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,h,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,h=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),ul()<=ke.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function r9(t,e){return new i9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(){this.changes=new ho((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Au(s.mutation,a,$n.empty(),ot.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const a=Ka();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=fu();return l.forEach(((h,m)=>{c=c.insert(h,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ka();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,s,a){let l=Qi();const c=Su(),h=(function(){return Su()})();return n.forEach(((m,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof ia)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Au(v.mutation,g,v.mutation.getFieldMask(),ot.now())):c.set(g.key,$n.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>h.set(g,new o9(v,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=Su();let a=new gt(((c,h)=>c-h)),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||$n.empty();v=h.applyToLocalView(g,v),s.set(m,v);const b=(a.get(h.batchId)||Le()).add(m);a=a.insert(h.batchId,b)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),g=m.key,v=m.value,b=LN();v.forEach((T=>{if(!l.has(T)){const w=HN(n.get(T),s.get(T));w!==null&&b.set(T,w),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return oe.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):oe.resolve(Ka());let h=Lu,m=l;return c.next((g=>oe.forEach(g,((v,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{m=m.insert(v,T)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Le()))).next((v=>({batchId:h,changes:VN(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let a=fu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=fu();return this.indexManager.getCollectionParents(e,l).next((h=>oe.forEach(h,(m=>{const g=(function(b,T){return new Gl(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((v=>{v.forEach(((b,T)=>{c=c.insert(b,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,pn.newInvalidDocument(v)))}));let h=fu();return c.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&Au(v.mutation,g,$n.empty(),ot.now()),mm(n,g)&&(h=h.insert(m,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ri(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:Z3(a.bundledQuery),readTime:ri(a.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(){this.overlays=new gt(ve.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ka();return oe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const a=Ka(),l=n.length+1,c=new ve(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new gt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=Ka(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const h=Ka(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>h.set(g,v))),!(h.size()>=a)););return oe.resolve(h)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new N3(n,s));let l=this.qr.get(n);l===void 0&&(l=Le(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.Qr=new Gt(Zt.$r),this.Ur=new Gt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ve(new at([])),s=new Zt(n,e),a=new Zt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new at([])),s=new Zt(n,e),a=new Zt(n,e+1);let l=Le();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Zt.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new R3(l,n,s,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new Zt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?S_:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Zt(n,0),a=new Zt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const h=this.Xr(c.Yr);l.push(h)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Gt(Ve);return n.forEach((a=>{const l=new Zt(a,0),c=new Zt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(h=>{s=s.add(h.Yr)}))})),oe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const c=new Zt(new ve(l),0);let h=new Gt(Ve);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(h=h.add(m.Yr)),!0)}),c),oe.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return oe.forEach(n.mutations,(a=>{const l=new Zt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Zt(n,0),a=this.Zr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.ri=e,this.docs=(function(){return new gt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let s=Qi();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Qi();const c=n.path,h=new ve(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||F6(B6(v),s)<=0||(a.has(v.key)||mm(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,s,a){xe(9500)}ii(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new m9(this)}getSize(e){return oe.resolve(this.size)}}class m9 extends a9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.persistence=e,this.si=new ho((n=>N_(n)),C_),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new O_,this.targetCount=0,this.ai=jl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new jl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.ui={},this.overlays={},this.ci=new cm(0),this.li=!1,this.li=!0,this.hi=new h9,this.referenceDelegate=e(this),this.Pi=new p9(this),this.indexManager=new J3,this.remoteDocumentCache=(function(a){return new f9(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new W3(n),this.Ii=new c9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new d9(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const a=new g9(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return oe.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class g9 extends q6{constructor(e){super(),this.currentSequenceNumber=e}}class M_{constructor(e){this.persistence=e,this.Ri=new O_,this.Vi=null}static mi(e){return new M_(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(s=>{const a=ve.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ne.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bf{constructor(e,n){this.persistence=e,this.pi=new ho((s=>$6(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=r9(this,n)}static mi(e,n){return new Bf(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?oe.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((h=>{h||(s++,l.removeEntry(c,Ne.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=df(e.data.value)),n}br(e,n,s){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return oe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Le(),a=Le();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new k_(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return UV()?8:H6(vn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new y9;return this.Ss(e,n,c).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,c,h.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(ul()<=ke.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",hl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(ul()<=ke.DEBUG&&pe("QueryEngine","Query:",hl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(ul()<=ke.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",hl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(n))):oe.resolve())}ys(e,n){if(sS(n))return oe.resolve(null);let s=ii(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Vf(n,null,"F"),s=ii(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Le(...l);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(n,h);return this.Cs(n,g,c,m.readTime)?this.ys(e,Vf(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,s,a){return sS(n)||a.isEqual(Ne.min())?oe.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?oe.resolve(null):(ul()<=ke.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),hl(n)),this.vs(e,c,n,U6(a,Lu)).next((h=>h)))}))}Ds(e,n){let s=new Gt(MN(e));return n.forEach(((a,l)=>{mm(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return ul()<=ke.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",hl(n)),this.ps.getDocumentsMatchingQuery(e,n,Yr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="LocalStore",_9=3e8;class b9{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new gt(Ve),this.xs=new ho((l=>N_(l)),C_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function T9(t,e,n,s){return new b9(t,e,n,s)}async function iC(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let m=Le();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){h.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function E9(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,g,v){const b=g.batch,T=b.keys();let w=oe.resolve();return T.forEach((A=>{w=w.next((()=>v.getEntry(m,A))).next((D=>{const P=g.docVersions.get(A);Ye(P!==null,48541),D.version.compareTo(P)<0&&(b.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),v.addEntry(D)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(m,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let m=Le();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(m=m.add(h.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function rC(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function x9(t,e){const n=Ce(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((v,b)=>{const T=a.get(b);if(!T)return;h.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,b))));let w=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(cn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,s)),a=a.insert(b,w),(function(D,P,j){return D.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=_9?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(T,w,v)&&h.push(n.Pi.updateTargetData(l,w))}));let m=Qi(),g=Le();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),h.push(w9(l,c,e.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!s.isEqual(Ne.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((b=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(v)}return oe.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function w9(t,e,n){let s=Le(),a=Le();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Qi();return n.forEach(((h,m)=>{const g=l.get(h);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):pe(V_,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function S9(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=S_),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function A9(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,oe.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Br(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function mv(t,e,n){const s=Ce(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Hl(c))throw c;pe(V_,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function gS(t,e,n){const s=Ce(t);let a=Ne.min(),l=Le();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,v){const b=Ce(m),T=b.xs.get(v);return T!==void 0?oe.resolve(b.Ms.get(T)):b.Pi.getTargetData(g,v)})(s,c,ii(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,h.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Ne.min(),n?l:Le()))).next((h=>(R9(s,h3(e),h),{documents:h,Qs:l})))))}function R9(t,e,n){let s=t.Os.get(e)||Ne.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class yS{constructor(){this.activeTargetIds=y3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N9{constructor(){this.Mo=new yS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new yS,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="ConnectivityMonitor";class _S{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(vS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(vS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd=null;function pv(){return Yd===null?Yd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yd++,"0x"+Yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="RestConnection",I9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Of?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=pv(),h=this.zo(e,n.toUriEncodedString());pe(uy,`Sending RPC '${e}' ${c}:`,h,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(h),v=Ji(g);return this.Jo(e,h,m,s,v).then((b=>(pe(uy,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Nl(uy,`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",s),b}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=I9[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class P9 extends D9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=pv();return new Promise(((h,m)=>{const g=new lN;g.setWithCredentials(!0),g.listenOnce(cN.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case hf.NO_ERROR:const b=g.getResponseJson();pe(fn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),h(b);break;case hf.TIMEOUT:pe(fn,`RPC '${e}' ${c} timed out`),m(new me(se.DEADLINE_EXCEEDED,"Request time out"));break;case hf.HTTP_ERROR:const T=g.getStatus();if(pe(fn,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const A=w?.error;if(A&&A.status&&A.message){const D=(function(j){const q=j.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(q)>=0?q:se.UNKNOWN})(A.status);m(new me(D,A.message))}else m(new me(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new me(se.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pe(fn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);pe(fn,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=pv(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=dN(),h=hN(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");pe(fn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const b=c.createWebChannel(v,m);this.I_(b);let T=!1,w=!1;const A=new j9({Yo:P=>{w?pe(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(T||(pe(fn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),T=!0),pe(fn,`RPC '${e}' stream ${a} sending:`,P),b.send(P))},Zo:()=>b.close()}),D=(P,j,q)=>{P.listen(j,(F=>{try{q(F)}catch(W){setTimeout((()=>{throw W}),0)}}))};return D(b,du.EventType.OPEN,(()=>{w||(pe(fn,`RPC '${e}' stream ${a} transport opened.`),A.o_())})),D(b,du.EventType.CLOSE,(()=>{w||(w=!0,pe(fn,`RPC '${e}' stream ${a} transport closed`),A.a_(),this.E_(b))})),D(b,du.EventType.ERROR,(P=>{w||(w=!0,Nl(fn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),A.a_(new me(se.UNAVAILABLE,"The operation could not be completed")))})),D(b,du.EventType.MESSAGE,(P=>{if(!w){const j=P.data[0];Ye(!!j,16349);const q=j,F=q?.error||q[0]?.error;if(F){pe(fn,`RPC '${e}' stream ${a} received error:`,F);const W=F.status;let ee=(function(N){const C=kt[N];if(C!==void 0)return $N(C)})(W),ue=F.message;ee===void 0&&(ee=se.INTERNAL,ue="Unknown error status: "+W+" with message "+F.message),w=!0,A.a_(new me(ee,ue)),b.close()}else pe(fn,`RPC '${e}' stream ${a} received:`,j),A.u_(j)}})),D(h,uN.STAT_EVENT,(P=>{P.stat===sv.PROXY?pe(fn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===sv.NOPROXY&&pe(fn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function hy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t){return new V3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="PersistentStream";class oC{constructor(e,n,s,a,l,c,h,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new me(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(bS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(bS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class O9 extends oC{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=B3(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ne.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?ri(c.readTime):Ne.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=fv(this.serializer),n.addTarget=(function(l,c){let h;const m=c.target;if(h=lv(m)?{documents:q3(l,m)}:{query:H3(l,m).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=QN(l,c.resumeToken);const g=uv(l,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ne.min())>0){h.readTime=Uf(l,c.snapshotVersion.toTimestamp());const g=uv(l,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const s=$3(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=fv(this.serializer),n.removeTarget=e,this.q_(n)}}class M9 extends oC{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=z3(e.writeResults,e.commitTime),s=ri(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=fv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>F3(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{}class V9 extends k9{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,hv(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(se.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,hv(n,s),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(se.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class L9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="RemoteStore";class U9{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{fo(this)&&(pe(so,"Restarting streams for network reachability change."),await(async function(m){const g=Ce(m);g.Ea.add(4),await oh(g),g.Ra.set("Unknown"),g.Ea.delete(4),await bm(g)})(this))}))})),this.Ra=new L9(s,a)}}async function bm(t){if(fo(t))for(const e of t.da)await e(!0)}async function oh(t){for(const e of t.da)await e(!1)}function lC(t,e){const n=Ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),F_(n)?B_(n):$l(n).O_()&&U_(n,e))}function L_(t,e){const n=Ce(t),s=$l(n);n.Ia.delete(e),s.O_()&&cC(n,e),n.Ia.size===0&&(s.O_()?s.L_():fo(n)&&n.Ra.set("Unknown"))}function U_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$l(t).Y_(e)}function cC(t,e){t.Va.Ue(e),$l(t).Z_(e)}function B_(t){t.Va=new P3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),$l(t).start(),t.Ra.ua()}function F_(t){return fo(t)&&!$l(t).x_()&&t.Ia.size>0}function fo(t){return Ce(t).Ea.size===0}function uC(t){t.Va=void 0}async function B9(t){t.Ra.set("Online")}async function F9(t){t.Ia.forEach(((e,n)=>{U_(t,e)}))}async function z9(t,e){uC(t),F_(t)?(t.Ra.ha(e),B_(t)):t.Ra.set("Unknown")}async function q9(t,e,n){if(t.Ra.set("Online"),e instanceof YN&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(s){pe(so,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ff(t,s)}else if(e instanceof pf?t.Va.Ze(e):e instanceof KN?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ne.min()))try{const s=await rC(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const h=l.Va.Tt(c);return h.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,c))}})),h.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(cn.EMPTY_BYTE_STRING,v.snapshotVersion)),cC(l,m);const b=new Br(v.target,m,g,v.sequenceNumber);U_(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){pe(so,"Failed to raise snapshot:",s),await Ff(t,s)}}async function Ff(t,e,n){if(!Hl(e))throw e;t.Ea.add(1),await oh(t),t.Ra.set("Offline"),n||(n=()=>rC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(so,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bm(t)}))}function hC(t,e){return e().catch((n=>Ff(t,n,e)))}async function Tm(t){const e=Ce(t),n=Zr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:S_;for(;H9(e);)try{const a=await S9(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,G9(e,a)}catch(a){await Ff(e,a)}dC(e)&&fC(e)}function H9(t){return fo(t)&&t.Ta.length<10}function G9(t,e){t.Ta.push(e);const n=Zr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function dC(t){return fo(t)&&!Zr(t).x_()&&t.Ta.length>0}function fC(t){Zr(t).start()}async function $9(t){Zr(t).ra()}async function K9(t){const e=Zr(t);for(const n of t.Ta)e.ea(n.mutations)}async function Y9(t,e,n){const s=t.Ta.shift(),a=D_.from(s,e,n);await hC(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Tm(t)}async function Q9(t,e){e&&Zr(t).X_&&await(async function(s,a){if((function(c){return I3(c)&&c!==se.ABORTED})(a.code)){const l=s.Ta.shift();Zr(s).B_(),await hC(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Tm(s)}})(t,e),dC(t)&&fC(t)}async function TS(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),pe(so,"RemoteStore received new credentials");const s=fo(n);n.Ea.add(3),await oh(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bm(n)}async function X9(t,e){const n=Ce(t);e?(n.Ea.delete(2),await bm(n)):e||(n.Ea.add(2),await oh(n),n.Ra.set("Unknown"))}function $l(t){return t.ma||(t.ma=(function(n,s,a){const l=Ce(n);return l.sa(),new O9(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:B9.bind(null,t),t_:F9.bind(null,t),r_:z9.bind(null,t),H_:q9.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),F_(t)?B_(t):t.Ra.set("Unknown")):(await t.ma.stop(),uC(t))}))),t.ma}function Zr(t){return t.fa||(t.fa=(function(n,s,a){const l=Ce(n);return l.sa(),new M9(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:$9.bind(null,t),r_:Q9.bind(null,t),ta:K9.bind(null,t),na:Y9.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Tm(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(so,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,h=new z_(e,n,c,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q_(t,e){if(Yi("AsyncQueue",`${e}: ${t}`),Hl(t))return new me(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{static emptySet(e){return new wl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=fu(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new wl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.ga=new gt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Pl{constructor(e,n,s,a,l,c,h,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new Pl(e,n,wl.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Z9{constructor(){this.queries=xS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ce(n),l=a.queries;a.queries=xS(),l.forEach(((c,h)=>{for(const m of h.Sa)m.onError(s)}))})(this,new me(se.ABORTED,"Firestore shutting down"))}}function xS(){return new ho((t=>ON(t)),fm)}async function H_(t,e){const n=Ce(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new W9,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=q_(c,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&$_(n)}async function G_(t,e){const n=Ce(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function J9(t,e){const n=Ce(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.Sa)h.Fa(a)&&(s=!0);c.wa=a}}s&&$_(n)}function e5(t,e,n){const s=Ce(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function $_(t){t.Ca.forEach((e=>{e.next()}))}var gv,wS;(wS=gv||(gv={})).Ma="default",wS.Cache="cache";class K_{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Pl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.key=e}}class pC{constructor(e){this.key=e}}class t5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=MN(e),this.tu=new wl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new ES,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const T=a.get(v),w=mm(this.query,b)?b:null,A=!!T&&this.mutatedKeys.has(T.key),D=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let P=!1;T&&w?T.data.isEqual(w.data)?A!==D&&(s.track({type:3,doc:w}),P=!0):this.su(T,w)||(s.track({type:2,doc:w}),P=!0,(m&&this.eu(w,m)>0||g&&this.eu(w,g)<0)&&(h=!0)):!T&&w?(s.track({type:0,doc:w}),P=!0):T&&!w&&(s.track({type:1,doc:T}),P=!0,(m||g)&&(h=!0)),P&&(w?(c=c.add(w),l=D?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(w,A){const D=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:P})}};return D(w)-D(A)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new Pl(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ES,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new pC(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new mC(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Y_="SyncEngine";class n5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class s5{constructor(e){this.key=e,this.hu=!1}}class i5{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ho((h=>ON(h)),fm),this.Iu=new Map,this.Eu=new Set,this.du=new gt(ve.comparator),this.Au=new Map,this.Ru=new O_,this.Vu={},this.mu=new Map,this.fu=jl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function r5(t,e,n=!0){const s=TC(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await gC(s,e,n,!0),a}async function a5(t,e){const n=TC(t);await gC(n,e,!0,!1)}async function gC(t,e,n,s){const a=await A9(t.localStore,ii(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await o5(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&lC(t.remoteStore,a),h}async function o5(t,e,n,s,a){t.pu=(b,T,w)=>(async function(D,P,j,q){let F=P.view.ru(j);F.Cs&&(F=await gS(D.localStore,P.query,!1).then((({documents:k})=>P.view.ru(k,F))));const W=q&&q.targetChanges.get(P.targetId),ee=q&&q.targetMismatches.get(P.targetId)!=null,ue=P.view.applyChanges(F,D.isPrimaryClient,W,ee);return AS(D,P.targetId,ue.au),ue.snapshot})(t,b,T,w);const l=await gS(t.localStore,e,!0),c=new t5(e,l.Qs),h=c.ru(l.documents),m=ah.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=c.applyChanges(h,t.isPrimaryClient,m);AS(t,n,g.au);const v=new n5(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function l5(t,e,n){const s=Ce(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!fm(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await mv(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&L_(s.remoteStore,a.targetId),yv(s,a.targetId)})).catch(ql)):(yv(s,a.targetId),await mv(s.localStore,a.targetId,!0))}async function c5(t,e){const n=Ce(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),L_(n.remoteStore,s.targetId))}async function u5(t,e,n){const s=y5(t);try{const a=await(function(c,h){const m=Ce(c),g=ot.now(),v=h.reduce(((w,A)=>w.add(A.key)),Le());let b,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let A=Qi(),D=Le();return m.Ns.getEntries(w,v).next((P=>{A=P,A.forEach(((j,q)=>{q.isValidDocument()||(D=D.add(j))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,A))).next((P=>{b=P;const j=[];for(const q of h){const F=S3(q,b.get(q.key).overlayedDocument);F!=null&&j.push(new ia(q.key,F,AN(F.value.mapValue),An.exists(!0)))}return m.mutationQueue.addMutationBatch(w,g,j,h)})).next((P=>{T=P;const j=P.applyToLocalDocumentSet(b,D);return m.documentOverlayCache.saveOverlays(w,P.batchId,j)}))})).then((()=>({batchId:T.batchId,changes:VN(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,h,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new gt(Ve)),g=g.insert(h,m),c.Vu[c.currentUser.toKey()]=g})(s,a.batchId,n),await lh(s,a.changes),await Tm(s.remoteStore)}catch(a){const l=q_(a,"Failed to persist write");n.reject(l)}}async function yC(t,e){const n=Ce(t);try{const s=await x9(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ye(c.hu,14607):a.removedDocuments.size>0&&(Ye(c.hu,42227),c.hu=!1))})),await lh(n,s,e)}catch(s){await ql(s)}}function SS(t,e,n){const s=Ce(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const m=Ce(c);m.onlineState=h;let g=!1;m.queries.forEach(((v,b)=>{for(const T of b.Sa)T.va(h)&&(g=!0)})),g&&$_(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function h5(t,e,n){const s=Ce(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new gt(ve.comparator);c=c.insert(l,pn.newNoDocument(l,Ne.min()));const h=Le().add(l),m=new vm(Ne.min(),new Map,new gt(Ve),c,h);await yC(s,m),s.du=s.du.remove(l),s.Au.delete(e),Q_(s)}else await mv(s.localStore,e,!1).then((()=>yv(s,e,n))).catch(ql)}async function d5(t,e){const n=Ce(t),s=e.batch.batchId;try{const a=await E9(n.localStore,e);_C(n,s,null),vC(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await lh(n,a)}catch(a){await ql(a)}}async function f5(t,e,n){const s=Ce(t);try{const a=await(function(c,h){const m=Ce(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,h).next((b=>(Ye(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);_C(s,e,n),vC(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await lh(s,a)}catch(a){await ql(a)}}function vC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function _C(t,e,n){const s=Ce(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function yv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||bC(t,s)}))}function bC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(L_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Q_(t))}function AS(t,e,n){for(const s of n)s instanceof mC?(t.Ru.addReference(s.key,e),m5(t,s)):s instanceof pC?(pe(Y_,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||bC(t,s.key)):xe(19791,{wu:s})}function m5(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(pe(Y_,"New document in limbo: "+n),t.Eu.add(s),Q_(t))}function Q_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(at.fromString(e)),s=t.fu.next();t.Au.set(s,new s5(n)),t.du=t.du.insert(n,s),lC(t.remoteStore,new Br(ii(dm(n.path)),s,"TargetPurposeLimboResolution",cm.ce))}}async function lh(t,e,n){const s=Ce(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,m)=>{c.push(s.pu(m,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=k_.As(m.targetId,g);l.push(v)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,g){const v=Ce(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>oe.forEach(g,(T=>oe.forEach(T.Es,(w=>v.persistence.referenceDelegate.addReference(b,T.targetId,w))).next((()=>oe.forEach(T.ds,(w=>v.persistence.referenceDelegate.removeReference(b,T.targetId,w)))))))))}catch(b){if(!Hl(b))throw b;pe(V_,"Failed to update sequence numbers: "+b)}for(const b of g){const T=b.targetId;if(!b.fromCache){const w=v.Ms.get(T),A=w.snapshotVersion,D=w.withLastLimboFreeSnapshotVersion(A);v.Ms=v.Ms.insert(T,D)}}})(s.localStore,l))}async function p5(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){pe(Y_,"User change. New user:",e.toKey());const s=await iC(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((m=>{m.reject(new me(se.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await lh(n,s.Ls)}}function g5(t,e){const n=Ce(t),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let a=Le();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function TC(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h5.bind(null,e),e.Pu.H_=J9.bind(null,e.eventManager),e.Pu.yu=e5.bind(null,e.eventManager),e}function y5(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f5.bind(null,e),e}class zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_m(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return T9(this.persistence,new v9,e.initialUser,this.serializer)}Cu(e){return new sC(M_.mi,this.serializer)}Du(e){return new N9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zf.provider={build:()=>new zf};class v5 extends zf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Bf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new s9(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new sC((s=>Bf.mi(s,n)),this.serializer)}}class vv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>SS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=p5.bind(null,this.syncEngine),await X9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Z9})()}createDatastore(e){const n=_m(e.databaseInfo.databaseId),s=(function(l){return new P9(l)})(e.databaseInfo);return(function(l,c,h,m){return new V9(l,c,h,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,h){return new U9(s,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>SS(this.syncEngine,n,0)),(function(){return _S.v()?new _S:new C9})())}createSyncEngine(e,n){return(function(a,l,c,h,m,g,v){const b=new i5(a,l,c,h,m,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);pe(so,"RemoteStore shutting down."),s.Ea.add(5),await oh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vv.provider={build:()=>new vv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="FirestoreClient";class _5{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=w_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{pe(Jr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(pe(Jr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=q_(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function dy(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Jr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await iC(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function RS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await b5(t);pe(Jr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>TS(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>TS(e.remoteStore,a))),t._onlineComponents=e}async function b5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Jr,"Using user provided OfflineComponentProvider");try{await dy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Nl("Error using user provided cache. Falling back to memory cache: "+n),await dy(t,new zf)}}else pe(Jr,"Using default OfflineComponentProvider"),await dy(t,new v5(void 0));return t._offlineComponents}async function EC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Jr,"Using user provided OnlineComponentProvider"),await RS(t,t._uninitializedComponentsProvider._online)):(pe(Jr,"Using default OnlineComponentProvider"),await RS(t,new vv))),t._onlineComponents}function T5(t){return EC(t).then((e=>e.syncEngine))}async function qf(t){const e=await EC(t),n=e.eventManager;return n.onListen=r5.bind(null,e.syncEngine),n.onUnlisten=l5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=a5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=c5.bind(null,e.syncEngine),n}function E5(t,e,n={}){const s=new zi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,m,g){const v=new X_({next:T=>{v.Nu(),c.enqueueAndForget((()=>G_(l,b)));const w=T.docs.has(h);!w&&T.fromCache?g.reject(new me(se.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&T.fromCache&&m&&m.source==="server"?g.reject(new me(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new K_(dm(h.path),v,{includeMetadataChanges:!0,qa:!0});return H_(l,b)})(await qf(t),t.asyncQueue,e,n,s))),s.promise}function x5(t,e,n={}){const s=new zi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,m,g){const v=new X_({next:T=>{v.Nu(),c.enqueueAndForget((()=>G_(l,b))),T.fromCache&&m.source==="server"?g.reject(new me(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new K_(h,v,{includeMetadataChanges:!0,qa:!0});return H_(l,b)})(await qf(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="firestore.googleapis.com",CS=!0;class IS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wC,this.ssl=CS}else this.host=e.host,this.ssl=e.ssl??CS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<t9)throw new me(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xC(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Em{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new R6;switch(s.type){case"firstParty":return new D6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=NS.get(n);s&&(pe("ComponentProvider","Removing Datastore"),NS.delete(n),s.terminate())})(this),Promise.resolve()}}function w5(t,e,n,s={}){t=Sn(t,Em);const a=Ji(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(nm(`https://${h}`),sm("Firestore",!0)),l.host!==wC&&l.host!==h&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:h,ssl:a,emulatorOptions:s};if(!Kr(m,c)&&(t._setSettings(m),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=mn.MOCK_USER;else{g=gR(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new me(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(b)}t._authCredentials=new N6(new mN(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new nr(this.firestore,e,this._query)}}class Tt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ih(n,Tt._jsonSchema))return new Tt(e,s||null,new ve(at.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Ut("string",Tt._jsonSchemaVersion),referencePath:Ut("string")};class Hr extends nr{constructor(e,n,s){super(e,n,dm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ve(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function _s(t,e,...n){if(t=$e(t),pN("collection","path",e),t instanceof Em){const s=at.fromString(e,...n);return qw(s),new Hr(t,null,s)}{if(!(t instanceof Tt||t instanceof Hr))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return qw(s),new Hr(t.firestore,null,s)}}function Wn(t,e,...n){if(t=$e(t),arguments.length===1&&(e=w_.newId()),pN("doc","path",e),t instanceof Em){const s=at.fromString(e,...n);return zw(s),new Tt(t,null,new ve(s))}{if(!(t instanceof Tt||t instanceof Hr))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return zw(s),new Tt(t.firestore,t instanceof Hr?t.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="AsyncQueue";class jS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aC(this,"async_queue_retry"),this._c=()=>{const s=hy();s&&pe(DS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=hy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=hy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new zi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hl(e))throw e;pe(DS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",PS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=z_.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:PS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function PS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class ci extends Em{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new jS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jS(e),this._firestoreClient=void 0,await e}}}function S5(t,e){const n=typeof t=="object"?t:Ju(),s=typeof t=="string"?t:Of,a=er(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=f_("firestore");l&&w5(a,...l)}return a}function ch(t){if(t._terminated)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||A5(t),t._firestoreClient}function A5(t){const e=t._freezeSettings(),n=(function(a,l,c,h){return new Q6(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,xC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new _5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ps(cn.fromBase64String(e))}catch(n){throw new me(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ps(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ih(e,ps._jsonSchema))return ps.fromBase64String(e.bytes)}}ps._jsonSchemaVersion="firestore/bytes/1.0",ps._jsonSchema={type:Ut("string",ps._jsonSchemaVersion),bytes:Ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ai._jsonSchemaVersion}}static fromJSON(e){if(ih(e,ai._jsonSchema))return new ai(e.latitude,e.longitude)}}ai._jsonSchemaVersion="firestore/geoPoint/1.0",ai._jsonSchema={type:Ut("string",ai._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ih(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new oi(e.vectorValues);throw new me(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Ut("string",oi._jsonSchemaVersion),vectorValues:Ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=/^__.*__$/;class N5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new rh(e,this.data,n,this.fieldTransforms)}}class SC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ia(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class W_{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new W_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AC(this.Ac)&&R5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class C5{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||_m(e)}Cc(e,n,s,a=!1){return new W_({Ac:e,methodName:n,Dc:s,path:ln.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hh(t){const e=t._freezeSettings(),n=_m(t._databaseId);return new C5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Z_(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);eb("Data must be an object, but it was:",c,s);const h=CC(s,c);let m,g;if(l.merge)m=new $n(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const T=_v(e,b,n);if(!c.contains(T))throw new me(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);DC(v,T)||v.push(T)}m=new $n(v),g=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=c.fieldTransforms;return new N5(new jn(h),m,g)}class wm extends xm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wm}}class J_ extends xm{_toFieldTransform(e){return new T3(e.path,new qu)}isEqual(e){return e instanceof J_}}function RC(t,e,n,s){const a=t.Cc(1,e,n);eb("Data must be an object, but it was:",a,s);const l=[],c=jn.empty();sa(s,((m,g)=>{const v=tb(e,m,n);g=$e(g);const b=a.yc(v);if(g instanceof wm)l.push(v);else{const T=dh(g,b);T!=null&&(l.push(v),c.set(v,T))}}));const h=new $n(l);return new SC(c,h,a.fieldTransforms)}function NC(t,e,n,s,a,l){const c=t.Cc(1,e,n),h=[_v(e,s,n)],m=[a];if(l.length%2!=0)throw new me(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(_v(e,l[T])),m.push(l[T+1]);const g=[],v=jn.empty();for(let T=h.length-1;T>=0;--T)if(!DC(g,h[T])){const w=h[T];let A=m[T];A=$e(A);const D=c.yc(w);if(A instanceof wm)g.push(w);else{const P=dh(A,D);P!=null&&(g.push(w),v.set(w,P))}}const b=new $n(g);return new SC(v,b,c.fieldTransforms)}function I5(t,e,n,s=!1){return dh(n,t.Cc(s?4:3,e))}function dh(t,e){if(IC(t=$e(t)))return eb("Unsupported field value:",e,t),CC(t,e);if(t instanceof xm)return(function(s,a){if(!AC(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const h of s){let m=dh(h,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=$e(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return v3(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ot.fromDate(s);return{timestampValue:Uf(a.serializer,l)}}if(s instanceof ot){const l=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uf(a.serializer,l)}}if(s instanceof ai)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ps)return{bytesValue:QN(a.serializer,s._byteString)};if(s instanceof Tt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:P_(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof oi)return(function(c,h){return{mapValue:{fields:{[wN]:{stringValue:SN},[Mf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return I_(h.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${lm(s)}`)})(t,e)}function CC(t,e){const n={};return vN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(t,((s,a)=>{const l=dh(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function IC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof ai||t instanceof ps||t instanceof Tt||t instanceof xm||t instanceof oi)}function eb(t,e,n){if(!IC(n)||!gN(n)){const s=lm(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function _v(t,e,n){if((e=$e(e))instanceof uh)return e._internalPath;if(typeof e=="string")return tb(t,e);throw Hf("Field path arguments must be of type string or ",t,!1,void 0,n)}const D5=new RegExp("[~\\*/\\[\\]]");function tb(t,e,n){if(e.search(D5)>=0)throw Hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uh(...e.split("."))._internalPath}catch{throw Hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hf(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new me(se.INVALID_ARGUMENT,h+t+m)}function DC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class j5 extends jC{data(){return super.data()}}function Sm(t,e){return typeof e=="string"?tb(t,e):e instanceof uh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nb{}class sb extends nb{}function Xi(t,e,...n){let s=[];e instanceof nb&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof ib)).length,h=l.filter((m=>m instanceof Am)).length;if(c>1||c>0&&h>0)throw new me(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Am extends sb{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Am(e,n,s)}_apply(e){const n=this._parse(e);return MC(e._query,n),new nr(e.firestore,e.converter,cv(e._query,n))}_parse(e){const n=hh(e.firestore);return(function(l,c,h,m,g,v,b){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){kS(b,v);const A=[];for(const D of b)A.push(MS(m,l,D));T={arrayValue:{values:A}}}else T=MS(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||kS(b,v),T=I5(h,c,b,v==="in"||v==="not-in");return Lt.create(g,v,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function OC(t,e,n){const s=e,a=Sm("where",t);return Am._create(a,s,n)}class ib extends nb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ib(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Is.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const m of h)MC(c,m),c=cv(c,m)})(e._query,n),new nr(e.firestore,e.converter,cv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rb extends sb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rb(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new me(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new me(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zu(l,c)})(e._query,this._field,this._direction);return new nr(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Gl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Wi(t,e="asc"){const n=e,s=Sm("orderBy",t);return rb._create(s,n)}class ab extends sb{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new ab(e,n,s)}_apply(e){return new nr(e.firestore,e.converter,Vf(e._query,this._limit,this._limitType))}}function mo(t){return L6("limit",t),ab._create("limit",t,"F")}function MS(t,e,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PN(e)&&n.indexOf("/")!==-1)throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!ve.isDocumentKey(s))throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ww(t,new ve(s))}if(n instanceof Tt)return Ww(t,n._key);throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lm(n)}.`)}function kS(t,e){if(!Array.isArray(t)||t.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MC(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class P5{convertValue(e,n="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return sa(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Mf].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new oi(n)}convertGeoPoint(e){return new ai(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=hm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Uu(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Ye(tC(s),9688,{name:e});const a=new Bu(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return a.isEqual(n)||Yi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class pu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends jC{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Sm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:Ut("string",Wa._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class gf extends Wa{data(e={}){return super.data(e)}}class Za{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new pu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new gf(this._firestore,this._userDataWriter,s.key,s,new pu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const m=new gf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new pu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const m=new gf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new pu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:O5(h.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=w_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function O5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t){t=Sn(t,Tt);const e=Sn(t.firestore,ci);return E5(ch(e),t._key).then((n=>LC(e,t,n)))}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Ut("string",Za._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class cb extends P5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ps(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function kC(t){t=Sn(t,nr);const e=Sn(t.firestore,ci),n=ch(e),s=new cb(e);return PC(t._query),x5(n,t._query).then((a=>new Za(e,s,t,a)))}function VC(t,e,n){t=Sn(t,Tt);const s=Sn(t.firestore,ci),a=ob(t.converter,e,n);return fh(s,[Z_(hh(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,An.none())])}function Rm(t,e,n,...s){t=Sn(t,Tt);const a=Sn(t.firestore,ci),l=hh(a);let c;return c=typeof(e=$e(e))=="string"||e instanceof uh?NC(l,"updateDoc",t._key,e,n,s):RC(l,"updateDoc",t._key,e),fh(a,[c.toMutation(t._key,An.exists(!0))])}function M5(t){return fh(Sn(t.firestore,ci),[new ym(t._key,An.none())])}function ub(t,e){const n=Sn(t.firestore,ci),s=Wn(t),a=ob(t.converter,e);return fh(n,[Z_(hh(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,An.exists(!1))]).then((()=>s))}function ea(t,...e){t=$e(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||OS(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(OS(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,c,h;if(t instanceof Tt)c=Sn(t.firestore,ci),h=dm(t._key.path),l={next:m=>{e[s]&&e[s](LC(c,t,m))},error:e[s+1],complete:e[s+2]};else{const m=Sn(t,nr);c=Sn(m.firestore,ci),h=m._query;const g=new cb(c);l={next:v=>{e[s]&&e[s](new Za(c,g,m,v))},error:e[s+1],complete:e[s+2]},PC(t._query)}return(function(g,v,b,T){const w=new X_(T),A=new K_(v,w,b);return g.asyncQueue.enqueueAndForget((async()=>H_(await qf(g),A))),()=>{w.Nu(),g.asyncQueue.enqueueAndForget((async()=>G_(await qf(g),A)))}})(ch(c),h,a,l)}function fh(t,e){return(function(s,a){const l=new zi;return s.asyncQueue.enqueueAndForget((async()=>u5(await T5(s),a,l))),l.promise})(ch(t),e)}function LC(t,e,n){const s=n.docs.get(e._key),a=new cb(t);return new Wa(t,a,e._key,s,new pu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=hh(e)}set(e,n,s){this._verifyNotCommitted();const a=fy(e,this._firestore),l=ob(a.converter,n,s),c=Z_(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,An.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=fy(e,this._firestore);let c;return c=typeof(n=$e(n))=="string"||n instanceof uh?NC(this._dataReader,"WriteBatch.update",l._key,n,s,a):RC(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,An.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=fy(e,this._firestore);return this._mutations=this._mutations.concat(new ym(n._key,An.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fy(t,e){if((t=$e(t)).firestore!==e)throw new me(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Zi(){return new J_("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t){return ch(t=Sn(t,ci)),new k5(t,(e=>fh(t,e)))}(function(e,n=!0){(function(a){zl=a})(uo),vs(new Xn("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new ci(new C6(s.getProvider("auth-internal")),new j6(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(g.options.projectId,v)})(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),yn(Lw,Uw,e),yn(Lw,Uw,"esm2020")})();const UC="@firebase/installations",hb="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=1e4,FC=`w:${hb}`,zC="FIS_v2",L5="https://firebaseinstallations.googleapis.com/v1",U5=3600*1e3,B5="installations",F5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},io=new co(B5,F5,z5);function qC(t){return t instanceof Zn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC({projectId:t}){return`${L5}/projects/${t}/installations`}function GC(t){return{token:t.token,requestStatus:2,expiresIn:H5(t.expiresIn),creationTime:Date.now()}}async function $C(t,e){const s=(await e.json()).error;return io.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function KC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function q5(t,{refreshToken:e}){const n=KC(t);return n.append("Authorization",G5(e)),n}async function YC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function H5(t){return Number(t.replace("s","000"))}function G5(t){return`${zC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=HC(t),a=KC(t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={fid:n,authVersion:zC,appId:t.appId,sdkVersion:FC},h={method:"POST",headers:a,body:JSON.stringify(c)},m=await YC(()=>fetch(s,h));if(m.ok){const g=await m.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:GC(g.authToken)}}else throw await $C("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=/^[cdef][\w-]{21}$/,bv="";function Q5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=X5(t);return Y5.test(n)?n:bv}catch{return bv}}function X5(t){return K5(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new Map;function WC(t,e){const n=Nm(t);ZC(n,e),W5(n,e)}function ZC(t,e){const n=XC.get(t);if(n)for(const s of n)s(e)}function W5(t,e){const n=Z5();n&&n.postMessage({key:t,fid:e}),J5()}let Ya=null;function Z5(){return!Ya&&"BroadcastChannel"in self&&(Ya=new BroadcastChannel("[Firebase] FID Change"),Ya.onmessage=t=>{ZC(t.data.key,t.data.fid)}),Ya}function J5(){XC.size===0&&Ya&&(Ya.close(),Ya=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB="firebase-installations-database",tB=1,ro="firebase-installations-store";let my=null;function db(){return my||(my=ER(eB,tB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ro)}}})),my}async function Gf(t,e){const n=Nm(t),a=(await db()).transaction(ro,"readwrite"),l=a.objectStore(ro),c=await l.get(n);return await l.put(e,n),await a.done,(!c||c.fid!==e.fid)&&WC(t,e.fid),e}async function JC(t){const e=Nm(t),s=(await db()).transaction(ro,"readwrite");await s.objectStore(ro).delete(e),await s.done}async function Cm(t,e){const n=Nm(t),a=(await db()).transaction(ro,"readwrite"),l=a.objectStore(ro),c=await l.get(n),h=e(c);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!c||c.fid!==h.fid)&&WC(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(t){let e;const n=await Cm(t.appConfig,s=>{const a=nB(s),l=sB(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===bv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function nB(t){const e=t||{fid:Q5(),registrationStatus:0};return eI(e)}function sB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(io.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=iB(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:rB(t)}:{installationEntry:e}}async function iB(t,e){try{const n=await $5(t,e);return Gf(t.appConfig,n)}catch(n){throw qC(n)&&n.customData.serverCode===409?await JC(t.appConfig):await Gf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function rB(t){let e=await VS(t.appConfig);for(;e.registrationStatus===1;)await QC(100),e=await VS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await fb(t);return s||n}return e}function VS(t){return Cm(t,e=>{if(!e)throw io.create("installation-not-found");return eI(e)})}function eI(t){return aB(t)?{fid:t.fid,registrationStatus:0}:t}function aB(t){return t.registrationStatus===1&&t.registrationTime+BC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oB({appConfig:t,heartbeatServiceProvider:e},n){const s=lB(t,n),a=q5(t,n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={installation:{sdkVersion:FC,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(c)},m=await YC(()=>fetch(s,h));if(m.ok){const g=await m.json();return GC(g)}else throw await $C("Generate Auth Token",m)}function lB(t,{fid:e}){return`${HC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(t,e=!1){let n;const s=await Cm(t.appConfig,l=>{if(!tI(l))throw io.create("not-registered");const c=l.authToken;if(!e&&hB(c))return l;if(c.requestStatus===1)return n=cB(t,e),l;{if(!navigator.onLine)throw io.create("app-offline");const h=fB(l);return n=uB(t,h),h}});return n?await n:s.authToken}async function cB(t,e){let n=await LS(t.appConfig);for(;n.authToken.requestStatus===1;)await QC(100),n=await LS(t.appConfig);const s=n.authToken;return s.requestStatus===0?mb(t,e):s}function LS(t){return Cm(t,e=>{if(!tI(e))throw io.create("not-registered");const n=e.authToken;return mB(n)?{...e,authToken:{requestStatus:0}}:e})}async function uB(t,e){try{const n=await oB(t,e),s={...e,authToken:n};return await Gf(t.appConfig,s),n}catch(n){if(qC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await JC(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Gf(t.appConfig,s)}throw n}}function tI(t){return t!==void 0&&t.registrationStatus===2}function hB(t){return t.requestStatus===2&&!dB(t)}function dB(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+U5}function fB(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function mB(t){return t.requestStatus===1&&t.requestTime+BC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pB(t){const e=t,{installationEntry:n,registrationPromise:s}=await fb(e);return s?s.catch(console.error):mb(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(t,e=!1){const n=t;return await yB(n),(await mb(n,e)).token}async function yB(t){const{registrationPromise:e}=await fb(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(t){if(!t||!t.options)throw py("App Configuration");if(!t.name)throw py("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw py(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function py(t){return io.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="installations",_B="installations-internal",bB=t=>{const e=t.getProvider("app").getImmediate(),n=vB(e),s=er(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},TB=t=>{const e=t.getProvider("app").getImmediate(),n=er(e,nI).getImmediate();return{getId:()=>pB(n),getToken:a=>gB(n,a)}};function EB(){vs(new Xn(nI,bB,"PUBLIC")),vs(new Xn(_B,TB,"PRIVATE"))}EB();yn(UC,hb);yn(UC,hb,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="analytics",xB="firebase_id",wB="origin",SB=60*1e3,AB="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new im("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Yn=new co("analytics","Analytics",RB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(t){if(!t.startsWith(pb)){const e=Yn.create("invalid-gtag-resource",{gtagURL:t});return Mn.warn(e.message),""}return t}function sI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function CB(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function IB(t,e){const n=CB("firebase-js-sdk-policy",{createScriptURL:NB}),s=document.createElement("script"),a=`${pb}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function DB(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function jB(t,e,n,s,a,l){const c=s[a];try{if(c)await e[c];else{const m=(await sI(n)).find(g=>g.measurementId===a);m&&await e[m.appId]}}catch(h){Mn.error(h)}t("config",a,l)}async function PB(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const h=await sI(n);for(const m of c){const g=h.find(b=>b.measurementId===m),v=g&&e[g.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){Mn.error(l)}}function OB(t,e,n,s){async function a(l,...c){try{if(l==="event"){const[h,m]=c;await PB(t,e,n,h,m)}else if(l==="config"){const[h,m]=c;await jB(t,e,n,s,h,m)}else if(l==="consent"){const[h,m]=c;t("consent",h,m)}else if(l==="get"){const[h,m,g]=c;t("get",h,m,g)}else if(l==="set"){const[h]=c;t("set",h)}else t(l,...c)}catch(h){Mn.error(h)}}return a}function MB(t,e,n,s,a){let l=function(...c){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=OB(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function kB(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(pb)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=30,LB=1e3;class UB{constructor(e={},n=LB){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iI=new UB;function BB(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function FB(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:BB(n)},a=AB.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let c="";try{const h=await l.json();h.error?.message&&(c=h.error.message)}catch{}throw Yn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function zB(t,e=iI,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw Yn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw Yn.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new GB;return setTimeout(async()=>{h.abort()},SB),rI({appId:s,apiKey:a,measurementId:l},c,h,e)}async function rI(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=iI){const{appId:l,measurementId:c}=t;try{await qB(s,e)}catch(h){if(c)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:c};throw h}try{const h=await FB(t);return a.deleteThrottleMetadata(l),h}catch(h){const m=h;if(!HB(m)){if(a.deleteThrottleMetadata(l),c)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:c};throw h}const g=Number(m?.customData?.httpStatus)===503?cw(n,a.intervalMillis,VB):cw(n,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return a.setThrottleMetadata(l,v),Mn.debug(`Calling attemptFetch again in ${g} millis`),rI(t,v,s,a)}}function qB(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s(Yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function HB(t){if(!(t instanceof Zn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class GB{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function $B(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,c={...s,send_to:l};t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KB(){if(vR())try{await _R()}catch(t){return Mn.warn(Yn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Mn.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function YB(t,e,n,s,a,l,c){const h=zB(t);h.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Mn.error(T)),e.push(h);const m=KB().then(T=>{if(T)return s.getId()}),[g,v]=await Promise.all([h,m]);kB(l)||IB(l,g.measurementId),a("js",new Date);const b=c?.config??{};return b[wB]="firebase",b.update=!0,v!=null&&(b[xB]=v),a("config",g.measurementId,b),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e){this.app=e}_delete(){return delete Ru[this.app.options.appId],Promise.resolve()}}let Ru={},US=[];const BS={};let gy="dataLayer",XB="gtag",FS,aI,zS=!1;function WB(){const t=[];if(yR()&&t.push("This is a browser extension environment."),BV()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=Yn.create("invalid-analytics-context",{errorInfo:e});Mn.warn(n.message)}}function ZB(t,e,n){WB();const s=t.options.appId;if(!s)throw Yn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Yn.create("no-api-key");if(Ru[s]!=null)throw Yn.create("already-exists",{id:s});if(!zS){DB(gy);const{wrappedGtag:l,gtagCore:c}=MB(Ru,US,BS,gy,XB);aI=l,FS=c,zS=!0}return Ru[s]=YB(t,US,BS,e,FS,gy,n),new QB(t)}function JB(t=Ju()){t=$e(t);const e=er(t,$f);return e.isInitialized()?e.getImmediate():eF(t)}function eF(t,e={}){const n=er(t,$f);if(n.isInitialized()){const a=n.getImmediate();if(Kr(e,n.getOptions()))return a;throw Yn.create("already-initialized")}return n.initialize({options:e})}function tF(t,e,n,s){t=$e(t),$B(aI,Ru[t.app.options.appId],e,n,s).catch(a=>Mn.error(a))}const qS="@firebase/analytics",HS="0.10.18";function nF(){vs(new Xn($f,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return ZB(s,a,n)},"PUBLIC")),vs(new Xn("analytics-internal",t,"PRIVATE")),yn(qS,HS),yn(qS,HS,"esm2020");function t(e){try{const n=e.getProvider($f).getImmediate();return{logEvent:(s,a,l)=>tF(n,s,a,l)}}catch(n){throw Yn.create("interop-component-reg-failed",{reason:n})}}}nF();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="firebasestorage.googleapis.com",lI="storageBucket",sF=120*1e3,iF=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt extends Zn{constructor(e,n,s=0){super(yy(e),`Firebase Storage: ${n} (${yy(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Et;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Et||(Et={}));function yy(t){return"storage/"+t}function gb(){const t="An unknown error occurred, please check the error payload for server response.";return new xt(Et.UNKNOWN,t)}function rF(t){return new xt(Et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function aF(t){return new xt(Et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function oF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xt(Et.UNAUTHENTICATED,t)}function lF(){return new xt(Et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cF(t){return new xt(Et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function uF(){return new xt(Et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hF(){return new xt(Et.CANCELED,"User canceled the upload/download.")}function dF(t){return new xt(Et.INVALID_URL,"Invalid URL '"+t+"'.")}function fF(t){return new xt(Et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mF(){return new xt(Et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lI+"' property when initializing the app?")}function pF(){return new xt(Et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gF(){return new xt(Et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yF(t){return new xt(Et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tv(t){return new xt(Et.INVALID_ARGUMENT,t)}function cI(){return new xt(Et.APP_DELETED,"The Firebase app was deleted.")}function vF(t){return new xt(Et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nu(t,e){return new xt(Et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ru(t){throw new xt(Et.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Kn.makeFromUrl(e,n)}catch{return new Kn(e,"")}if(s.path==="")return s;throw fF(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function g(W){W.path_=decodeURIComponent(W.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",w=new RegExp(`^https?://${b}/${v}/b/${a}/o${T}`,"i"),A={bucket:1,path:3},D=n===oI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",j=new RegExp(`^https?://${D}/${a}/${P}`,"i"),F=[{regex:h,indices:m,postModify:l},{regex:w,indices:A,postModify:g},{regex:j,indices:{bucket:1,path:2},postModify:g}];for(let W=0;W<F.length;W++){const ee=F[W],ue=ee.regex.exec(e);if(ue){const k=ue[ee.indices.bucket];let N=ue[ee.indices.path];N||(N=""),s=new Kn(k,N),ee.postModify(s);break}}if(s==null)throw dF(e);return s}}class _F{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t,e,n){let s=1,a=null,l=null,c=!1,h=0;function m(){return h===2}let g=!1;function v(...P){g||(g=!0,e.apply(null,P))}function b(P){a=setTimeout(()=>{a=null,t(w,m())},P)}function T(){l&&clearTimeout(l)}function w(P,...j){if(g){T();return}if(P){T(),v.call(null,P,...j);return}if(m()||c){T(),v.call(null,P,...j);return}s<64&&(s*=2);let F;h===1?(h=2,F=0):F=(s+Math.random())*1e3,b(F)}let A=!1;function D(P){A||(A=!0,T(),!g&&(a!==null?(P||(h=2),clearTimeout(a),b(0)):P||(h=1)))}return b(0),l=setTimeout(()=>{c=!0,D(!0)},n),D}function TF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){return t!==void 0}function xF(t){return typeof t=="object"&&!Array.isArray(t)}function yb(t){return typeof t=="string"||t instanceof String}function GS(t){return vb()&&t instanceof Blob}function vb(){return typeof Blob<"u"}function $S(t,e,n,s){if(s<e)throw Tv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Tv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function uI(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ja;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ja||(Ja={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n,s,a,l,c,h,m,g,v,b,T=!0,w=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=T,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,D)=>{this.resolve_=A,this.reject_=D,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Qd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const m=h.loaded,g=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Ja.NO_ERROR,m=l.getStatus();if(!h||wF(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ja.ABORT;s(!1,new Qd(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new Qd(g,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());EF(m)?l(m):l()}catch(m){c(m)}else if(h!==null){const m=gb();m.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,m)):c(m)}else if(a.canceled){const m=this.appDelete_?cI():hF();c(m)}else{const m=uF();c(m)}};this.canceled_?n(!1,new Qd(!1,null,!0)):this.backoffId_=bF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&TF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qd{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function AF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function RF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function CF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function IF(t,e,n,s,a,l,c=!0,h=!1){const m=uI(t.urlParams),g=t.url+m,v=Object.assign({},t.headers);return NF(v,e),AF(v,n),RF(v,l),CF(v,s),new SF(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jF(...t){const e=DF();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(vb())return new Blob(t);throw new xt(Et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(t){if(typeof atob>"u")throw yF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vy{constructor(e,n){this.data=e,this.contentType=n||null}}function MF(t,e){switch(t){case Zs.RAW:return new vy(hI(e));case Zs.BASE64:case Zs.BASE64URL:return new vy(dI(t,e));case Zs.DATA_URL:return new vy(VF(e),LF(e))}throw gb()}function hI(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=t.charCodeAt(++n);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function kF(t){let e;try{e=decodeURIComponent(t)}catch{throw Nu(Zs.DATA_URL,"Malformed data URL.")}return hI(e)}function dI(t,e){switch(t){case Zs.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Nu(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Zs.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Nu(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=OF(e)}catch(a){throw a.message.includes("polyfill")?a:Nu(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class fI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Nu(Zs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=UF(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function VF(t){const e=new fI(t);return e.base64?dI(Zs.BASE64,e.rest):kF(e.rest)}function LF(t){return new fI(t).contentType}function UF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n){let s=0,a="";GS(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(GS(this.data_)){const s=this.data_,a=PF(s,e,n);return a===null?null:new Ur(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Ur(s,!0)}}static getBlob(...e){if(vb()){const n=e.map(s=>s instanceof Ur?s.data_:s);return new Ur(jF.apply(null,n))}else{const n=e.map(c=>yb(c)?MF(Zs.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(c=>{for(let h=0;h<c.length;h++)a[l++]=c[h]}),new Ur(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t){let e;try{e=JSON.parse(t)}catch{return null}return xF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function FF(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function pI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(t,e){return e}class xn{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||zF}}let Xd=null;function qF(t){return!yb(t)||t.length<2?t:pI(t)}function gI(){if(Xd)return Xd;const t=[];t.push(new xn("bucket")),t.push(new xn("generation")),t.push(new xn("metageneration")),t.push(new xn("name","fullPath",!0));function e(l,c){return qF(c)}const n=new xn("name");n.xform=e,t.push(n);function s(l,c){return c!==void 0?Number(c):c}const a=new xn("size");return a.xform=s,t.push(a),t.push(new xn("timeCreated")),t.push(new xn("updated")),t.push(new xn("md5Hash",null,!0)),t.push(new xn("cacheControl",null,!0)),t.push(new xn("contentDisposition",null,!0)),t.push(new xn("contentEncoding",null,!0)),t.push(new xn("contentLanguage",null,!0)),t.push(new xn("contentType",null,!0)),t.push(new xn("metadata","customMetadata",!0)),Xd=t,Xd}function HF(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new Kn(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function GF(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];s[c.local]=c.xform(s,e[c.server])}return HF(s,t),s}function yI(t,e,n){const s=mI(e);return s===null?null:GF(t,s,n)}function $F(t,e,n,s){const a=mI(e);if(a===null||!yb(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const v=t.bucket,b=t.fullPath,T="/b/"+c(v)+"/o/"+c(b),w=_b(T,n,s),A=uI({alt:"media",token:g});return w+A})[0]}function KF(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class vI{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){if(!t)throw gb()}function YF(t,e){function n(s,a){const l=yI(t,a,e);return _I(l!==null),l}return n}function QF(t,e){function n(s,a){const l=yI(t,a,e);return _I(l!==null),$F(l,a,t.host,t._protocol)}return n}function bI(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=lF():a=oF():n.getStatus()===402?a=aF(t.bucket):n.getStatus()===403?a=cF(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function XF(t){const e=bI(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=rF(t.path)),l.serverResponse=a.serverResponse,l}return n}function WF(t,e,n){const s=e.fullServerUrl(),a=_b(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,h=new vI(a,l,QF(t,n),c);return h.errorHandler=XF(e),h}function ZF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function JF(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=ZF(null,e)),s}function ez(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let F="";for(let W=0;W<2;W++)F=F+Math.random().toString().slice(2);return F}const m=h();c["Content-Type"]="multipart/related; boundary="+m;const g=JF(e,s,a),v=KF(g,n),b="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+m+"--",w=Ur.getBlob(b,s,T);if(w===null)throw pF();const A={name:g.fullPath},D=_b(l,t.host,t._protocol),P="POST",j=t.maxUploadRetryTime,q=new vI(D,P,YF(t,n),j);return q.urlParams=A,q.headers=c,q.body=w.uploadData(),q.errorHandler=bI(e),q}class tz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ja.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ja.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ja.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw ru("cannot .send() more than once");if(Ji(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ru("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ru("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ru("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ru("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class nz extends tz{initXhr(){this.xhr_.responseType="text"}}function TI(){return new nz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this._service=e,n instanceof Kn?this._location=n:this._location=Kn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ao(e,n)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pI(this._location.path)}get storage(){return this._service}get parent(){const e=BF(this._location.path);if(e===null)return null;const n=new Kn(this._location.bucket,e);return new ao(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vF(e)}}function sz(t,e,n){t._throwIfRoot("uploadBytes");const s=ez(t.storage,t._location,gI(),new Ur(e,!0),n);return t.storage.makeRequestWithTokens(s,TI).then(a=>({metadata:a,ref:t}))}function iz(t){t._throwIfRoot("getDownloadURL");const e=WF(t.storage,t._location,gI());return t.storage.makeRequestWithTokens(e,TI).then(n=>{if(n===null)throw gF();return n})}function rz(t,e){const n=FF(t._location.path,e),s=new Kn(t._location.bucket,n);return new ao(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(t){return/^[A-Za-z]+:\/\//.test(t)}function oz(t,e){return new ao(t,e)}function EI(t,e){if(t instanceof bb){const n=t;if(n._bucket==null)throw mF();const s=new ao(n,n._bucket);return e!=null?EI(s,e):s}else return e!==void 0?rz(t,e):t}function lz(t,e){if(e&&az(e)){if(t instanceof bb)return oz(t,e);throw Tv("To use ref(service, url), the first argument must be a Storage instance.")}else return EI(t,e)}function KS(t,e){const n=e?.[lI];return n==null?null:Kn.makeFromBucketSpec(n,t)}function cz(t,e,n,s={}){t.host=`${e}:${n}`;const a=Ji(e);a&&(nm(`https://${t.host}/b`),sm("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:gR(l,t.app.options.projectId))}class bb{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=oI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sF,this._maxUploadRetryTime=iF,this._requests=new Set,a!=null?this._bucket=Kn.makeFromBucketSpec(a,this._host):this._bucket=KS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=KS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$S("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$S("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ao(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new _F(cI());{const c=IF(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const YS="@firebase/storage",QS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="storage";function uz(t,e,n){return t=$e(t),sz(t,e,n)}function hz(t){return t=$e(t),iz(t)}function dz(t,e){return t=$e(t),lz(t,e)}function fz(t=Ju(),e){t=$e(t);const s=er(t,xI).getImmediate({identifier:e}),a=f_("storage");return a&&mz(s,...a),s}function mz(t,e,n,s={}){cz(t,e,n,s)}function pz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new bb(n,s,a,e,uo)}function gz(){vs(new Xn(xI,pz,"PUBLIC").setMultipleInstances(!0)),yn(YS,QS,""),yn(YS,QS,"esm2020")}gz();const yz={apiKey:"AIzaSyBAjp5Ek6btPy5NdUxJZaPiaJKa_OOCfsY",authDomain:"draw2toy-92b00.firebaseapp.com",projectId:"draw2toy-92b00",storageBucket:"draw2toy-92b00.firebasestorage.app",messagingSenderId:"433133000389",appId:"1:433133000389:web:4fcd67cb356a5ff8bb42ac",measurementId:"G-FQP1WNGK9N"},Im=xR(yz),oo=x6(Im),lt=S5(Im);JB(Im);const vz=fz(Im);async function _z(t,e){return(await oU(oo,t,e)).user}async function bz(t){const e={url:`${window.location.origin}/login`,handleCodeInApp:!1};return await rU(oo,t,e),!0}async function Tz(t,e,n){const s=await aU(oo,e,n);return await cU(s.user,{displayName:t}),await VC(Wn(lt,"users",s.user.uid),{name:t,email:e,role:"cliente",createdAt:Zi()}),s.user}async function wI(t){const e=await lb(Wn(lt,"users",t));return e.exists()?e.data():null}const SI=I.createContext(null);function Ez({children:t}){const[e,n]=I.useState(void 0),[s,a]=I.useState(null);I.useEffect(()=>{const m=XR(oo,async g=>{if(g){n(g);try{const v=await wI(g.uid);a(v)}catch{a(null)}}else n(null),a(null)});return()=>m()},[]);const l=()=>dU(oo),c=e===void 0,h=!!s&&s.role==="admin";return f.jsx(SI.Provider,{value:{user:e,profile:s,isAdmin:h,loading:c,logout:l},children:c?f.jsx("div",{className:"p-6",children:"Cargando…"}):t})}function Jn(){return I.useContext(SI)}function xz(){const{user:t,logout:e,isAdmin:n}=Jn(),s=Ps(),a=async()=>{await e(),s("/login")},l=()=>{const h=document.getElementById("site-drawer");h&&(h.checked=!1)},c=t?.displayName||t?.email||"Cuenta";return f.jsxs("div",{className:"drawer drawer-end",children:[f.jsx("input",{id:"site-drawer",type:"checkbox",className:"drawer-toggle"}),f.jsx("div",{className:"drawer-content",children:f.jsxs("nav",{className:"navbar bg-base-100/90 backdrop-blur supports-[backdrop-filter]:bg-base-100/70 sticky top-0 z-50 shadow-sm",children:[f.jsx("div",{className:"flex-1 gap-2",children:f.jsx(qe,{to:"/",className:"btn btn-ghost text-xl px-2",onClick:l,children:"Draw2Toy"})}),f.jsx("div",{className:"flex-none items-center gap-2",children:t?f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:"site-drawer",className:"btn btn-ghost btn-sm","aria-label":"Abrir menú",children:f.jsx(XS,{})}),f.jsxs("div",{className:"dropdown dropdown-end",children:[f.jsx("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:f.jsx("div",{className:"w-9 rounded-full ring ring-primary/40 ring-offset-base-100 ring-offset-2",children:f.jsx("img",{alt:"avatar",src:t.photoURL||`https://api.dicebear.com/9.x/initials/svg?seed=${encodeURIComponent(c)}&radius=50`})})}),f.jsxs("ul",{tabIndex:0,className:"mt-3 z-[1] p-2 shadow menu menu-sm dropdown-content bg-base-100 rounded-box w-52",children:[f.jsx("li",{className:"menu-title",children:f.jsx("span",{className:"truncate",children:c})}),f.jsx("li",{children:f.jsx(qe,{to:"/pedido",children:"Mis pedidos"})}),f.jsx("li",{children:f.jsx(qe,{to:"/profile",children:"Mi perfil"})}),f.jsx("li",{children:f.jsx("button",{onClick:a,className:"text-error",children:"Cerrar sesión"})})]})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(qe,{to:"/login",className:"btn btn-outline btn-primary btn-sm",children:"Login"}),f.jsx("label",{htmlFor:"site-drawer",className:"btn btn-ghost btn-sm","aria-label":"Abrir menú",children:f.jsx(XS,{})})]})})]})}),f.jsxs("div",{className:"drawer-side z-50",children:[f.jsx("label",{htmlFor:"site-drawer","aria-label":"close sidebar",className:"drawer-overlay"}),f.jsxs("ul",{className:"menu p-4 w-80 min-h-full bg-base-200/80 backdrop-blur text-base-content gap-1",children:[f.jsx("li",{className:"menu-title",children:f.jsx("span",{children:"Menú"})}),f.jsx("li",{children:f.jsx(qe,{to:"/toyreq1",onClick:l,className:"font-medium",children:"Ordena tu creación"})}),f.jsx("li",{children:t?f.jsx(qe,{to:"/pedido",onClick:l,children:" Estado de pedidos"}):f.jsx("span",{className:"opacity-50 pointer-events-none",children:" Estado de pedidos (ingresa)"})}),f.jsx("li",{children:f.jsx(qe,{to:"/about",onClick:l,children:" Acerca de"})}),f.jsx("li",{children:f.jsx(qe,{to:"/contact",onClick:l,children:"Contacto"})}),f.jsx("li",{children:t?f.jsx(qe,{to:"/checkout",onClick:l,children:"Información de pago"}):f.jsx("span",{className:"opacity-50 pointer-events-none",children:" Información de pago (ingresa)"})}),t&&n&&f.jsxs(f.Fragment,{children:[f.jsx("li",{className:"menu-title mt-2",children:f.jsx("span",{children:"Administración"})}),f.jsx("li",{children:f.jsx(qe,{to:"/admin",onClick:l,className:"text-accent font-semibold",children:"Panel Admin"})})]}),f.jsx("li",{className:"menu-title mt-2",children:f.jsx("span",{children:"Cuenta"})}),t?f.jsxs(f.Fragment,{children:[f.jsx("li",{children:f.jsx("span",{className:"opacity-70 truncate",children:c})}),f.jsx("li",{children:f.jsx("button",{onClick:()=>{l(),a()},className:"btn btn-ghost text-error",children:"Cerrar sesión"})})]}):f.jsxs(f.Fragment,{children:[f.jsx("li",{children:f.jsx(qe,{to:"/login",onClick:l,className:"btn btn-outline btn-primary",children:"Iniciar sesión"})}),f.jsx("li",{children:f.jsx(qe,{to:"/register",onClick:l,className:"btn btn-ghost",children:"Crear cuenta"})})]})]})]})]})}function XS(){return f.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",className:"opacity-80","aria-hidden":"true",children:f.jsx("path",{d:"M3 6h18M3 12h18M3 18h18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}function AI({full:t=!1}){return f.jsx("footer",{className:["w-full bg-[#0b1220] text-white",t?"min-h-[92svh] flex items-center":""].join(" "),children:f.jsx("div",{className:"w-full",children:f.jsxs("div",{className:`mx-auto max-w-7xl px-6 md:px-10 ${t?"py-16 lg:py-24":"py-10 lg:py-12"}`,children:[f.jsxs("div",{className:"grid gap-10 lg:grid-cols-12 items-start",children:[f.jsxs("div",{className:"lg:col-span-7",children:[f.jsxs("h2",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold leading-[0.95]",children:["Convierte ",f.jsx("span",{className:"text-white/90",children:"dibujos"})," en"," ",f.jsx("span",{className:"text-white",children:"peluches"})," que se abrazan."]}),f.jsx("p",{className:"mt-4 text-white/75 max-w-prose",children:"Hecho para mamás y papás: proceso claro, materiales suaves y acompañamiento en cada paso."}),f.jsxs("div",{className:"mt-8 flex flex-wrap items-center gap-3",children:[f.jsxs("a",{href:"/pedido-rapido",className:"inline-flex items-center gap-2 px-5 py-3 rounded-full border border-white/30 hover:border-white/60 text-white/95 hover:text-white transition",children:["Empezar ",f.jsx("span",{className:"underline underline-offset-4",children:"aquí"})]}),f.jsx("a",{href:"/contact",className:"inline-flex px-5 py-3 rounded-full hover:bg-white/10 transition",children:"Contacto"})]})]}),f.jsxs("div",{className:"lg:col-span-5 grid sm:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsx("h6",{className:"text-sm uppercase tracking-wider text-white/60",children:"Enlaces"}),f.jsx("a",{className:"block text-white/85 hover:text-white",href:"/toyreq1",children:"Ordenar"}),f.jsx("a",{className:"block text-white/85 hover:text-white",href:"/about",children:"Acerca de"}),f.jsx("a",{className:"block text-white/85 hover:text-white",href:"/faq",children:"FAQ"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h6",{className:"text-sm uppercase tracking-wider text-white/60",children:"Recursos"}),f.jsx("a",{className:"block text-white/85 hover:text-white",href:"/politicas",children:"Políticas"}),f.jsx("a",{className:"block text-white/85 hover:text-white",href:"/terminos",children:"Términos"}),f.jsx("a",{className:"block text-white/85 hover:text-white",href:"/contact",children:"Soporte"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h6",{className:"text-sm uppercase tracking-wider text-white/60",children:"Social"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("a",{"aria-label":"Twitter",href:"#",className:"opacity-80 hover:opacity-100 transition",children:f.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:f.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775..."})})}),f.jsx("a",{"aria-label":"YouTube",href:"#",className:"opacity-80 hover:opacity-100 transition",children:f.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:f.jsx("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0..."})})}),f.jsx("a",{"aria-label":"Facebook",href:"#",className:"opacity-80 hover:opacity-100 transition",children:f.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"fill-current",children:f.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667..."})})})]})]})]})]}),f.jsxs("div",{className:"mt-14 border-t border-white/10 pt-6 text-center text-sm text-white/50",children:["© ",new Date().getFullYear()," Draw2Toy — Todos los derechos reservados"]})]})})})}const WS={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},Wd={hidden:{opacity:0,y:12},show:{opacity:1,y:0,transition:{type:"spring",stiffness:140,damping:18}}},ZS=(t=1)=>({hidden:{opacity:0,x:24*t},show:{opacity:1,x:0,transition:{type:"spring",stiffness:140,damping:18}}});function wz(){return I.useEffect(()=>(document.body.classList.add("navbar-transparent"),()=>document.body.classList.remove("navbar-transparent")),[]),f.jsxs("div",{className:"landing relative h-screen overflow-y-auto snap-y snap-mandatory overscroll-contain bg-base-100 text-base-content",children:[f.jsx(Sz,{}),f.jsxs("section",{className:"relative min-h-[100svh] snap-start grid place-items-center overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 -z-10",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-base-100/70 via-base-100/40 to-base-200/70"}),f.jsx("div",{className:"pointer-events-none absolute inset-x-0 top-0 h-40 bg-gradient-to-b from-black/5 to-transparent"}),f.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-black/5 to-transparent"})]}),f.jsxs(Vi.div,{variants:WS,initial:"hidden",animate:"show",className:"relative z-10 container mx-auto px-6 py-16 grid gap-8 lg:grid-cols-12 items-center",children:[f.jsxs(Vi.div,{variants:Wd,className:"lg:col-span-7",children:[f.jsxs("h1",{className:"text-[11vw] sm:text-[9vw] lg:text-[64px] leading-[0.95] font-extrabold tracking-tight",children:["Convierte dibujos en ",f.jsx("span",{className:"underline decoration-wavy decoration-accent/60 underline-offset-8",children:"peluches reales"})]}),f.jsx("p",{className:"mt-5 text-base-content/80 text-base md:text-lg max-w-2xl",children:"Hecho para madres y padres: proceso claro y cariñoso. Sube el dibujo de tu peque y nosotros nos encargamos del resto."}),f.jsx("div",{className:"mt-7",children:f.jsxs(qe,{to:"/pedido-rapido",className:"inline-flex items-center gap-2 px-5 py-3 rounded-full border border-base-content/20 hover:border-base-content/40 text-base-content/90 hover:text-base-content transition",children:["Empezar ",f.jsx("span",{className:"underline underline-offset-4 text-accent",children:"aquí"})]})})]}),f.jsx(Vi.div,{variants:Wd,className:"lg:col-span-5 hidden lg:block",children:f.jsx(Nz,{})})]}),f.jsx(Cz,{})]}),Iz.map((t,e)=>f.jsx(Dz,{...t,flip:e%2===1},e)),f.jsx("section",{className:"relative min-h-[80svh] snap-start overflow-hidden",children:f.jsx("div",{className:"container mx-auto px-6 py-16 lg:py-24 relative z-10",children:f.jsxs(Vi.div,{variants:WS,initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.3},className:"max-w-5xl mx-auto text-center",children:[f.jsx(Vi.h2,{variants:Wd,className:"text-4xl font-extrabold",children:"¿Cómo funciona?"}),f.jsx(Vi.p,{variants:Wd,className:"mt-3 text-base-content/70",children:"Tres pasos claros. Sin complicaciones."}),f.jsxs("div",{className:"mt-10 grid sm:grid-cols-3 gap-6",children:[f.jsx(_y,{n:"1",title:"Sube el dibujo",children:"Una foto del cuaderno o archivo digital, lo que tengas."}),f.jsx(_y,{n:"2",title:"Elige tamaño",children:"Pequeño, mediano o grande. Te guiamos en materiales."}),f.jsx(_y,{n:"3",title:"Listo para abrazar",children:"Fabricamos y enviamos a tu casa con seguimiento."})]})]})})}),f.jsxs("section",{id:"footer",className:"relative snap-start min-h-[100svh] overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-base-100/80 to-base-200/80"}),f.jsx("div",{className:"relative z-10 flex min-h-[100svh] w-full items-center",children:f.jsx("div",{className:"w-screen",children:f.jsx(AI,{full:!0})})})]}),f.jsx("style",{children:`
        /* Ocultar barra de scroll aquí */
        .landing { -ms-overflow-style: none; scrollbar-width: none; }
        .landing::-webkit-scrollbar { width: 0; height: 0; }

        /* Navbar transparente SOLO cuando el body lleva esta clase */
        body.navbar-transparent .navbar {
          background-color: transparent !important;
          border-bottom: 1px solid rgba(0,0,0,0.06);
          backdrop-filter: saturate(180%) blur(10px);
        }
        body.navbar-transparent .navbar :where(a, button, summary, .link, .btn) {
          color: rgb(17 24 39 / 0.9);
        }
        [data-theme="retro"] body.navbar-transparent .navbar :where(a, button, summary, .link, .btn),
        [data-theme="cupcake"] body.navbar-transparent .navbar :where(a, button, summary, .link, .btn) {
          color: oklch(25% 0.03 262);
        }

        /* Animaciones suaves */
        @keyframes floaty { 0% { transform: translateY(0) } 50% { transform: translateY(-8px) } 100% { transform: translateY(0) } }
        .floaty { animation: floaty 10s ease-in-out infinite; }

        /* Ken-burns para “imagen” placeholder */
        @keyframes kenburns {
          0% { transform: scale(1) translate3d(0,0,0); }
          50% { transform: scale(1.06) translate3d(2%, -1%, 0); }
          100% { transform: scale(1.12) translate3d(0, 1%, 0); }
        }
        .kenburns {
          will-change: transform;
          animation: kenburns 18s ease-in-out infinite alternate;
        }

        @media (prefers-reduced-motion: reduce) {
          .floaty, .kenburns { animation: none !important; }
        }
      `})]})}function Sz(){return f.jsxs(f.Fragment,{children:[f.jsx(Az,{}),"               ",f.jsx(Rz,{zIndexClass:"z-[1]"})," "]})}function Az(){const e=typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width: 640px)").matches?90:160,n=["#FFFFFF","#FFF7E6","#F2ECFF","#EAFBFF","#F8F4FF"],s=Ze.useMemo(()=>{const a=(l,c)=>Math.random()*(c-l)+l;return Array.from({length:e}).map((l,c)=>{const h=a(1.6,3.2),m=a(-5,100),g=a(-3,100),v=a(4.2,8.8),b=a(0,6),T=a(-10,10),w=a(-8,8),A=n[c%n.length],D=a(.55,.95),P=Math.round(a(3,8));return{key:`s-${c}-${Math.random().toString(36).slice(2)}`,size:h,top:m,left:g,dur:v,delay:b,dx:T,dy:w,color:A,alpha:D,glow:P}})},[e]);return f.jsxs("div",{className:"pointer-events-none fixed inset-0 z-0",children:[s.map(a=>f.jsx("span",{"aria-hidden":"true",style:{position:"absolute",top:`${a.top}%`,left:`${a.left}%`,width:`${a.size}px`,height:`${a.size}px`,borderRadius:9999,backgroundColor:a.color,opacity:a.alpha,boxShadow:`0 0 ${a.glow}px ${a.color}`,"--dx":`${a.dx}px`,"--dy":`${a.dy}px`,"--twDur":`${a.dur}s`,"--twDelay":`${a.delay}s`,animation:`star-twinkle var(--twDur) ease-in-out var(--twDelay) infinite alternate,
                        star-drift calc(var(--twDur) * 4) ease-in-out var(--twDelay) infinite`,willChange:"transform, opacity",transform:"translateZ(0)"}},a.key)),f.jsx("style",{children:`
        @keyframes star-twinkle {
          0%   { opacity: .25; transform: scale(0.9); }
          50%  { opacity: 1;    transform: scale(1); }
          100% { opacity: .25; transform: scale(0.92); }
        }
        @keyframes star-drift {
          0%   { transform: translate3d(0,0,0); }
          100% { transform: translate3d(var(--dx, 0), var(--dy, 0), 0); }
        }
        @media (prefers-reduced-motion: reduce) {
          span[style*="star-twinkle"] { animation: none !important; }
        }
      `})]})}function Rz({zIndexClass:t="z-[1]"}){const n=typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width: 640px)").matches?16:26,s=["#ef9fbc","#a4d8e1","#ffd1dc","#e0d4f7","#e4d8b4","#a3c293","#f9e2ae","#cde7d8"],a=Ze.useMemo(()=>{const l=(c,h)=>Math.random()*(h-c)+c;return Array.from({length:n}).map((c,h)=>{const m=Math.floor(l(40,160)),g=l(-10,95),v=l(-8,95),b=l(10,20),T=l(0,6),w=s[h%s.length],A=Math.random()<.3?8:2,D=Math.random()<.5?.18:.28,P=Math.random()<.5?"normal":"reverse";return{key:`b-${h}-${Math.random().toString(36).slice(2)}`,size:m,top:g,left:v,dur:b,delay:T,color:w,blur:A,alpha:D,dir:P}})},[n]);return f.jsxs("div",{className:`pointer-events-none fixed inset-0 ${t}`,children:[a.map(l=>f.jsx("span",{"aria-hidden":"true",style:{position:"absolute",top:`${l.top}%`,left:`${l.left}%`,width:`${l.size}px`,height:`${l.size}px`,borderRadius:9999,background:`radial-gradient(circle at 30% 30%, rgba(255,255,255,.55), rgba(255,255,255,0) 50%), ${l.color}`,filter:`blur(${l.blur}px) drop-shadow(0 10px 18px rgba(0,0,0,.08))`,"--ball-alpha":l.alpha,"--ballDur":`${l.dur}s`,"--ballDelay":`${l.delay}s`,animation:`ball-move var(--ballDur) ease-in-out var(--ballDelay) infinite ${l.dir},
                        ball-fade calc(var(--ballDur) * 1.2) ease-in-out var(--ballDelay) infinite`,willChange:"transform, opacity",transform:"translateZ(0)",mixBlendMode:"multiply"}},l.key)),f.jsx("style",{children:`
        @keyframes ball-move {
          0%   { transform: translate3d(0,0,0) scale(1); }
          40%  { transform: translate3d(12px, -10px, 0) scale(1.04); }
          60%  { transform: translate3d(-8px, 6px, 0) scale(1.02); }
          100% { transform: translate3d(0,0,0) scale(1); }
        }
        @keyframes ball-fade {
          0%   { opacity: 0; }
          12%  { opacity: var(--ball-alpha, .28); }
          85%  { opacity: var(--ball-alpha, .28); }
          100% { opacity: 0; }
        }
        @media (prefers-reduced-motion: reduce) {
          span[style*="ball-move"] { animation: none !important; }
        }
      `})]})}function Nz(){return f.jsxs("svg",{viewBox:"0 0 300 240",className:"w-full h-auto floaty opacity-90",children:[f.jsx("rect",{x:"20",y:"40",width:"120",height:"80",rx:"18",fill:"rgba(0,0,0,0.04)"}),f.jsx("circle",{cx:"210",cy:"90",r:"44",fill:"rgba(0,0,0,0.055)"}),f.jsx("rect",{x:"60",y:"140",width:"200",height:"60",rx:"20",fill:"rgba(0,0,0,0.035)"}),f.jsx("path",{d:"M90 170 L120 190 L170 150",stroke:"rgba(0,0,0,0.25)",strokeWidth:"10",strokeLinecap:"round",fill:"none"})]})}function Cz(){return f.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 text-base-content/60",children:f.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",className:"animate-bounce",children:f.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})})}const Iz=[{title:"Del papel al plush",text:"Respetamos los trazos y colores tal como son, para que el peluche conserve la esencia del dibujo.",tone:"rgba(0,0,0,0.04)"},{title:"Seguro y duradero",text:"Materiales suaves y resistentes. Cada pieza es revisada con cariño antes de enviarse.",tone:"rgba(0,0,0,0.04)"},{title:"Acompañamiento real",text:"Confirmamos tamaño, tonos y acabados contigo. Comunicación clara por correo en cada paso.",tone:"rgba(0,0,0,0.04)"}];function Dz({title:t,text:e,tone:n,flip:s=!1}){return f.jsxs("section",{className:"relative min-h-[100svh] snap-start overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 -z-10",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-base-100/70 to-base-200/70"}),f.jsx("div",{className:"absolute inset-0",style:{background:n}})]}),f.jsxs("div",{className:"container mx-auto px-6 py-16 lg:py-24 grid items-center gap-10 lg:gap-12 lg:grid-cols-12",children:[f.jsx(Vi.div,{variants:ZS(s?1:-1),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.35},className:`${s?"lg:order-2 lg:col-span-7":"lg:order-1 lg:col-span-7"}`,children:f.jsx(jz,{flip:s})}),f.jsxs(Vi.div,{variants:ZS(s?-1:1),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.35},className:`${s?"lg:order-1 lg:col-span-5":"lg:order-2 lg:col-span-5"}`,children:[f.jsx("h3",{className:"text-4xl font-extrabold leading-tight",children:t}),f.jsx("p",{className:"mt-4 text-base-content/70 text-lg",children:e})]})]})]})}function jz({flip:t}){return f.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-base-content/10 shadow-[0_10px_40px_rgba(0,0,0,.12)]",children:[f.jsx("div",{className:"aspect-[16/10] bg-base-200/60 kenburns",children:f.jsxs("svg",{viewBox:"0 0 800 500",className:"w-full h-full",children:[f.jsx("rect",{x:"0",y:"0",width:"800",height:"500",fill:"rgba(0,0,0,0.02)"}),f.jsx("rect",{x:t?260:-60,y:"-60",width:"400",height:"620",transform:`rotate(${t?-18:18} 200 200)`,fill:"rgba(0,0,0,0.05)"}),f.jsxs("g",{opacity:"0.35",children:[f.jsx("circle",{cx:"420",cy:"200",r:"54",fill:"rgba(0,0,0,0.10)"}),f.jsx("ellipse",{cx:"420",cy:"340",rx:"90",ry:"110",fill:"rgba(0,0,0,0.10)"}),f.jsx("circle",{cx:"380",cy:"160",r:"16",fill:"rgba(0,0,0,0.10)"}),f.jsx("circle",{cx:"460",cy:"160",r:"16",fill:"rgba(0,0,0,0.10)"}),f.jsx("ellipse",{cx:"340",cy:"340",rx:"26",ry:"48",fill:"rgba(0,0,0,0.10)"}),f.jsx("ellipse",{cx:"500",cy:"340",rx:"26",ry:"48",fill:"rgba(0,0,0,0.10)"})]}),f.jsx("circle",{cx:"200",cy:"120",r:"80",fill:"rgba(255,255,255,0.25)"})]})}),f.jsx("div",{className:"absolute inset-0 pointer-events-none ring-1 ring-base-content/10 rounded-2xl"}),f.jsx("div",{className:"absolute bottom-3 left-3 text-xs uppercase tracking-wider text-base-content/60 bg-base-100/70 px-2 py-1 rounded",children:"muestra"})]})}function _y({n:t,title:e,children:n}){return f.jsxs("div",{className:"rounded-xl border border-base-content/10 bg-base-200/50 p-5 text-left",children:[f.jsxs("div",{className:"text-sm text-base-content/60",children:["Paso ",t]}),f.jsx("div",{className:"text-xl font-bold",children:e}),f.jsx("p",{className:"mt-2 text-base-content/80",children:n})]})}function Pz(){const[t,e]=I.useState(""),[n,s]=I.useState(""),[a,l]=I.useState(!1),[c,h]=I.useState(""),[m,g]=I.useState(""),[v,b]=I.useState(""),[T,w]=I.useState(""),A=I.useRef(null),D=Ps(),P=async F=>{if(F.preventDefault(),h(""),!t||!n){h("Por favor completa email y password.");return}try{l(!0);const W=await _z(t,n);(await wI(W.uid))?.role==="admin"?D("/admin"):D("/")}catch{h("Credenciales inválidas o error de conexión.")}finally{l(!1)}},j=()=>{b(""),w(""),g(t||""),A.current?.showModal()},q=async F=>{if(F.preventDefault(),b(""),w(""),!m){w("Ingresa tu correo para enviarte el enlace de recuperación.");return}try{await bz(m),b("Te enviamos un enlace para restablecer tu contraseña. Revisa tu correo.")}catch(W){console.error(W),String(W?.code).includes("auth/invalid-email")?w("Correo inválido."):String(W?.code).includes("auth/user-not-found")?w("No existe una cuenta con ese correo."):w("No pudimos enviar el correo. Intenta de nuevo más tarde.")}};return f.jsxs("div",{className:"hero bg-base-200 min-h-screen",children:[f.jsxs("div",{className:"hero-content flex-col lg:flex-row-reverse",children:[f.jsxs("div",{className:"text-center lg:text-left",children:[f.jsx("h1",{className:"text-5xl font-bold",children:"Login now!"}),f.jsx("p",{className:"py-6",children:"Accede a tu cuenta para ver tus pedidos o solicitar un peluche nuevo."})]}),f.jsx("div",{className:"card bg-base-100 w-full max-w-sm shrink-0 shadow-2xl",children:f.jsx("form",{className:"card-body",onSubmit:P,children:f.jsxs("fieldset",{className:"fieldset",children:[c&&f.jsx("div",{className:"alert alert-error mb-2",children:f.jsx("span",{children:c})}),f.jsx("label",{className:"label",children:"Email"}),f.jsx("input",{type:"email",className:"input",placeholder:"Email",value:t,onChange:F=>e(F.target.value)}),f.jsx("label",{className:"label",children:"Password"}),f.jsx("input",{type:"password",className:"input",placeholder:"Password",value:n,onChange:F=>s(F.target.value)}),f.jsx("div",{children:f.jsx("button",{type:"button",className:"link link-hover",onClick:j,children:"Forgot password?"})}),f.jsx("button",{type:"submit",className:"btn btn-neutral mt-4",disabled:a,children:a?"Ingresando...":"Login"}),f.jsxs("div",{className:"mt-2",children:["¿No tienes cuenta?"," ",f.jsx(qe,{to:"/register",className:"link link-error",children:"¡Regístrate ahora!"})]})]})})})]}),f.jsxs("dialog",{className:"modal",ref:A,children:[f.jsxs("div",{className:"modal-box",children:[f.jsx("h3",{className:"font-bold text-lg",children:"Recuperar contraseña"}),f.jsx("p",{className:"py-2 text-sm opacity-70",children:"Escribe tu correo y te enviaremos un enlace para restablecer tu contraseña."}),T&&f.jsx("div",{className:"alert alert-error my-2",children:f.jsx("span",{children:T})}),v&&f.jsx("div",{className:"alert alert-success my-2",children:f.jsx("span",{children:v})}),f.jsxs("form",{onSubmit:q,className:"mt-2",children:[f.jsx("input",{type:"email",className:"input input-bordered w-full",placeholder:"email@ejemplo.com",value:m,onChange:F=>g(F.target.value)}),f.jsxs("div",{className:"modal-action",children:[f.jsx("button",{type:"button",className:"btn",onClick:()=>A.current?.close(),children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn btn-primary",children:"Enviar enlace"})]})]})]}),f.jsx("form",{method:"dialog",className:"modal-backdrop",children:f.jsx("button",{children:"close"})})]})]})}function Oz(){const[t,e]=I.useState(""),[n,s]=I.useState(""),[a,l]=I.useState(""),[c,h]=I.useState(""),[m,g]=I.useState(""),[v,b]=I.useState(!1),T=Ps(),w=async A=>{if(A.preventDefault(),!t||!n||!a||!c){g("Por favor completa todos los campos.");return}if(a!==c){g("Las contraseñas no coinciden.");return}try{b(!0),await Tz(t,n,a),alert("Cuenta creada exitosamente 🎉"),T("/")}catch(D){g(D.message)}finally{b(!1)}};return f.jsx("div",{className:"hero bg-base-200 min-h-screen",children:f.jsxs("div",{className:"hero-content flex-col lg:flex-row",children:[f.jsxs("div",{className:"text-center lg:text-left",children:[f.jsx("h1",{className:"text-5xl font-bold",children:"¡Crea tu cuenta!"}),f.jsx("p",{className:"py-6",children:"Sube los dibujos de tus peques y conviértelos en peluches. Regístrate para iniciar tu primera solicitud."})]}),f.jsx("div",{className:"card bg-base-100 w-full max-w-sm shrink-0 shadow-2xl",children:f.jsx("form",{className:"card-body",onSubmit:w,children:f.jsxs("fieldset",{className:"fieldset",children:[m&&f.jsx("div",{className:"alert alert-error mb-2",children:f.jsx("span",{children:m})}),f.jsx("label",{className:"label",children:"Nombre"}),f.jsx("input",{type:"text",className:"input",placeholder:"Tu nombre",value:t,onChange:A=>e(A.target.value)}),f.jsx("label",{className:"label",children:"Email"}),f.jsx("input",{type:"email",className:"input",placeholder:"email@ejemplo.com",value:n,onChange:A=>s(A.target.value)}),f.jsx("label",{className:"label",children:"Password"}),f.jsx("input",{type:"password",className:"input",placeholder:"••••••••",value:a,onChange:A=>l(A.target.value)}),f.jsx("label",{className:"label",children:"Confirmar Password"}),f.jsx("input",{type:"password",className:"input",placeholder:"••••••••",value:c,onChange:A=>h(A.target.value)}),f.jsx("button",{type:"submit",className:"btn btn-neutral mt-4",disabled:v,children:v?"Creando...":"Crear cuenta"}),f.jsxs("div",{className:"mt-2",children:["¿Ya tienes cuenta?"," ",f.jsx(qe,{to:"/login",className:"link link-primary",children:"Inicia sesión"})]})]})})})]})})}const by={Pequeño:300,Mediano:500,Grande:700},Ty=10,Mz=()=>{const t=Ps(),[e,n]=I.useState([]),[s,a]=I.useState(""),[l,c]=I.useState(!1);I.useEffect(()=>{const w=XR(oo,A=>{A||t("/login",{replace:!0,state:{from:"/toyrequest"}})});return()=>w()},[t]),I.useEffect(()=>()=>{e.forEach(w=>{w.preview&&URL.revokeObjectURL(w.preview)})},[e]);const h=w=>{a("");const A=Array.from(w.target.files||[]);if(A.length===0)return;const D=e.length;if(D+A.length>Ty){a(`Máximo ${Ty} imágenes. Actualmente tienes ${D}.`);return}const P=A.map(j=>{const q="Pequeño";return{id:crypto.randomUUID(),file:j,preview:URL.createObjectURL(j),nombre:j.name.replace(/\.[^.]+$/,""),tamaño:q,precio:by[q]}});n(j=>[...j,...P]),w.target.value=""},m=w=>{n(A=>{const D=A.find(P=>P.id===w);return D?.preview&&URL.revokeObjectURL(D.preview),A.filter(P=>P.id!==w)})},g=(w,A)=>{n(D=>D.map(P=>P.id===w?{...P,nombre:A}:P))},v=(w,A)=>{const D=by[A]??by.Pequeño;n(P=>P.map(j=>j.id===w?{...j,tamaño:A,precio:D}:j))},b=I.useMemo(()=>e.reduce((w,A)=>w+(Number(A.precio)||0),0),[e]),T=async()=>{if(a(""),e.length===0){a("Agrega al menos un peluche.");return}const w=oo.currentUser;if(!w){t("/login",{replace:!0,state:{from:"/solicitud-juguete"}});return}c(!0);try{const A=await Promise.all(e.map(async D=>{if(!(D.file instanceof File))return D;const P=Date.now(),j=`uploads/${w.uid}/${P}-${D.file.name}`,q=dz(vz,j);await uz(q,D.file);const F=await hz(q);return{nombre:D.nombre||D.file.name,tamaño:D.tamaño,precio:D.precio,imageUrl:F,storagePath:j,qty:1}}));t("/checkout",{state:{total:b,items:A}})}catch(A){console.error(A),a("No se pudieron subir las imágenes. Intenta de nuevo.")}finally{c(!1)}};return f.jsxs("div",{className:"px-8 py-12",children:[f.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Solicitud de Peluche"}),s&&f.jsx("div",{className:"mb-4 p-3 rounded border border-red-200 bg-red-50 text-red-600",children:s}),f.jsxs("div",{className:"mb-6",children:[f.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:h,className:"file-input file-input-bordered w-full max-w-md"}),f.jsxs("p",{className:"text-xs text-neutral-600 mt-2",children:["Máximo ",Ty," imágenes. Formatos comunes (JPG/PNG/WebP)."]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(w=>f.jsxs("div",{className:"card bg-white shadow-md p-4",children:[w.preview&&f.jsx("img",{src:w.preview,alt:w.nombre||"dibujo",className:"w-full h-48 object-contain mb-4"}),f.jsx("input",{type:"text",placeholder:"Nombre del peluche",value:w.nombre,onChange:A=>g(w.id,A.target.value),className:"input input-bordered w-full mb-2"}),f.jsxs("select",{value:w.tamaño,onChange:A=>v(w.id,A.target.value),className:"select select-bordered w-full mb-2",children:[f.jsx("option",{children:"Pequeño"}),f.jsx("option",{children:"Mediano"}),f.jsx("option",{children:"Grande"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("p",{className:"font-bold",children:["Precio: $",w.precio]}),f.jsx("button",{className:"btn btn-ghost",onClick:()=>m(w.id),children:"Quitar"})]})]},w.id))}),e.length>0&&f.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[f.jsxs("p",{className:"text-xl font-bold",children:["Total: $",b]}),f.jsx("button",{className:"btn btn-primary",disabled:l,onClick:T,children:l?"Subiendo imágenes…":"Proceder al pago"})]})]})};function kz(){const t={S:300,M:500,L:700},e={rush:200,embroidery:120,accessory:150},n=10,{user:s}=Jn(),a=Ps(),[l,c]=I.useState(()=>localStorage.getItem("guestEmail")||""),[h,m]=I.useState(1);I.useEffect(()=>{!s&&!l&&a("/pedido-rapido",{replace:!0})},[s,l,a]);const[g,v]=I.useState([]),[b,T]=I.useState(""),w=L=>{const O=t[L.size]||0,re=L.rush?e.rush:0,le=L.embroidery?.trim()?e.embroidery:0,G=(Number(L.accessories)||0)*e.accessory,J=Math.max(1,Number(L.qty)||1);return(O+re+le+G)*J},A=I.useMemo(()=>g.reduce((L,O)=>L+w(O),0),[g]),D=L=>{const O=Array.from(L.target.files||[]);if(!O.length)return;const re=Math.max(0,n-g.length),le=O.slice(0,re).map(G=>({id:crypto.randomUUID(),file:G,size:"M",qty:1,rush:!1,embroidery:"",accessories:0}));O.length>re&&alert(`Máximo ${n} imágenes en total.`),v(G=>[...G,...le]),L.target.value=null},P=(L,O)=>{v(re=>{const le=re.findIndex(he=>he.id===L);if(le<0)return re;const G=[...re],J=le+O;return J<0||J>=G.length?re:([G[le],G[J]]=[G[J],G[le]],G)})},j=L=>{v(O=>O.filter(re=>re.id!==L))},q=(L,O)=>{v(re=>re.map(le=>le.id===L?{...le,size:O}:le))},F=(L,O)=>{v(re=>re.map(le=>le.id===L?{...le,qty:Math.max(1,Number(O)||1)}:le))},W=L=>{v(O=>O.map(re=>re.id===L?{...re,rush:!re.rush}:re))},ee=(L,O)=>{v(re=>re.map(le=>le.id===L?{...le,embroidery:O}:le))},ue=(L,O)=>{v(re=>re.map(le=>le.id===L?{...le,accessories:Math.max(0,Number(O)||0)}:le))},k=()=>{localStorage.removeItem("guestEmail"),c(""),a("/pedido-rapido")},N=()=>h===1||h===2?g.length>0:!0,C=()=>{N()&&m(L=>Math.min(4,L+1))},M=()=>m(L=>Math.max(1,L-1)),U=()=>{if(!g.length)return;const L=g.map(O=>({id:O.id,size:O.size,qty:O.qty,rush:!!O.rush,embroidery:O.embroidery?.trim()||"",accessories:Number(O.accessories)||0,price:w(O),imageUrl:O.imageUrl||null,file:O.file||null}));a("/checkout",{state:{items:L,total:A,guestEmail:s?null:l,notes:b||""}})};return f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[!s&&l&&f.jsxs("div",{className:"alert alert-info mb-6 justify-between",children:[f.jsxs("div",{children:["Compras como invitado: ",f.jsx("b",{children:l})]}),f.jsx("button",{className:"btn btn-ghost btn-sm",onClick:k,children:"Cambiar correo"})]}),f.jsx("div",{className:"mb-6",children:f.jsxs("ul",{className:"steps w-full",children:[f.jsx("li",{className:`step ${h>=1?"step-primary":""}`,children:"Dibujos"}),f.jsx("li",{className:`step ${h>=2?"step-primary":""}`,children:"Personaliza"}),f.jsx("li",{className:`step ${h>=3?"step-primary":""}`,children:"Detalles"}),f.jsx("li",{className:`step ${h>=4?"step-primary":""}`,children:"Revisión"})]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[h===1&&f.jsx(Vz,{items:g,onFiles:D,onMove:P,onRemove:j,max:n}),h===2&&f.jsx(Lz,{items:g,setSize:q,setQty:F,toggleRush:W,setEmbroidery:ee,setAccessories:ue,computeItemPrice:w}),h===3&&f.jsx(Uz,{orderNotes:b,setOrderNotes:T,isGuest:!s,guestEmail:l}),h===4&&f.jsx(Bz,{items:g,computeItemPrice:w,subtotal:A,onEditSection:L=>m(L)}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("button",{className:"btn btn-ghost",disabled:h===1,onClick:M,children:"← Atrás"}),h<4?f.jsx("button",{className:"btn btn-primary",onClick:C,disabled:!N(),children:"Siguiente →"}):f.jsx("button",{className:"btn btn-accent",onClick:U,children:"Ir a Checkout"})]})]}),f.jsx("aside",{className:"lg:col-span-1",children:f.jsx(Fz,{items:g,computeItemPrice:w,subtotal:A})})]})]})}function Vz({items:t,onFiles:e,onMove:n,onRemove:s,max:a}){return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-3",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold",children:"De dibujo a peluche"}),f.jsxs("p",{className:"text-sm opacity-70",children:["Sube hasta ",f.jsx("b",{children:a})," imágenes. Puedes reordenarlas y eliminarlas."]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:e,disabled:t.length>=a,className:"file-input file-input-bordered"}),f.jsxs("span",{className:"badge badge-neutral",children:[t.length,"/",a]})]})]}),t.length===0?f.jsx("div",{className:"alert",children:f.jsx("span",{children:"Sube tus dibujos para comenzar."})}):f.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2",children:t.map((l,c)=>f.jsxs("div",{className:"card bg-base-100 shadow-sm border",children:[f.jsx("figure",{className:"bg-base-200/60",children:f.jsx("img",{src:URL.createObjectURL(l.file),alt:`Dibujo ${c+1}`,className:"max-h-56 object-contain p-3"})}),f.jsxs("div",{className:"card-body gap-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{className:"text-sm opacity-70",children:["Imagen ",c+1]}),f.jsxs("div",{className:"join",children:[f.jsx("button",{type:"button",className:"btn btn-sm join-item",onClick:()=>n(l.id,-1),children:"↑"}),f.jsx("button",{type:"button",className:"btn btn-sm join-item",onClick:()=>n(l.id,1),children:"↓"})]})]}),f.jsx("div",{className:"card-actions justify-end",children:f.jsx("button",{type:"button",onClick:()=>s(l.id),className:"btn btn-ghost btn-sm",children:"Eliminar"})})]})]},l.id))})]})}function Lz({items:t,setSize:e,setQty:n,toggleRush:s,setEmbroidery:a,setAccessories:l,computeItemPrice:c}){return t.length===0?f.jsx("div",{className:"alert",children:"No hay imágenes. Vuelve al paso anterior."}):f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Personaliza tus peluches"}),f.jsx("p",{className:"text-sm opacity-70",children:"Tamaño, cantidad y extras por pieza."}),f.jsx("div",{className:"grid gap-6 grid-cols-1",children:t.map((h,m)=>f.jsx("div",{className:"card bg-base-100 shadow-sm border",children:f.jsxs("div",{className:"card-body gap-5",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-5",children:[f.jsx("div",{className:"md:w-1/3 bg-base-200/60 rounded-box overflow-hidden grid place-items-center p-3",children:f.jsx("img",{src:URL.createObjectURL(h.file),alt:`Peluche ${m+1}`,className:"max-h-56 object-contain"})}),f.jsxs("div",{className:"md:flex-1 space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm opacity-70",children:"Tamaño"}),f.jsx("div",{className:"join",children:["S","M","L"].map(g=>f.jsx("button",{type:"button",className:`btn btn-sm join-item ${h.size===g?"btn-active":""}`,onClick:()=>e(h.id,g),children:g},g))})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm opacity-70",children:"Cantidad"}),f.jsxs("div",{className:"join",children:[f.jsx("button",{type:"button",className:"btn btn-sm join-item",onClick:()=>n(h.id,Math.max(1,(Number(h.qty)||1)-1)),children:"−"}),f.jsx("input",{type:"number",min:1,className:"input input-sm input-bordered w-16 text-center join-item",value:h.qty,onChange:g=>n(h.id,g.target.value)}),f.jsx("button",{type:"button",className:"btn btn-sm join-item",onClick:()=>n(h.id,(Number(h.qty)||1)+1),children:"+"})]})]}),f.jsxs("div",{className:"grid sm:grid-cols-2 gap-3",children:[f.jsxs("div",{className:"form-control",children:[f.jsxs("label",{className:"label cursor-pointer justify-between",children:[f.jsx("span",{className:"label-text",children:"Producción Rápida (Rush)"}),f.jsx("input",{type:"checkbox",className:"toggle toggle-accent",checked:!!h.rush,onChange:()=>s(h.id)})]}),f.jsxs("span",{className:"text-xs opacity-60",children:["+$",200," (por pieza)"]})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Bordado (nombre)"})}),f.jsx("input",{type:"text",className:"input input-bordered input-sm",placeholder:"Ej. Sofi",value:h.embroidery,onChange:g=>a(h.id,g.target.value)}),f.jsxs("span",{className:"text-xs opacity-60 mt-1",children:["+$",120," si escribes algo"]})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Accesorios"})}),f.jsxs("div",{className:"join",children:[f.jsx("button",{type:"button",className:"btn btn-sm join-item",onClick:()=>l(h.id,Math.max(0,(Number(h.accessories)||0)-1)),children:"−"}),f.jsx("input",{type:"number",min:0,className:"input input-sm input-bordered w-16 text-center join-item",value:h.accessories,onChange:g=>l(h.id,g.target.value)}),f.jsx("button",{type:"button",className:"btn btn-sm join-item",onClick:()=>l(h.id,(Number(h.accessories)||0)+1),children:"+"})]}),f.jsxs("span",{className:"text-xs opacity-60 mt-1",children:["+$",150," c/u"]})]})]})]})]}),f.jsx("div",{className:"flex items-center justify-end",children:f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"text-sm opacity-70",children:["Total pieza ",m+1]}),f.jsxs("div",{className:"text-xl font-bold",children:["$",c(h)]})]})})]})},h.id))})]})}function Uz({orderNotes:t,setOrderNotes:e,isGuest:n,guestEmail:s}){return f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Detalles del pedido"}),n&&f.jsx("div",{className:"alert",children:f.jsxs("span",{children:["Te contactaremos a ",f.jsx("b",{children:s})," para validar colores y avances."]})}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Notas (opcional)"})}),f.jsx("textarea",{className:"textarea textarea-bordered min-h-[120px]",placeholder:"Cuéntanos si hay colores clave, acabados, restricciones, etc.",value:t,onChange:a=>e(a.target.value)})]}),f.jsx("div",{className:"text-sm opacity-70",children:"* Los tiempos pueden variar según complejidad. Rush acelera producción."})]})}function Bz({items:t,computeItemPrice:e,subtotal:n,onEditSection:s}){return t.length?f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Revisión"}),f.jsx("p",{className:"text-sm opacity-70",children:"Verifica tamaños, cantidades y extras antes de pagar."}),f.jsx("div",{className:"grid gap-6 grid-cols-1",children:t.map((a,l)=>f.jsx("div",{className:"card bg-base-100 shadow-sm border",children:f.jsxs("div",{className:"card-body flex flex-col md:flex-row gap-4",children:[f.jsx("div",{className:"w-full md:w-40 bg-base-200/60 rounded-box overflow-hidden flex items-center justify-center",children:a.file?f.jsx("img",{alt:`Peluche ${l+1}`,className:"max-h-32 object-contain",src:URL.createObjectURL(a.file)}):f.jsx("span",{className:"text-xs opacity-60",children:"Sin imagen"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"font-semibold",children:["Peluche ",l+1]}),f.jsxs("div",{className:"text-sm opacity-80",children:["Tamaño: ",a.size," · Cant: ",a.qty," · Rush: ",a.rush?"Sí":"No"," ·",` Bordado: ${a.embroidery?.trim()?a.embroidery:"—"}`," · Accesorios: ",a.accessories||0]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"text-lg font-bold",children:["$",e(a)]}),f.jsx("button",{className:"btn btn-link btn-xs",onClick:()=>s(2),children:"Editar"})]})]})},a.id))}),f.jsxs("div",{className:"rounded-box bg-base-100 shadow-sm border p-4 flex items-center justify-between",children:[f.jsx("div",{className:"text-xl",children:"Total"}),f.jsxs("div",{className:"text-2xl font-extrabold",children:["$",n]})]})]}):f.jsx("div",{className:"alert",children:"No hay artículos para revisar."})}function Fz({items:t,computeItemPrice:e,subtotal:n}){return f.jsx("div",{className:"card bg-base-100 shadow-sm border sticky top-4",children:f.jsxs("div",{className:"card-body",children:[f.jsx("h2",{className:"card-title",children:"Resumen"}),t.length===0?f.jsx("div",{className:"text-sm opacity-70",children:"Aún no has agregado dibujos."}):f.jsx("ul",{className:"space-y-3 max-h-[50vh] overflow-auto pr-1",children:t.map((s,a)=>f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-base-200 rounded overflow-hidden grid place-items-center",children:s.file?f.jsx("img",{src:URL.createObjectURL(s.file),alt:`Mini ${a+1}`,className:"object-contain max-h-12"}):null}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"text-sm font-medium",children:["Peluche ",a+1]}),f.jsxs("div",{className:"text-xs opacity-70",children:[s.size," · x",s.qty," ",s.rush?"· Rush":""," ",s.embroidery?.trim()?"· Bordado":""," ",Number(s.accessories)>0?`· Acc:${s.accessories}`:""]})]}),f.jsxs("div",{className:"text-sm font-bold",children:["$",e(s)]})]},s.id))}),f.jsx("div",{className:"divider my-2"}),f.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["$",n]})]})]})})}async function zz({userId:t,items:e,total:n,email:s,method:a="card"}){const l=(e||[]).map(m=>({size:m?.size??null,price:Number(m?.price??0),imageUrl:m?.imageUrl??null})),c=a==="oxxo"?"Voucher generado":"Pendiente de pago",h=await ub(_s(lt,"orders"),{userId:t,items:l,total:Number(n??0),email:s||null,status:c,createdAt:Zi(),updatedAt:Zi(),payment:{provider:"stripe",methodRequested:a||"auto",status:"requires_payment_method"}});return await Tb(h.id,{status:c,note:a==="oxxo"?"Generando voucher OXXO…":"Creando intento de pago en Stripe…"}),h.id}async function qz(t,{intentId:e,status:n}){const s=Wn(lt,"orders",t);await Rm(s,{"payment.intentId":e,"payment.status":n||"requires_confirmation",updatedAt:Zi()})}async function Tb(t,{status:e,note:n}){await ub(_s(lt,"orders",t,"history"),{status:e,at:Zi(),note:n??null}),await Rm(Wn(lt,"orders",t),{status:e,updatedAt:Zi()})}function Hz({value:t,onChange:e,errors:n={}}){const s=(a,l)=>e({...t,[a]:l});return f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[f.jsxs("div",{className:"form-control md:col-span-2",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Nombre completo *"})}),f.jsx("input",{className:`input input-bordered ${n.fullName?"input-error":""}`,value:t.fullName,onChange:a=>s("fullName",a.target.value),placeholder:"Nombre y apellidos"}),n.fullName&&f.jsx("span",{className:"text-error text-sm mt-1",children:n.fullName})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Correo electrónico *"})}),f.jsx("input",{type:"email",className:`input input-bordered ${n.email?"input-error":""}`,value:t.email,onChange:a=>s("email",a.target.value),placeholder:"tucorreo@ejemplo.com"}),n.email&&f.jsx("span",{className:"text-error text-sm mt-1",children:n.email})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Teléfono (opcional)"})}),f.jsx("input",{className:"input input-bordered",value:t.phone,onChange:a=>s("phone",a.target.value),placeholder:"+52 55 1234 5678"})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"País *"})}),f.jsx("input",{className:`input input-bordered ${n.country?"input-error":""}`,value:t.country,onChange:a=>s("country",a.target.value),placeholder:"MX"}),n.country&&f.jsx("span",{className:"text-error text-sm mt-1",children:n.country})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Estado/Provincia *"})}),f.jsx("input",{className:`input input-bordered ${n.state?"input-error":""}`,value:t.state,onChange:a=>s("state",a.target.value),placeholder:"CDMX, Jalisco, ..."}),n.state&&f.jsx("span",{className:"text-error text-sm mt-1",children:n.state})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Ciudad *"})}),f.jsx("input",{className:`input input-bordered ${n.city?"input-error":""}`,value:t.city,onChange:a=>s("city",a.target.value),placeholder:"Ciudad"}),n.city&&f.jsx("span",{className:"text-error text-sm mt-1",children:n.city})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Colonia / Barrio"})}),f.jsx("input",{className:"input input-bordered",value:t.neighborhood,onChange:a=>s("neighborhood",a.target.value),placeholder:"Colonia/Barrio"})]}),f.jsxs("div",{className:"form-control md:col-span-2",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Calle *"})}),f.jsx("input",{className:`input input-bordered ${n.street?"input-error":""}`,value:t.street,onChange:a=>s("street",a.target.value),placeholder:"Nombre de la calle"}),n.street&&f.jsx("span",{className:"text-error text-sm mt-1",children:n.street})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Número exterior *"})}),f.jsx("input",{className:`input input-bordered ${n.extNumber?"input-error":""}`,value:t.extNumber,onChange:a=>s("extNumber",a.target.value),placeholder:"123"}),n.extNumber&&f.jsx("span",{className:"text-error text-sm mt-1",children:n.extNumber})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Número interior"})}),f.jsx("input",{className:"input input-bordered",value:t.intNumber,onChange:a=>s("intNumber",a.target.value),placeholder:"Depto, piso…"})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Código postal *"})}),f.jsx("input",{className:`input input-bordered ${n.postalCode?"input-error":""}`,value:t.postalCode,onChange:a=>s("postalCode",a.target.value),placeholder:"00000"}),n.postalCode&&f.jsx("span",{className:"text-error text-sm mt-1",children:n.postalCode})]}),f.jsxs("div",{className:"form-control md:col-span-2",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Referencias (opcional)"})}),f.jsx("textarea",{className:"textarea textarea-bordered min-h-[90px]",value:t.references,onChange:a=>s("references",a.target.value),placeholder:"Color de puerta, punto de entrega, horario…"})]})]})}function Gz(t,e=""){return{fullName:t?.displayName||"",email:t?.email||e||"",phone:"",country:"MX",state:"",city:"",neighborhood:"",street:"",extNumber:"",intNumber:"",postalCode:"",references:""}}function $z(t){const e=n=>(n??"").toString().trim();return{fullName:e(t.fullName),email:e(t.email).toLowerCase(),phone:e(t.phone),country:e(t.country).toUpperCase(),state:e(t.state),city:e(t.city),neighborhood:e(t.neighborhood),street:e(t.street),extNumber:e(t.extNumber),intNumber:e(t.intNumber),postalCode:e(t.postalCode).replace(/\s+/g,""),references:e(t.references)}}function Kz(t){const e=$z(t),n={},s=/^[^@\s]+@[^@\s]+\.[^@\s]+$/;return e.fullName||(n.fullName="Nombre completo requerido."),(!e.email||!s.test(e.email))&&(n.email="Correo válido requerido."),e.street||(n.street="Calle requerida."),e.extNumber||(n.extNumber="Número requerido."),e.city||(n.city="Ciudad requerida."),e.state||(n.state="Estado/Provincia requerido."),e.postalCode?/^\d{4,10}$/.test(e.postalCode)||(n.postalCode="Código postal inválido."):n.postalCode="Código postal requerido.",e.country||(n.country="País requerido."),{ok:Object.keys(n).length===0,errors:n,data:e}}const JS={S:300,M:500,L:700},Pr={rush:200,embroidery:120,accessory:150};function Yz(){const t=Ps(),{user:e}=Jn(),{state:n}=bs(),s=n?.guestEmail||localStorage.getItem("guestEmail")||"",a=n?.items||n?.peluches||[],l=n?.notes||"",c=n?.total??0,h=C=>{const M=JS[C.size]||0,U=C.rush?Pr.rush:0,L=C.embroidery?.trim()?Pr.embroidery:0,O=(Number(C.accessories)||0)*Pr.accessory;return M+U+L+O},m=C=>Number(C.price??h(C)*Math.max(1,Number(C.qty)||1)),g=I.useMemo(()=>a.reduce((C,M)=>C+m(M),0),[a]),v=c||g,[b,T]=I.useState(!1),[w,A]=I.useState(!1),[D,P]=I.useState(""),[j,q]=I.useState(()=>Gz(e,s)),[F,W]=I.useState({});I.useEffect(()=>{a.length||t("/toyreq1",{replace:!0})},[a,t]);const ee=I.useMemo(()=>a.map(C=>{try{return C.imageUrl?C.imageUrl:C.file?URL.createObjectURL(C.file):null}catch{return null}}),[a]);I.useEffect(()=>()=>{ee.forEach(C=>C?.startsWith("blob:")&&URL.revokeObjectURL(C))},[ee]);const ue=I.useMemo(()=>{const C={S:0,M:0,L:0};return a.forEach(M=>{const U=Math.max(1,Number(M.qty)||1);C[M.size||"S"]+=U}),C},[a]),k=I.useMemo(()=>{let C=0,M=0,U=0;return a.forEach(L=>{const O=Math.max(1,Number(L.qty)||1);L.rush&&(C+=O),L.embroidery?.trim()&&(M+=O),U+=(Number(L.accessories)||0)*O}),{rush:C,emb:M,acc:U}},[a]),N=async C=>{if(!e){alert("Inicia sesión para completar el pago."),t("/login");return}const{ok:M,errors:U,data:L}=Kz(j);if(!M){W(U),document.getElementById("shipping-card")?.scrollIntoView({behavior:"smooth",block:"start"});return}W({});const O=C==="Pago en tienda (QR)"?"oxxo":"card";P("Creando pedido…"),T(!0),A(!0);try{const re=a.map(G=>{const J=Math.max(1,Number(G.qty)||1),he=h(G),Re=m(G);return{size:G.size??null,qty:J,rush:!!G.rush,embroidery:G.embroidery?.trim()||"",accessories:Number(G.accessories)||0,unitPrice:he,lineTotal:Re,imageUrl:G.imageUrl??null}}),le=await zz({userId:e.uid,items:re,total:v,email:e.email,method:O,shipping:L,notes:l});P("Pedido creado. Redirigiendo al pago…"),T(!1),t(`/pagar/${le}`)}catch(re){console.error("[Checkout] createPendingOrder failed:",re),P("No pudimos crear el pedido. Intenta de nuevo.")}finally{A(!1)}};return a.length?f.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[b&&f.jsx("dialog",{open:!0,className:"modal",children:f.jsxs("div",{className:"modal-box",children:[f.jsx("h3",{className:"font-bold text-lg",children:"Procesando"}),f.jsx("p",{className:"py-4",children:D}),w&&f.jsx("span",{className:"loading loading-spinner loading-md"}),f.jsx("div",{className:"modal-action",children:f.jsx("button",{className:"btn",onClick:()=>T(!1),disabled:w,children:"Close"})})]})}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Checkout"}),f.jsx(qe,{to:"/toyreq1",className:"btn btn-ghost",children:"Volver"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsx("div",{className:"lg:col-span-2 card bg-base-100 shadow-sm border",children:f.jsxs("div",{className:"card-body",children:[f.jsx("h2",{className:"card-title",children:"Tu pedido"}),f.jsx("ul",{className:"divide-y divide-base-300/60",children:a.map((C,M)=>{const U=Math.max(1,Number(C.qty)||1),L=h(C),O=m(C),re=JS[C.size]||0;C.rush&&Pr.rush,C.embroidery?.trim()&&Pr.embroidery;const le=(Number(C.accessories)||0)*Pr.accessory;return f.jsxs("li",{className:"py-4 flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"flex items-start gap-4 min-w-0",children:[f.jsx("div",{className:"avatar",children:f.jsx("div",{className:"w-16 h-16 rounded-lg bg-base-200 overflow-hidden",children:ee[M]?f.jsx("img",{alt:`Peluche ${M+1}`,className:"object-cover w-full h-full",src:ee[M]}):f.jsx("div",{className:"skeleton w-full h-full"})})}),f.jsxs("div",{className:"min-w-0",children:[f.jsxs("div",{className:"font-medium truncate",children:["Peluche #",M+1]}),f.jsxs("div",{className:"text-sm opacity-80",children:["Tamaño: ",C.size," · Cantidad: ",U]}),f.jsxs("div",{className:"mt-1 text-xs opacity-70 space-y-0.5",children:[f.jsxs("div",{children:["Base (",C.size,"): $",re]}),C.rush&&f.jsxs("div",{children:["Rush: +$",Pr.rush]}),!!C.embroidery?.trim()&&f.jsxs("div",{children:["Bordado: +$",Pr.embroidery]}),!!Number(C.accessories)&&f.jsxs("div",{children:["Accesorios (",C.accessories,"): +$",le]}),f.jsxs("div",{className:"mt-1",children:["Precio por unidad: ",f.jsxs("b",{children:["$",L]})]})]})]})]}),f.jsxs("div",{className:"text-right shrink-0",children:[f.jsx("div",{className:"text-xs opacity-70",children:"Total renglón"}),f.jsxs("div",{className:"text-lg font-semibold",children:["$",O]})]})]},C.id||M)})}),f.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 items-center text-sm",children:[f.jsxs("span",{className:"badge",children:["S: ",ue.S]}),f.jsxs("span",{className:"badge",children:["M: ",ue.M]}),f.jsxs("span",{className:"badge",children:["L: ",ue.L]}),f.jsxs("span",{className:"badge badge-ghost",children:["Rush x ",k.rush]}),f.jsxs("span",{className:"badge badge-ghost",children:["Bordado x ",k.emb]}),f.jsxs("span",{className:"badge badge-ghost",children:["Accesorios x ",k.acc]})]}),l&&f.jsx("div",{className:"alert mt-4",children:f.jsxs("span",{children:[f.jsx("b",{children:"Notas:"})," ",l]})})]})}),f.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[f.jsx("div",{id:"shipping-card",className:"card bg-base-100 shadow-sm border",children:f.jsxs("div",{className:"card-body",children:[f.jsx("h2",{className:"card-title",children:"Dirección de envío"}),f.jsx(Hz,{value:j,onChange:q,errors:F})]})}),f.jsx("div",{className:"card bg-base-100 shadow-sm border",children:f.jsxs("div",{className:"card-body",children:[f.jsx("h2",{className:"card-title",children:"Resumen"}),f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{children:"Subtotal"}),f.jsxs("span",{children:["$",g]})]}),f.jsx("div",{className:"divider my-2"}),f.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["$",v]})]}),f.jsxs("div",{className:"mt-4 space-y-2",children:[f.jsx("button",{className:"btn btn-primary w-full",onClick:()=>N("Tarjeta"),disabled:w,children:w?"Procesando…":"Pagar con Tarjeta"}),f.jsx("button",{className:"btn w-full",onClick:()=>alert("Mercado Pago estará disponible pronto."),disabled:w,children:"Mercado Pago (próximamente)"}),f.jsx("button",{className:"btn btn-accent w-full",onClick:()=>N("Pago en tienda (QR)"),disabled:w,children:w?"Procesando…":"Pagar en OXXO"})]}),f.jsx(qe,{to:"/toyreq1",className:"btn btn-ghost w-full mt-2","aria-disabled":w,children:"Seguir editando"})]})})]})]})]}):f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("div",{className:"alert alert-warning",children:f.jsx("span",{children:"No hay artículos en tu carrito."})}),f.jsx(qe,{className:"btn btn-primary mt-4",to:"/toyreq1",children:"Volver a Solicitud"})]})}function eA(){const{state:t}=bs(),e=t?.orderId||null,{user:n}=Jn(),[s,a]=I.useState(null),[l,c]=I.useState([]),[h,m]=I.useState(!0),[g,v]=I.useState(null),b=["Pagado","En proceso","Enviado","Entregado"],T=I.useMemo(()=>{if(!s?.status)return 0;const w=b.indexOf(s.status);return w>=0?w:0},[s]);if(I.useEffect(()=>{if(a(null),c([]),v(null),!n){m(!1);return}let w=null,A=null;async function D(j){const q=Wn(lt,"orders",j);w=ea(q,W=>{W.exists()?a({id:W.id,...W.data()}):a(null),m(!1)},W=>{console.error("[Pedido] onSnapshot(order) error:",W),v(W),m(!1)});const F=Xi(_s(lt,"orders",j,"history"),Wi("at","asc"));A=ea(F,W=>{const ee=[];W.forEach(ue=>ee.push({id:ue.id,...ue.data()})),c(ee)},W=>{console.error("[Pedido] onSnapshot(history) error:",W)})}async function P(j){try{m(!0);const q=Xi(_s(lt,"orders"),OC("userId","==",j),Wi("createdAt","desc"),mo(1)),F=await kC(q);if(F.empty){a(null),c([]),m(!1);return}const W=F.docs[0];await D(W.id)}catch(q){console.error("[Pedido] findLastOrderForUser error:",q),v(q),m(!1)}}return m(!0),e?D(e):P(n.uid),()=>{w&&w(),A&&A()}},[e,n]),!n)return f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsx("div",{className:"alert",children:f.jsx("span",{children:"Inicia sesión para ver tus pedidos."})}),f.jsx(qe,{to:"/login",className:"btn btn-primary mt-4",children:"Ir a iniciar sesión"})]});if(h)return f.jsx("div",{className:"container mx-auto p-6",children:"Cargando…"});if(g){const w=String(g),A=w.includes("requires an index");return f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsx("div",{className:"alert alert-error",children:f.jsx("span",{children:"Ocurrió un error al cargar el pedido."})}),f.jsx("pre",{className:"mt-3 text-sm opacity-70 whitespace-pre-wrap",children:w}),A&&f.jsxs("div",{className:"mt-3 text-sm",children:["Crea el índice compuesto para:",f.jsxs("ul",{className:"list-disc ml-5",children:[f.jsxs("li",{children:[f.jsx("code",{children:"userId"})," — Ascending"]}),f.jsxs("li",{children:[f.jsx("code",{children:"createdAt"})," — Descending"]})]}),"Luego recarga esta página."]}),f.jsx(qe,{to:"/toyreq1",className:"btn btn-primary mt-4",children:"Ir a Solicitud"})]})}return s?f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Mi pedido"}),f.jsx("div",{className:"mt-2",children:f.jsxs("div",{className:"badge badge-outline",children:["ID: ",s.id]})}),f.jsx("div",{className:"mt-6",children:f.jsx("ul",{className:"steps",children:b.map((w,A)=>f.jsx("li",{className:`step ${A<=T?"step-primary":""}`,children:w},w))})}),f.jsx("div",{className:"mt-6 card bg-base-100 shadow-sm border",children:f.jsxs("div",{className:"card-body",children:[f.jsx("h2",{className:"card-title",children:"Timeline"}),l.length===0?f.jsx("div",{className:"text-sm opacity-70",children:"Sin eventos registrados."}):f.jsx("ul",{className:"timeline timeline-snap-icon max-md:timeline-compact timeline-vertical",children:l.map((w,A)=>{const D=w.at?.toDate?w.at.toDate().toLocaleString():"—";return f.jsxs("li",{children:[f.jsx("div",{className:"timeline-middle",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{d:"M10 2a8 8 0 100 16 8 8 0 000-16zM9 9V5a1 1 0 112 0v4a1 1 0 01-2 0zm1 6a1.5 1.5 0 110-3 1.5 1.5 0 010 3z"})})}),f.jsxs("div",{className:`timeline-${A%2===0?"start":"end"} mb-10`,children:[f.jsx("time",{className:"font-mono italic",children:D}),f.jsx("div",{className:"text-lg font-bold",children:w.status}),w.note&&f.jsx("div",{className:"opacity-70 text-sm",children:w.note})]}),f.jsx("hr",{})]},w.id||A)})})]})}),f.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx("div",{className:"card bg-base-100 border",children:f.jsxs("div",{className:"card-body",children:[f.jsx("div",{className:"text-sm opacity-70",children:"Estado actual"}),f.jsx("div",{className:"text-xl font-bold",children:s.status||"—"})]})}),f.jsx("div",{className:"card bg-base-100 border",children:f.jsxs("div",{className:"card-body",children:[f.jsx("div",{className:"text-sm opacity-70",children:"Total"}),f.jsxs("div",{className:"text-xl font-bold",children:["$",Number(s.total||0)]})]})}),f.jsx("div",{className:"card bg-base-100 border",children:f.jsxs("div",{className:"card-body",children:[f.jsx("div",{className:"text-sm opacity-70",children:"Piezas"}),f.jsx("div",{className:"text-xl font-bold",children:s.items?.length||0})]})})]})]}):f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsx("div",{className:"alert",children:f.jsx("span",{children:"No encontramos pedidos. Crea uno desde la sección de Solicitud."})}),f.jsx(qe,{to:"/toyreq1",className:"btn btn-primary mt-4",children:"Ir a Solicitud"})]})}function rn({children:t}){return f.jsx(Vi.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.22,ease:"easeOut"},style:{willChange:"opacity, transform"},children:t})}function ol({children:t}){const{user:e,loading:n}=Jn();return n?f.jsx("div",{className:"p-6",children:"Cargando…"}):e?t:f.jsx(Ay,{to:"/login",replace:!0})}function au({children:t}){const{user:e,isAdmin:n,loading:s}=Jn();return s?f.jsx("div",{className:"p-6",children:"Cargando…"}):e?n?t:f.jsx(Ay,{to:"/",replace:!0}):f.jsx(Ay,{to:"/login",replace:!0})}const Qz=new Set(["Pagado","En proceso","Enviado"]),Xz=new Set(["Entregado"]);function Wz(){const{user:t}=Jn(),[e,n]=I.useState([]),[s,a]=I.useState(!0),[l,c]=I.useState(null);I.useEffect(()=>{if(!t){n([]),a(!1);return}a(!0),c(null);const g=Xi(_s(lt,"orders"),OC("userId","==",t.uid),Wi("createdAt","desc")),v=ea(g,b=>{const T=[];b.forEach(w=>T.push({id:w.id,...w.data()})),n(T),a(!1)},b=>{console.error("[PedidosUsuario]",b),c(b),a(!1)});return()=>v()},[t]);const{current:h,past:m}=I.useMemo(()=>{const g=[],v=[];for(const b of e)Qz.has(b.status)?g.push(b):Xz.has(b.status)?v.push(b):g.push(b);return{current:g,past:v}},[e]);return t?s?f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsx("span",{className:"loading loading-spinner loading-lg"}),f.jsx("p",{className:"mt-2",children:"Cargando tus pedidos…"})]}):l?f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsx("div",{className:"alert alert-error",children:"Ocurrió un error al cargar tus pedidos."}),f.jsx("pre",{className:"mt-3 text-sm opacity-70 whitespace-pre-wrap",children:String(l)})]}):f.jsxs("div",{className:"container mx-auto p-6 space-y-8",children:[f.jsxs("header",{children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Estado de pedidos"}),f.jsx("p",{className:"opacity-70 mt-1",children:"Recientes primero"})]}),f.jsx(tA,{title:"Actuales",empty:"No tienes pedidos actuales.",children:h.map(g=>f.jsx(nA,{order:g},g.id))}),f.jsx(tA,{title:"Pasados",empty:"Aún no hay pedidos entregados.",children:m.map(g=>f.jsx(nA,{order:g},g.id))})]}):f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsx("div",{className:"alert",children:"Inicia sesión para ver tus pedidos."}),f.jsx(qe,{to:"/login",className:"btn btn-primary mt-4",children:"Ir a iniciar sesión"})]})}function tA({title:t,empty:e,children:n}){const s=Array.isArray(n)?n.length>0:!!n;return f.jsxs("section",{children:[f.jsx("h2",{className:"text-xl font-semibold mb-3",children:t}),s?f.jsx("div",{className:"space-y-3",children:n}):f.jsx("div",{className:"text-sm opacity-70",children:e})]})}function nA({order:t}){const e=t.createdAt?.toDate?.()?t.createdAt.toDate().toLocaleString():"—",n=Number(t.total||0);return f.jsx("div",{className:"card bg-base-100 shadow-sm border",children:f.jsxs("div",{className:"card-body",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"font-semibold",children:["Pedido #",t.id.slice(-6).toUpperCase()]}),f.jsxs("p",{className:"text-sm opacity-70",children:["Estado: ",f.jsx("span",{className:"font-medium",children:t.status||"—"})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"font-bold",children:["$",n]}),f.jsx("p",{className:"text-xs opacity-60",children:e})]})]}),f.jsxs("div",{className:"mt-2",children:[(t.items||[]).slice(0,3).map((s,a)=>f.jsxs("div",{className:"text-sm opacity-80",children:["• ",s.size??"—"," — $",Number(s.price||0)]},a)),(t.items||[]).length>3&&f.jsxs("div",{className:"text-xs opacity-50 mt-1",children:["+",(t.items||[]).length-3," más…"]})]}),f.jsx("div",{className:"mt-3",children:f.jsx(qe,{className:"btn btn-outline btn-sm",to:`/pedido/${t.id}`,children:"Ver detalle"})})]})})}const RI=Wn(lt,"pages","about");async function NI(){const t=await lb(RI);return t.exists()?t.data():null}async function Zz({title:t,subtitle:e,body:n,heroImageUrl:s},a){const l={title:t??"",subtitle:e??"",body:n??"",heroImageUrl:s??"",updatedAt:Zi(),updatedBy:a?.uid??null,published:!0};await VC(RI,l,{merge:!0})}function Jz(){const[t,e]=I.useState(null),[n,s]=I.useState(!0);return I.useEffect(()=>{(async()=>{s(!0);const a=await NI();e(a),s(!1)})()},[]),n?f.jsx("div",{className:"container mx-auto p-6",children:"Cargando…"}):f.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t?.heroImageUrl&&f.jsx("div",{className:"w-full aspect-[16/9] rounded-box overflow-hidden bg-base-200",children:f.jsx("img",{src:t.heroImageUrl,alt:"Acerca de",className:"w-full h-full object-cover"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold",children:t?.title||"Acerca de"}),t?.subtitle&&f.jsx("p",{className:"opacity-70 mt-1",children:t.subtitle})]}),f.jsx("div",{className:"prose max-w-none whitespace-pre-wrap",children:t?.body})]})}function Qn({children:t}){const e="tab tab-bordered",n=({isActive:s})=>s?`${e} tab-active`:e;return f.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[f.jsx("header",{className:"flex items-center justify-between",children:f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Panel de Administración"}),f.jsx("p",{className:"opacity-70",children:"Gestiona pedidos y contenido del sitio"})]})}),f.jsxs("div",{role:"tablist",className:"tabs tabs-lifted",children:[f.jsx(cl,{to:"/admin",end:!0,className:n,children:"Pedidos"}),f.jsx(cl,{to:"/admin/about",className:n,children:"Acerca de"}),f.jsx(cl,{to:"/admin/faq",className:n,children:"FAQ"}),f.jsx(cl,{to:"/admin/reports",className:n,children:"Reportes"}),f.jsx(cl,{to:"/admin/users",className:n,children:"Usuarios"})]}),f.jsx("section",{className:"mt-2",children:t})]})}const sA=50,eq=["Todos","Pagado","En proceso","Enviado","Entregado","Cancelado"];function tq(){const{user:t,profile:e}=Jn(),n=e?.role==="admin",[s,a]=I.useState([]),[l,c]=I.useState(!0),[h,m]=I.useState(null),[g,v]=I.useState("Todos"),[b,T]=I.useState(""),[w,A]=I.useState({});I.useEffect(()=>{if(!n){a([]),c(!1);return}c(!0),m(null);const j=Xi(_s(lt,"orders"),Wi("createdAt","desc"),mo(sA)),q=ea(j,F=>{const W=F.docs.map(ee=>({id:ee.id,...ee.data()}));a(W),c(!1)},F=>{console.error("[AdminDashboard] onSnapshot error:",F),m(F),c(!1)});return()=>q()},[n]);const D=I.useMemo(()=>{let j=s;g!=="Todos"&&(j=j.filter(F=>F.status===g));const q=b.trim().toLowerCase();return q&&(j=j.filter(F=>{const W=(F.id||"").toLowerCase(),ee=(F.userId||"").toLowerCase();return W.includes(q)||ee.includes(q)})),j},[s,g,b]),P=async(j,q)=>{const F=window.prompt("Nota (opcional) para este cambio de estado:")||null;try{A(W=>({...W,[j]:!0})),await Tb(j,{status:q,note:F})}catch(W){console.error("[AdminDashboard] setStatus error:",W),window.alert("No se pudo actualizar el estado. Revisa la consola.")}finally{A(W=>({...W,[j]:!1}))}};return t?n?f.jsxs("div",{className:"container mx-auto p-6 space-y-4",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Panel de Administración"}),f.jsxs("p",{className:"mt-1",children:["Hola ",f.jsx("b",{children:e?.name||t?.displayName||t?.email}),"."]}),f.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-3",children:[f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Filtrar por estado"})}),f.jsx("select",{className:"select select-bordered",value:g,onChange:j=>v(j.target.value),children:eq.map(j=>f.jsx("option",{value:j,children:j},j))})]}),f.jsxs("div",{className:"form-control md:col-span-2",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Buscar (ID o userId)"})}),f.jsx("input",{className:"input input-bordered",placeholder:"Ej. 3F9A12 o UID del usuario",value:b,onChange:j=>T(j.target.value)})]})]}),f.jsx("div",{className:"alert alert-info mt-2",children:f.jsxs("span",{children:["Mostrando los ",sA," pedidos más recientes (tiempo real). Usa el filtro/búsqueda para acotar."]})}),h&&f.jsxs("div",{className:"alert alert-error mt-2",children:[f.jsx("span",{children:"Ocurrió un error al cargar pedidos."}),f.jsx("pre",{className:"mt-2 text-xs opacity-70 whitespace-pre-wrap",children:String(h)})]}),f.jsx("div",{className:"mt-4 overflow-x-auto",children:f.jsxs("table",{className:"table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Creado"}),f.jsx("th",{children:"Pedido"}),f.jsx("th",{children:"Usuario"}),f.jsx("th",{children:"Items"}),f.jsx("th",{children:"Total"}),f.jsx("th",{children:"Estado"}),f.jsx("th",{className:"text-right",children:"Acciones"})]})}),f.jsx("tbody",{children:l?f.jsx("tr",{children:f.jsx("td",{colSpan:7,children:"Cargando…"})}):D.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:7,className:"opacity-70",children:"Sin pedidos."})}):D.map(j=>{const q=j.createdAt?.toDate?.()?j.createdAt.toDate().toLocaleString():"—",F=!!w[j.id];return f.jsxs("tr",{children:[f.jsx("td",{className:"whitespace-nowrap",children:q}),f.jsxs("td",{className:"font-mono",children:[j.id.slice(0,8),"…"]}),f.jsx("td",{className:"font-mono text-xs opacity-80",children:j.userId||"-"}),f.jsx("td",{children:j.items?.length||0}),f.jsxs("td",{children:["$",Number(j.total||0)]}),f.jsx("td",{children:f.jsx("span",{className:"badge",children:j.status||"—"})}),f.jsx("td",{children:f.jsxs("div",{className:"flex gap-2 justify-end",children:[f.jsx("button",{className:"btn btn-xs",disabled:F,onClick:()=>P(j.id,"En proceso"),children:F?"…":"En proceso"}),f.jsx("button",{className:"btn btn-xs btn-primary",disabled:F,onClick:()=>P(j.id,"Enviado"),children:F?"…":"Enviado"}),f.jsx("button",{className:"btn btn-xs btn-success",disabled:F,onClick:()=>P(j.id,"Entregado"),children:F?"…":"Entregado"}),f.jsx("button",{className:"btn btn-xs btn-error",disabled:F,onClick:()=>P(j.id,"Cancelado"),children:F?"…":"Cancelar"}),f.jsx(qe,{className:"btn btn-outline btn-xs",to:`/pedido/${j.id}`,children:"Ver"})]})})]},j.id)})})]})}),f.jsx("div",{className:"mt-4",children:f.jsx(qe,{to:"/toyreq1",className:"btn btn-ghost",children:"Probar flujo de cliente"})})]}):f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsx("div",{className:"alert alert-error",children:"No autorizado."}),f.jsx("p",{className:"opacity-70 mt-2",children:"Esta sección es solo para administradores."})]}):f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsx("div",{className:"alert alert-warning",children:"Debes iniciar sesión."}),f.jsx(qe,{to:"/login",className:"btn btn-primary mt-4",children:"Ir a iniciar sesión"})]})}function nq(){const{user:t,profile:e}=Jn(),n=e?.role==="admin",[s,a]=I.useState({title:"",subtitle:"",body:"",heroImageUrl:""}),[l,c]=I.useState(!0),[h,m]=I.useState(!1),[g,v]=I.useState(!1),[b,T]=I.useState(null);I.useEffect(()=>{let D=!0;return(async()=>{try{c(!0);const P=await NI();D&&P&&a({title:P.title??"",subtitle:P.subtitle??"",body:P.body??"",heroImageUrl:P.heroImageUrl??""})}catch(P){console.error("[AdminAbout] fetch error:",P),T(P)}finally{c(!1)}})(),()=>D=!1},[]);const w=D=>{const{name:P,value:j}=D.target;a(q=>({...q,[P]:j})),v(!1)},A=async D=>{if(D.preventDefault(),!!n)try{m(!0),await Zz(s,t),v(!0)}catch(P){console.error("[AdminAbout] save error:",P),T(P),alert("No se pudo guardar. Revisa consola.")}finally{m(!1)}};return t?n?f.jsx(Qn,{children:l?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"loading loading-spinner loading-md"}),f.jsx("span",{children:"Cargando contenido actual…"})]}):f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsx("form",{className:"card bg-base-100 border",onSubmit:A,children:f.jsxs("div",{className:"card-body space-y-3",children:[f.jsx("h2",{className:"card-title",children:"Editar “Acerca de”"}),b&&f.jsx("div",{className:"alert alert-error",children:f.jsxs("span",{children:["Error: ",String(b.message||b)]})}),g&&!h&&f.jsx("div",{className:"alert alert-success py-2",children:f.jsx("span",{children:"¡Guardado!"})}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Título"})}),f.jsx("input",{name:"title",className:"input input-bordered",placeholder:"Quiénes somos",value:s.title,onChange:w})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Subtítulo"})}),f.jsx("input",{name:"subtitle",className:"input input-bordered",placeholder:"Nuestra misión, visión…",value:s.subtitle,onChange:w})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Imagen (URL)"})}),f.jsx("input",{name:"heroImageUrl",className:"input input-bordered",placeholder:"https://…",value:s.heroImageUrl,onChange:w}),f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text-alt opacity-70",children:"Más adelante integramos subida a Storage 🙂"})})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Cuerpo (texto/markdown)"})}),f.jsx("textarea",{name:"body",className:"textarea textarea-bordered min-h-[180px]",placeholder:"Escribe aquí la historia, valores, etc.",value:s.body,onChange:w}),f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text-alt opacity-70",children:"Admite saltos de línea. Si quieres, luego soportamos Markdown."})})]}),f.jsx("div",{className:"card-actions justify-end",children:f.jsx("button",{className:"btn btn-primary",disabled:h,children:h?"Guardando…":"Guardar cambios"})})]})}),f.jsx("div",{className:"card bg-base-100 border",children:f.jsxs("div",{className:"card-body space-y-3",children:[f.jsx("h2",{className:"card-title",children:"Vista previa"}),s.heroImageUrl?f.jsx("div",{className:"w-full aspect-[16/9] bg-base-200 rounded-box overflow-hidden",children:f.jsx("img",{src:s.heroImageUrl,alt:"Hero image preview",className:"w-full h-full object-cover"})}):f.jsx("div",{className:"w-full aspect-[16/9] bg-base-200 rounded-box flex items-center justify-center opacity-60",children:"Sin imagen"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold",children:s.title||"—"}),f.jsx("p",{className:"opacity-70",children:s.subtitle||"—"})]}),f.jsx("div",{className:"prose max-w-none whitespace-pre-wrap",children:s.body||"—"})]})})]})}):f.jsx(Qn,{children:f.jsx("div",{className:"alert alert-error",children:"No autorizado. Solo administradores."})}):f.jsx(Qn,{children:f.jsx("div",{className:"alert alert-warning",children:"Debes iniciar sesión."})})}const sq=200;function iq(){const{user:t,profile:e}=Jn(),n=e?.role==="admin",[s,a]=I.useState([]),[l,c]=I.useState(!0),[h,m]=I.useState(null);I.useEffect(()=>{if(!n){a([]),c(!1);return}c(!0),m(null);const v=Xi(_s(lt,"orders"),Wi("createdAt","desc"),mo(sq)),b=ea(v,T=>{a(T.docs.map(w=>({id:w.id,...w.data()}))),c(!1)},T=>{m(T),c(!1)});return()=>b()},[n]);const g=I.useMemo(()=>{const v=s.length,b=s.reduce((j,q)=>j+Number(q.total||0),0),T=s.reduce((j,q)=>(j[q.status||"—"]=(j[q.status||"—"]||0)+1,j),{}),w=Date.now()-1440*60*1e3,A=s.filter(j=>j.createdAt?.toDate?.()&&j.createdAt.toDate().getTime()>=w),D=A.reduce((j,q)=>j+Number(q.total||0),0),P=v?b/v:0;return{total:v,revenue:b,byStatus:T,last24:A.length,rev24:D,avgTicket:P}},[s]);return t?n?f.jsx(Qn,{children:l?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"loading loading-spinner loading-md"}),f.jsx("span",{children:"Cargando KPIs…"})]}):h?f.jsxs("div",{className:"alert alert-error",children:["Error: ",String(h)]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(ll,{title:"Pedidos (últimos 200)",value:g.total}),f.jsx(ll,{title:"Ingresos estimados",value:`$${g.revenue.toFixed(2)}`}),f.jsx(ll,{title:"Ticket promedio",value:`$${g.avgTicket.toFixed(2)}`}),f.jsx(ll,{title:"Pedidos 24h",value:g.last24}),f.jsx(ll,{title:"Ingresos 24h",value:`$${g.rev24.toFixed(2)}`}),f.jsx(ll,{title:"Entregados",value:g.byStatus.Entregado||0})]}),f.jsx("div",{className:"mt-6 card bg-base-100 border",children:f.jsxs("div",{className:"card-body",children:[f.jsx("h2",{className:"card-title",children:"Pedidos recientes"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Creado"}),f.jsx("th",{children:"Pedido"}),f.jsx("th",{children:"Usuario"}),f.jsx("th",{children:"Total"}),f.jsx("th",{children:"Estado"})]})}),f.jsxs("tbody",{children:[s.slice(0,20).map(v=>{const b=v.createdAt?.toDate?.()?v.createdAt.toDate().toLocaleString():"—";return f.jsxs("tr",{children:[f.jsx("td",{className:"whitespace-nowrap",children:b}),f.jsxs("td",{children:["#",v.id.slice(-6).toUpperCase()]}),f.jsx("td",{className:"font-mono text-xs opacity-80",children:v.userId}),f.jsxs("td",{children:["$",Number(v.total||0)]}),f.jsx("td",{children:v.status||"—"})]},v.id)}),s.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"opacity-70",children:"Sin pedidos."})})]})]})})]})})]})}):f.jsx(Qn,{children:f.jsx("div",{className:"alert alert-error",children:"No autorizado."})}):f.jsx(Qn,{children:f.jsx("div",{className:"alert alert-warning",children:"Debes iniciar sesión."})})}function ll({title:t,value:e}){return f.jsx("div",{className:"card bg-base-100 border",children:f.jsxs("div",{className:"card-body",children:[f.jsx("div",{className:"text-sm opacity-70",children:t}),f.jsx("div",{className:"text-2xl font-bold",children:e})]})})}const rq=100;function aq(){const{user:t,profile:e}=Jn(),n=e?.role==="admin",[s,a]=I.useState([]),[l,c]=I.useState(!0),[h,m]=I.useState(null),[g,v]=I.useState(""),[b,T]=I.useState({});I.useEffect(()=>{if(!n){a([]),c(!1);return}c(!0),m(null);const D=Xi(_s(lt,"users"),Wi("createdAt","desc"),mo(rq)),P=ea(D,j=>{a(j.docs.map(q=>({id:q.id,...q.data()}))),c(!1)},j=>{m(j),c(!1)});return()=>P()},[n]);const w=I.useMemo(()=>{const D=g.trim().toLowerCase();return D?s.filter(P=>(P.email||"").toLowerCase().includes(D)||(P.name||"").toLowerCase().includes(D)||(P.id||"").toLowerCase().includes(D)):s},[s,g]),A=async(D,P)=>{const j=P?"¿Hacer admin a este usuario?":"¿Quitar admin a este usuario?";if(window.confirm(j))try{T(q=>({...q,[D]:!0})),await Rm(Wn(lt,"users",D),{role:P?"admin":"user"})}catch(q){console.error("[AdminUsers] setRole error:",q),alert("No se pudo actualizar el rol. Revisa consola.")}finally{T(q=>({...q,[D]:!1}))}};return t?n?f.jsx(Qn,{children:l?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"loading loading-spinner loading-md"}),f.jsx("span",{children:"Cargando usuarios…"})]}):h?f.jsxs("div",{className:"alert alert-error",children:["Error: ",String(h)]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:f.jsxs("div",{className:"form-control md:col-span-2",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Buscar"})}),f.jsx("input",{className:"input input-bordered",placeholder:"Nombre, email o UID…",value:g,onChange:D=>v(D.target.value)})]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Nombre"}),f.jsx("th",{children:"Email"}),f.jsx("th",{children:"UID"}),f.jsx("th",{children:"Rol"}),f.jsx("th",{children:"Creado"}),f.jsx("th",{className:"text-right",children:"Acciones"})]})}),f.jsxs("tbody",{children:[w.map(D=>{const P=D.createdAt?.toDate?.()?D.createdAt.toDate().toLocaleString():"—",j=D.role==="admin",q=!!b[D.id];return f.jsxs("tr",{children:[f.jsx("td",{children:D.name||"—"}),f.jsx("td",{className:"font-mono text-xs",children:D.email||"—"}),f.jsx("td",{className:"font-mono text-xs",children:D.id}),f.jsx("td",{children:f.jsx("span",{className:`badge ${j?"badge-primary":""}`,children:D.role||"user"})}),f.jsx("td",{className:"whitespace-nowrap",children:P}),f.jsx("td",{children:f.jsx("div",{className:"flex gap-2 justify-end",children:j?f.jsx("button",{className:"btn btn-xs",disabled:q,onClick:()=>A(D.id,!1),children:q?"…":"Quitar admin"}):f.jsx("button",{className:"btn btn-xs btn-primary",disabled:q,onClick:()=>A(D.id,!0),children:q?"…":"Hacer admin"})})})]},D.id)}),w.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:"text-center opacity-70 py-6",children:"Sin usuarios."})})]})]})})]})}):f.jsx(Qn,{children:f.jsx("div",{className:"alert alert-error",children:"No autorizado."})}):f.jsx(Qn,{children:f.jsx("div",{className:"alert alert-warning",children:"Debes iniciar sesión."})})}async function oq({question:t="",answer:e="",published:n=!0},s){const a=Xi(_s(lt,"faqs"),Wi("order","desc"),mo(1)),l=await kC(a),c=l.empty?0:Number(l.docs[0].data()?.order||0);return(await ub(_s(lt,"faqs"),{question:t,answer:e,published:!!n,order:c+1,updatedAt:Zi(),updatedBy:s?.uid??null})).id}async function lq(t,{question:e,answer:n,published:s},a){const l={updatedAt:Zi(),updatedBy:a?.uid??null};e!==void 0&&(l.question=e),n!==void 0&&(l.answer=n),s!==void 0&&(l.published=!!s),await Rm(Wn(lt,"faqs",t),l)}async function cq(t){await M5(Wn(lt,"faqs",t))}async function iA(t,e){if(!t?.id||!e?.id)return;const n=V5(lt),s=Wn(lt,"faqs",t.id),a=Wn(lt,"faqs",e.id);n.update(s,{order:Number(e.order||0)}),n.update(a,{order:Number(t.order||0)}),await n.commit()}const uq=200;function hq(){const{user:t,profile:e}=Jn(),n=e?.role==="admin",[s,a]=I.useState([]),[l,c]=I.useState(!0),[h,m]=I.useState(null),[g,v]=I.useState(""),[b,T]=I.useState(""),[w,A]=I.useState(!0),[D,P]=I.useState(!1),[j,q]=I.useState({}),[F,W]=I.useState({});I.useEffect(()=>{if(!n){a([]),c(!1);return}c(!0),m(null);const re=Xi(_s(lt,"faqs"),Wi("order","asc"),mo(uq)),le=ea(re,G=>{const J=G.docs.map(he=>({id:he.id,...he.data()}));a(J),c(!1)},G=>{m(G),c(!1)});return()=>le()},[n]);const ee=I.useMemo(()=>g.trim().length>0&&b.trim().length>0,[g,b]),ue=async re=>{if(re.preventDefault(),!(!n||!ee))try{P(!0),await oq({question:g.trim(),answer:b.trim(),published:w},t),v(""),T(""),A(!0)}catch(le){console.error("[AdminFAQ] createFAQ error:",le),alert("No se pudo crear. Revisa consola.")}finally{P(!1)}},k=re=>{q(le=>({...le,[re.id]:{question:re.question??"",answer:re.answer??"",published:!!re.published}}))},N=re=>{q(le=>{const{[re]:G,...J}=le;return J})},C=(re,le,G)=>{q(J=>({...J,[re]:{...J[re],[le]:G}}))},M=async re=>{try{W(G=>({...G,[re]:!0}));const le=j[re];await lq(re,{question:le.question,answer:le.answer,published:le.published},t),N(re)}catch(le){console.error("[AdminFAQ] updateFAQ error:",le),alert("No se pudo guardar. Revisa consola.")}finally{W(le=>({...le,[re]:!1}))}},U=async re=>{if(window.confirm("¿Eliminar esta pregunta?"))try{W(le=>({...le,[re]:!0})),await cq(re)}catch(le){console.error("[AdminFAQ] deleteFAQ error:",le),alert("No se pudo eliminar. Revisa consola.")}finally{W(le=>({...le,[re]:!1}))}},L=async re=>{if(re<=0)return;const le=s[re-1],G=s[re];try{W(J=>({...J,[le.id]:!0,[G.id]:!0})),await iA(le,G)}catch(J){console.error("[AdminFAQ] moveUp error:",J)}finally{W(J=>({...J,[le.id]:!1,[G.id]:!1}))}},O=async re=>{if(re>=s.length-1)return;const le=s[re],G=s[re+1];try{W(J=>({...J,[le.id]:!0,[G.id]:!0})),await iA(le,G)}catch(J){console.error("[AdminFAQ] moveDown error:",J)}finally{W(J=>({...J,[le.id]:!1,[G.id]:!1}))}};return t?n?f.jsx(Qn,{children:l?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"loading loading-spinner loading-md"}),f.jsx("span",{children:"Cargando FAQ…"})]}):h?f.jsxs("div",{className:"alert alert-error",children:["Error: ",String(h)]}):f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsx("form",{className:"card bg-base-100 border",onSubmit:ue,children:f.jsxs("div",{className:"card-body space-y-3",children:[f.jsx("h2",{className:"card-title",children:"Nueva pregunta"}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Pregunta"})}),f.jsx("input",{className:"input input-bordered",value:g,onChange:re=>v(re.target.value),placeholder:"¿Cómo funciona…?"})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Respuesta"})}),f.jsx("textarea",{className:"textarea textarea-bordered min-h-[120px]",value:b,onChange:re=>T(re.target.value),placeholder:"Escribe la respuesta aquí…"})]}),f.jsx("div",{className:"form-control",children:f.jsxs("label",{className:"cursor-pointer label",children:[f.jsx("span",{className:"label-text",children:"Publicado"}),f.jsx("input",{type:"checkbox",className:"toggle toggle-primary",checked:w,onChange:re=>A(re.target.checked)})]})}),f.jsx("div",{className:"card-actions justify-end",children:f.jsx("button",{className:"btn btn-primary",disabled:!ee||D,children:D?"Creando…":"Crear"})})]})}),f.jsx("div",{className:"card bg-base-100 border",children:f.jsxs("div",{className:"card-body",children:[f.jsx("h2",{className:"card-title",children:"Preguntas existentes"}),s.length===0?f.jsx("div",{className:"opacity-70",children:"Aún no hay preguntas."}):f.jsx("ul",{className:"space-y-3",children:s.map((re,le)=>{const G=!!j[re.id],J=j[re.id];return f.jsx("li",{className:"border rounded-box",children:f.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{className:"btn btn-xs",onClick:()=>L(le),disabled:le===0||F[re.id],children:"↑"}),f.jsx("button",{className:"btn btn-xs",onClick:()=>O(le),disabled:le===s.length-1||F[re.id],children:"↓"}),f.jsxs("span",{className:"badge",children:["order: ",re.order]}),f.jsx("span",{className:`badge ${re.published?"badge-primary":""}`,children:re.published?"Publicado":"Oculto"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[G?f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"btn btn-xs btn-primary",onClick:()=>M(re.id),disabled:F[re.id],children:F[re.id]?"…":"Guardar"}),f.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>N(re.id),children:"Cancelar"})]}):f.jsx("button",{className:"btn btn-xs",onClick:()=>k(re),children:"Editar"}),f.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>U(re.id),disabled:F[re.id],children:"Eliminar"})]})]}),G?f.jsxs(f.Fragment,{children:[f.jsx("input",{className:"input input-bordered",value:J?.question||"",onChange:he=>C(re.id,"question",he.target.value)}),f.jsx("textarea",{className:"textarea textarea-bordered min-h-[100px]",value:J?.answer||"",onChange:he=>C(re.id,"answer",he.target.value)}),f.jsxs("label",{className:"label cursor-pointer justify-start gap-3",children:[f.jsx("input",{type:"checkbox",className:"toggle toggle-primary",checked:!!J?.published,onChange:he=>C(re.id,"published",he.target.checked)}),f.jsx("span",{className:"label-text",children:"Publicado"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"font-semibold",children:re.question||"—"}),f.jsx("div",{className:"opacity-80 whitespace-pre-wrap",children:re.answer||"—"})]})]})},re.id)})})]})})]})}):f.jsx(Qn,{children:f.jsx("div",{className:"alert alert-error",children:"No autorizado. Solo administradores."})}):f.jsx(Qn,{children:f.jsx("div",{className:"alert alert-warning",children:"Debes iniciar sesión."})})}const dq=200;function fq(){const[t,e]=I.useState([]),[n,s]=I.useState(!0);return I.useEffect(()=>{const a=Xi(_s(lt,"faqs"),Wi("order","asc"),mo(dq)),l=ea(a,c=>{const h=c.docs.map(m=>({id:m.id,...m.data()}));e(h.filter(m=>!!m.published)),s(!1)});return()=>l()},[]),n?f.jsx("div",{className:"container mx-auto p-6",children:"Cargando…"}):f.jsxs("div",{className:"container mx-auto p-6 space-y-4",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Preguntas frecuentes"}),f.jsx("div",{className:"join join-vertical w-full",children:t.length===0?f.jsx("div",{className:"opacity-70",children:"No hay preguntas por ahora."}):t.map((a,l)=>f.jsxs("div",{className:"collapse collapse-plus join-item border border-base-300",children:[f.jsx("input",{type:"checkbox",defaultChecked:l===0}),f.jsx("div",{className:"collapse-title text-lg font-medium",children:a.question}),f.jsx("div",{className:"collapse-content whitespace-pre-wrap",children:f.jsx("p",{children:a.answer})})]},a.id))})]})}const mq="https://us-central1-<TU_PROJECT_ID>.cloudfunctions.net/contactEmail";function pq(){const[t,e]=I.useState({name:"",email:"",subject:"",message:"",hp:""}),[n,s]=I.useState(!1),[a,l]=I.useState(null),[c,h]=I.useState(""),m=v=>{const{name:b,value:T}=v.target;e(w=>({...w,[b]:T}))},g=async v=>{v.preventDefault(),s(!0),l(null),h("");try{const b=await fetch(mq,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),T=await b.json();b.ok&&T.ok?(l(!0),e({name:"",email:"",subject:"",message:"",hp:""})):(l(!1),h(T?.error||"No se pudo enviar tu mensaje. Intenta de nuevo."))}catch(b){console.error(b),l(!1),h("Error de red. Intenta de nuevo.")}finally{s(!1)}};return f.jsxs("div",{className:"container mx-auto p-6 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsx("form",{className:"card bg-base-100 border lg:col-span-2",onSubmit:g,children:f.jsxs("div",{className:"card-body space-y-3",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Contacto"}),f.jsx("p",{className:"opacity-70",children:"¿Tienes dudas? Escríbenos y te respondemos."}),a===!0&&f.jsx("div",{className:"alert alert-success",children:"¡Gracias! Tu mensaje fue enviado."}),a===!1&&f.jsx("div",{className:"alert alert-error",children:c}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Nombre"})}),f.jsx("input",{name:"name",className:"input input-bordered",value:t.name,onChange:m,required:!0})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Email"})}),f.jsx("input",{type:"email",name:"email",className:"input input-bordered",value:t.email,onChange:m,required:!0})]})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Asunto"})}),f.jsx("input",{name:"subject",className:"input input-bordered",value:t.subject,onChange:m,placeholder:"Quiero un peluche personalizado…"})]}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Mensaje"})}),f.jsx("textarea",{name:"message",className:"textarea textarea-bordered min-h-[140px]",value:t.message,onChange:m,required:!0})]}),f.jsx("input",{type:"text",name:"hp",value:t.hp,onChange:m,className:"hidden",tabIndex:-1,autoComplete:"off"}),f.jsx("div",{className:"card-actions justify-end",children:f.jsx("button",{className:"btn btn-primary",disabled:n,children:n?"Enviando…":"Enviar"})})]})}),f.jsxs("aside",{className:"space-y-4",children:[f.jsx("div",{className:"card bg-base-100 border",children:f.jsxs("div",{className:"card-body",children:[f.jsx("h2",{className:"card-title",children:"También puedes contactarnos"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsx("li",{children:f.jsx("a",{className:"link",href:"mailto:kath@tudominio.com",children:"kath@tudominio.com"})}),f.jsx("li",{children:f.jsx("a",{className:"link",href:"#",target:"_blank",rel:"noreferrer",children:"Instagram"})}),f.jsx("li",{children:f.jsx("a",{className:"link",href:"#",target:"_blank",rel:"noreferrer",children:"Facebook"})}),f.jsx("li",{children:f.jsx("a",{className:"link",href:"#",target:"_blank",rel:"noreferrer",children:"WhatsApp"})})]})]})}),f.jsx("div",{className:"card bg-base-100 border",children:f.jsxs("div",{className:"card-body",children:[f.jsx("h2",{className:"card-title",children:"Horario"}),f.jsx("p",{className:"opacity-70",children:"Lunes a Viernes, 9am–6pm (CDMX)"})]})})]})]})}function gq(){const{state:t}=bs()||{},e=t?.email,n=t?.total,s=t?.orderId;return f.jsxs("div",{className:"container mx-auto p-6 text-center space-y-4",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"¡Gracias por tu pedido! 🎉"}),s&&f.jsxs("p",{className:"opacity-80",children:["ID de pedido: ",f.jsx("b",{children:s})]}),typeof n=="number"&&f.jsxs("p",{children:["Total: ",f.jsxs("b",{children:["$",n]})]}),e&&f.jsxs("p",{className:"opacity-80",children:["Te enviaremos la confirmación a ",f.jsx("b",{children:e}),"."]}),f.jsxs("div",{className:"mt-4 flex items-center justify-center gap-3",children:[f.jsx(qe,{to:"/pedido",className:"btn btn-primary",children:"Ver mis pedidos"}),f.jsx(qe,{to:"/",className:"btn btn-ghost",children:"Volver al inicio"})]})]})}function yq(){const[t,e]=I.useState(""),[n,s]=I.useState(""),a=Ps(),l=c=>{if(c.preventDefault(),s(""),!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(t)){s("Ingresa un correo válido.");return}localStorage.setItem("guestEmail",t.trim()),a("/toyreq1?guest=1")};return f.jsx("div",{className:"container mx-auto p-6 grid place-items-center min-h-[70svh]",children:f.jsx("form",{onSubmit:l,className:"card bg-base-100 border w-full max-w-md",children:f.jsxs("div",{className:"card-body space-y-3",children:[f.jsx("h1",{className:"text-3xl font-bold text-center",children:"Empezar pedido sin registrarte"}),f.jsx("p",{className:"opacity-70 text-center",children:"Sólo necesitamos tu correo para enviarte avances y confirmar el pedido."}),f.jsxs("div",{className:"form-control",children:[f.jsx("label",{className:"label",children:f.jsx("span",{className:"label-text",children:"Correo electrónico"})}),f.jsx("input",{type:"email",className:"input input-bordered",placeholder:"tucorreo@ejemplo.com",value:t,onChange:c=>e(c.target.value),required:!0,autoFocus:!0})]}),n&&f.jsx("div",{className:"alert alert-error",children:n}),f.jsx("div",{className:"card-actions mt-2",children:f.jsx("button",{className:"btn btn-primary btn-block",children:"Continuar"})}),f.jsxs("div",{className:"text-center text-sm opacity-70",children:["¿Ya tienes cuenta? ",f.jsx(qe,{to:"/login",className:"link link-primary",children:"Inicia sesión"})]})]})})})}var CI="basil",vq=function(e){return e===3?"v3":e},II="https://js.stripe.com",_q="".concat(II,"/").concat(CI,"/stripe.js"),bq=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Tq=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Eq=function(e){return bq.test(e)||Tq.test(e)},xq=function(){for(var e=document.querySelectorAll('script[src^="'.concat(II,'"]')),n=0;n<e.length;n++){var s=e[n];if(Eq(s.src))return s}return null},rA=function(e){var n="",s=document.createElement("script");s.src="".concat(_q).concat(n);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},wq=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:n})},ou=null,Zd=null,Jd=null,Sq=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},Aq=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},Rq=function(e){return ou!==null?ou:(ou=new Promise(function(n,s){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var a=xq();if(!(a&&e)){if(!a)a=rA(e);else if(a&&Jd!==null&&Zd!==null){var l;a.removeEventListener("load",Jd),a.removeEventListener("error",Zd),(l=a.parentNode)===null||l===void 0||l.removeChild(a),a=rA(e)}}Jd=Aq(n,s),Zd=Sq(s),a.addEventListener("load",Jd),a.addEventListener("error",Zd)}catch(c){s(c);return}}),ou.catch(function(n){return ou=null,Promise.reject(n)}))},Nq=function(e,n,s){if(e===null)return null;var a=n[0],l=a.match(/^pk_test/),c=vq(e.version),h=CI;l&&c!==h&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var m=e.apply(void 0,n);return wq(m,s),m},lu,DI=!1,jI=function(){return lu||(lu=Rq(null).catch(function(e){return lu=null,Promise.reject(e)}),lu)};Promise.resolve().then(function(){return jI()}).catch(function(t){DI||console.warn(t)});var Cq=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];DI=!0;var a=Date.now();return jI().then(function(l){return Nq(l,n,a)})},Ey={exports:{}},xy,aA;function Iq(){if(aA)return xy;aA=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return xy=t,xy}var wy,oA;function Dq(){if(oA)return wy;oA=1;var t=Iq();function e(){}function n(){}return n.resetWarningCache=e,wy=function(){function s(c,h,m,g,v,b){if(b!==t){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}s.isRequired=s;function a(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},wy}var lA;function jq(){return lA||(lA=1,Ey.exports=Dq()()),Ey.exports}var Pq=jq();const mt=yA(Pq);function cA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function uA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cA(Object(n),!0).forEach(function(s){PI(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function yf(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yf=function(e){return typeof e}:yf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function PI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oq(t,e){if(t==null)return{};var n={},s=Object.keys(t),a,l;for(l=0;l<s.length;l++)a=s[l],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function Mq(t,e){if(t==null)return{};var n=Oq(t,e),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)s=l[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function OI(t,e){return kq(t)||Vq(t,e)||Lq(t,e)||Uq()}function kq(t){if(Array.isArray(t))return t}function Vq(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var s=[],a=!0,l=!1,c,h;try{for(n=n.call(t);!(a=(c=n.next()).done)&&(s.push(c.value),!(e&&s.length===e));a=!0);}catch(m){l=!0,h=m}finally{try{!a&&n.return!=null&&n.return()}finally{if(l)throw h}}return s}}function Lq(t,e){if(t){if(typeof t=="string")return hA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hA(t,e)}}function hA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function Uq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Gn=function(e,n,s){var a=!!s,l=Ze.useRef(s);Ze.useEffect(function(){l.current=s},[s]),Ze.useEffect(function(){if(!a||!e)return function(){};var c=function(){l.current&&l.current.apply(l,arguments)};return e.on(n,c),function(){e.off(n,c)}},[a,n,e,l])},Ev=function(e){var n=Ze.useRef(e);return Ze.useEffect(function(){n.current=e},[e]),n.current},Ol=function(e){return e!==null&&yf(e)==="object"},Bq=function(e){return Ol(e)&&typeof e.then=="function"},Fq=function(e){return Ol(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},dA="[object Object]",zq=function t(e,n){if(!Ol(e)||!Ol(n))return e===n;var s=Array.isArray(e),a=Array.isArray(n);if(s!==a)return!1;var l=Object.prototype.toString.call(e)===dA,c=Object.prototype.toString.call(n)===dA;if(l!==c)return!1;if(!l&&!s)return e===n;var h=Object.keys(e),m=Object.keys(n);if(h.length!==m.length)return!1;for(var g={},v=0;v<h.length;v+=1)g[h[v]]=!0;for(var b=0;b<m.length;b+=1)g[m[b]]=!0;var T=Object.keys(g);if(T.length!==h.length)return!1;var w=e,A=n,D=function(j){return t(w[j],A[j])};return T.every(D)},MI=function(e,n,s){return Ol(e)?Object.keys(e).reduce(function(a,l){var c=!Ol(n)||!zq(e[l],n[l]);return s.includes(l)?(c&&console.warn("Unsupported prop change: options.".concat(l," is not a mutable property.")),a):c?uA(uA({},a||{}),{},PI({},l,e[l])):a},null):null},kI="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",fA=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kI;if(e===null||Fq(e))return e;throw new Error(n)},qq=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kI;if(Bq(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(a){return fA(a,n)})};var s=fA(e,n);return s===null?{tag:"empty"}:{tag:"sync",stripe:s}},Hq=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.9.1"}),e.registerAppInfo({name:"react-stripe-js",version:"3.9.1",url:"https://stripe.com/docs/stripe-js/react"}))},Dm=Ze.createContext(null);Dm.displayName="ElementsContext";var VI=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},LI=function(e){var n=e.stripe,s=e.options,a=e.children,l=Ze.useMemo(function(){return qq(n)},[n]),c=Ze.useState(function(){return{stripe:l.tag==="sync"?l.stripe:null,elements:l.tag==="sync"?l.stripe.elements(s):null}}),h=OI(c,2),m=h[0],g=h[1];Ze.useEffect(function(){var T=!0,w=function(D){g(function(P){return P.stripe?P:{stripe:D,elements:D.elements(s)}})};return l.tag==="async"&&!m.stripe?l.stripePromise.then(function(A){A&&T&&w(A)}):l.tag==="sync"&&!m.stripe&&w(l.stripe),function(){T=!1}},[l,m,s]);var v=Ev(n);Ze.useEffect(function(){v!==null&&v!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[v,n]);var b=Ev(s);return Ze.useEffect(function(){if(m.elements){var T=MI(s,b,["clientSecret","fonts"]);T&&m.elements.update(T)}},[s,b,m.elements]),Ze.useEffect(function(){Hq(m.stripe)},[m.stripe]),Ze.createElement(Dm.Provider,{value:m},a)};LI.propTypes={stripe:mt.any,options:mt.object};var Gq=function(e){var n=Ze.useContext(Dm);return VI(n,e)},$q=function(){var e=Gq("calls useElements()"),n=e.elements;return n};mt.func.isRequired;var UI=Ze.createContext(null);UI.displayName="CheckoutSdkContext";var Kq=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},Yq=Ze.createContext(null);Yq.displayName="CheckoutContext";mt.any,mt.shape({fetchClientSecret:mt.func.isRequired,elementsOptions:mt.object}).isRequired;var xv=function(e){var n=Ze.useContext(UI),s=Ze.useContext(Dm);if(n&&s)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?Kq(n,e):VI(s,e)},Qq=["mode"],Xq=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},It=function(e,n){var s="".concat(Xq(e),"Element"),a=function(m){var g=m.id,v=m.className,b=m.options,T=b===void 0?{}:b,w=m.onBlur,A=m.onFocus,D=m.onReady,P=m.onChange,j=m.onEscape,q=m.onClick,F=m.onLoadError,W=m.onLoaderStart,ee=m.onNetworksChange,ue=m.onConfirm,k=m.onCancel,N=m.onShippingAddressChange,C=m.onShippingRateChange,M=xv("mounts <".concat(s,">")),U="elements"in M?M.elements:null,L="checkoutSdk"in M?M.checkoutSdk:null,O=Ze.useState(null),re=OI(O,2),le=re[0],G=re[1],J=Ze.useRef(null),he=Ze.useRef(null);Gn(le,"blur",w),Gn(le,"focus",A),Gn(le,"escape",j),Gn(le,"click",q),Gn(le,"loaderror",F),Gn(le,"loaderstart",W),Gn(le,"networkschange",ee),Gn(le,"confirm",ue),Gn(le,"cancel",k),Gn(le,"shippingaddresschange",N),Gn(le,"shippingratechange",C),Gn(le,"change",P);var Re;D&&(e==="expressCheckout"?Re=D:Re=function(){D(le)}),Gn(le,"ready",Re),Ze.useLayoutEffect(function(){if(J.current===null&&he.current!==null&&(U||L)){var te=null;if(L)switch(e){case"payment":te=L.createPaymentElement(T);break;case"address":if("mode"in T){var fe=T.mode,ce=Mq(T,Qq);if(fe==="shipping")te=L.createShippingAddressElement(ce);else if(fe==="billing")te=L.createBillingAddressElement(ce);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":te=L.createExpressCheckoutElement(T);break;case"currencySelector":te=L.createCurrencySelectorElement();break;case"taxId":te=L.createTaxIdElement(T);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else U&&(te=U.create(e,T));J.current=te,G(te),te&&te.mount(he.current)}},[U,L,T]);var B=Ev(T);return Ze.useEffect(function(){if(J.current){var te=MI(T,B,["paymentRequest"]);te&&"update"in J.current&&J.current.update(te)}},[T,B]),Ze.useLayoutEffect(function(){return function(){if(J.current&&typeof J.current.destroy=="function")try{J.current.destroy(),J.current=null}catch{}}},[]),Ze.createElement("div",{id:g,className:v,ref:he})},l=function(m){xv("mounts <".concat(s,">"));var g=m.id,v=m.className;return Ze.createElement("div",{id:g,className:v})},c=n?l:a;return c.propTypes={id:mt.string,className:mt.string,onChange:mt.func,onBlur:mt.func,onFocus:mt.func,onReady:mt.func,onEscape:mt.func,onClick:mt.func,onLoadError:mt.func,onLoaderStart:mt.func,onNetworksChange:mt.func,onConfirm:mt.func,onCancel:mt.func,onShippingAddressChange:mt.func,onShippingRateChange:mt.func,options:mt.object},c.displayName=s,c.__elementType=e,c},Dt=typeof window>"u",Wq=Ze.createContext(null);Wq.displayName="EmbeddedCheckoutProviderContext";var Zq=function(){var e=xv("calls useStripe()"),n=e.stripe;return n};It("auBankAccount",Dt);It("card",Dt);It("cardNumber",Dt);It("cardExpiry",Dt);It("cardCvc",Dt);It("fpxBank",Dt);It("iban",Dt);It("idealBank",Dt);It("p24Bank",Dt);It("epsBank",Dt);var Jq=It("payment",Dt);It("expressCheckout",Dt);It("currencySelector",Dt);It("paymentRequestButton",Dt);It("linkAuthentication",Dt);It("address",Dt);It("shippingAddress",Dt);It("paymentMethodMessaging",Dt);It("affirmMessage",Dt);It("afterpayClearpayMessage",Dt);It("taxId",Dt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8="type.googleapis.com/google.protobuf.Int64Value",t8="type.googleapis.com/google.protobuf.UInt64Value";function BI(t,e){const n={};for(const s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}function Kf(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Kf(e));if(typeof t=="function"||typeof t=="object")return BI(t,e=>Kf(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Ml(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case e8:case t8:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Ml(e)):typeof t=="function"||typeof t=="object"?BI(t,e=>Ml(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class On extends Zn{constructor(e,n,s){super(`${Eb}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,On.prototype)}}function n8(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Yf(t,e){let n=n8(t),s=n,a;try{const l=e&&e.error;if(l){const c=l.status;if(typeof c=="string"){if(!mA[c])return new On("internal","internal");n=mA[c],s=c}const h=l.message;typeof h=="string"&&(s=h),a=l.details,a!==void 0&&(a=Ml(a))}}catch{}return n==="ok"?null:new On(n,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,n,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Dn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||s.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="us-central1",i8=/^data: (.*?)(?:\n|$)/;function r8(t){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new On("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class a8{constructor(e,n,s,a,l=wv,c=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new s8(e,n,s,a),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(l);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=wv}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function o8(t,e,n){const s=Ji(e);t.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(nm(t.emulatorOrigin),sm("Functions",!0))}function l8(t,e,n){const s=a=>u8(t,e,a,{});return s.stream=(a,l)=>d8(t,e,a,l),s}async function c8(t,e,n,s){n["Content-Type"]="application/json";let a;try{a=await s(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let l=null;try{l=await a.json()}catch{}return{status:a.status,json:l}}async function FI(t,e){const n={},s=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function u8(t,e,n,s){const a=t._url(e);return h8(t,a,n,s)}async function h8(t,e,n,s){n=Kf(n);const a={data:n},l=await FI(t,s),c=s.timeout||7e4,h=r8(c),m=await Promise.race([c8(e,a,l,t.fetchImpl),h.promise,t.cancelAllRequests]);if(h.cancel(),!m)throw new On("cancelled","Firebase Functions instance was deleted.");const g=Yf(m.status,m.json);if(g)throw g;if(!m.json)throw new On("internal","Response is not valid JSON object.");let v=m.json.data;if(typeof v>"u"&&(v=m.json.result),typeof v>"u")throw new On("internal","Response is missing data field.");return{data:Ml(v)}}function d8(t,e,n,s){const a=t._url(e);return f8(t,a,n,s||{})}async function f8(t,e,n,s){n=Kf(n);const a={data:n},l=await FI(t,s);l["Content-Type"]="application/json",l.Accept="text/event-stream";let c;try{c=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:l,signal:s?.signal})}catch(T){if(T instanceof Error&&T.name==="AbortError"){const A=new On("cancelled","Request was cancelled.");return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}const w=Yf(0,null);return{data:Promise.reject(w),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(w)}}}}}}let h,m;const g=new Promise((T,w)=>{h=T,m=w});s?.signal?.addEventListener("abort",()=>{const T=new On("cancelled","Request was cancelled.");m(T)});const v=c.body.getReader(),b=m8(v,h,m,s?.signal);return{stream:{[Symbol.asyncIterator](){const T=b.getReader();return{async next(){const{value:w,done:A}=await T.read();return{value:w,done:A}},async return(){return await T.cancel(),{done:!0,value:void 0}}}}},data:g}}function m8(t,e,n,s){const a=(c,h)=>{const m=c.match(i8);if(!m)return;const g=m[1];try{const v=JSON.parse(g);if("result"in v){e(Ml(v.result));return}if("message"in v){h.enqueue(Ml(v.message));return}if("error"in v){const b=Yf(0,v);h.error(b),n(b);return}}catch(v){if(v instanceof On){h.error(v),n(v);return}}},l=new TextDecoder;return new ReadableStream({start(c){let h="";return m();async function m(){if(s?.aborted){const g=new On("cancelled","Request was cancelled");return c.error(g),n(g),Promise.resolve()}try{const{value:g,done:v}=await t.read();if(v){h.trim()&&a(h.trim(),c),c.close();return}if(s?.aborted){const T=new On("cancelled","Request was cancelled");c.error(T),n(T),await t.cancel();return}h+=l.decode(g,{stream:!0});const b=h.split(`
`);h=b.pop()||"";for(const T of b)T.trim()&&a(T.trim(),c);return m()}catch(g){const v=g instanceof On?g:Yf(0,null);c.error(v),n(v)}}},cancel(){return t.cancel()}})}const pA="@firebase/functions",gA="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8="auth-internal",g8="app-check-internal",y8="messaging-internal";function v8(t){const e=(n,{instanceIdentifier:s})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(p8),c=n.getProvider(y8),h=n.getProvider(g8);return new a8(a,l,c,h,s)};vs(new Xn(Eb,e,"PUBLIC").setMultipleInstances(!0)),yn(pA,gA,t),yn(pA,gA,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t=Ju(),e=wv){const s=er($e(t),Eb).getImmediate({identifier:e}),a=f_("functions");return a&&b8(s,...a),s}function b8(t,e,n){o8($e(t),e,n)}function T8(t,e,n){return l8($e(t),e)}v8();const E8=Cq("pk_test_51Rz9YH2NkkhPlMJ5EoVQDpEWY9myo5xLCVxihC6X0UzfpRfgl12TnI8YqgXpI7tikn6bzZxaz5gv84YvfLvXeJyS00Qwzt91vT");function x8(){const{orderId:t}=Wj(),{user:e}=Jn();Ps();const[n,s]=I.useState(null),[a,l]=I.useState("card"),[c,h]=I.useState(e?.email||""),[m,g]=I.useState(0),[v,b]=I.useState(!0),[T,w]=I.useState("");I.useEffect(()=>{if(!e||!t){b(!1);return}(async()=>{try{b(!0);const D=await lb(Wn(lt,"orders",t));if(!D.exists())throw new Error("Orden no encontrada.");const P=D.data(),j=Math.round(Number(P.total||0)*100);if(!j)throw new Error("Monto inválido.");g(j),P?.email&&h(P.email);const F=await T8(_8(),"createPaymentIntent")({orderId:t,amount:j,email:c,method:a});s(F.data.clientSecret),await qz(t,{intentId:F.data.paymentIntentId,status:F.data.status}),b(!1)}catch(D){console.error("[PayPage] error:",D),w(String(D?.message||D)),b(!1)}})()},[e,t,a]);const A=I.useMemo(()=>n?{clientSecret:n,appearance:{theme:"stripe"}}:null,[n]);return e?v?f.jsx("div",{className:"container mx-auto p-6",children:"Preparando pago…"}):T?f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsxs("div",{className:"alert alert-error",children:["Error: ",T]}),f.jsx(qe,{to:`/pedido/${t}`,className:"btn btn-ghost mt-4",children:"Volver al estado del pedido"})]}):f.jsxs("div",{className:"container mx-auto p-6 space-y-4",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Pagar pedido"}),f.jsx("div",{className:"card bg-base-100 border",children:f.jsxs("div",{className:"card-body space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"opacity-70",children:"Pedido"}),f.jsxs("div",{className:"badge",children:["#",t.slice(-6).toUpperCase()]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"text-lg font-semibold",children:"Total"}),f.jsxs("div",{className:"text-2xl font-bold",children:["$",(m/100).toFixed(2)]})]}),n&&A&&f.jsx(LI,{stripe:E8,options:A,children:f.jsx(w8,{orderId:t,email:c})})]})}),f.jsx("div",{className:"flex gap-2",children:f.jsx(qe,{to:`/pedido/${t}`,className:"btn btn-ghost",children:"Ver estado del pedido"})})]}):f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsx("div",{className:"alert alert-warning",children:"Debes iniciar sesión."}),f.jsx(qe,{to:"/login",className:"btn btn-primary mt-4",children:"Ir a iniciar sesión"})]})}function w8({orderId:t,email:e}){const n=Zq(),s=$q(),a=Ps(),[l,c]=I.useState(!1),[h,m]=I.useState(""),g=async v=>{if(v.preventDefault(),!n||!s)return;c(!0),m("");const{error:b,paymentIntent:T}=await n.confirmPayment({elements:s,confirmParams:{return_url:`${window.location.origin}/pedido/${t}`,receipt_email:e||void 0},redirect:"if_required"});if(b){console.error(b),m(b.message||"No se pudo procesar el pago."),c(!1);return}T?.status==="succeeded"?(await Tb(t,{status:"Pagado",note:"Pago confirmado (cliente)"}),a(`/pedido/${t}`,{replace:!0})):T?.status==="processing"?(m("Pago en proceso. Te avisaremos cuando se confirme."),a(`/pedido/${t}`,{replace:!0})):T?.status==="requires_action"?m("Se requiere autenticación adicional."):a(`/pedido/${t}`,{replace:!0}),c(!1)};return f.jsxs("form",{onSubmit:g,className:"space-y-3",children:[f.jsx(Jq,{}),f.jsx("button",{className:"btn btn-primary w-full",disabled:!n||l,children:l?"Procesando…":"Pagar ahora"}),h&&f.jsx("div",{className:"alert mt-2",children:h})]})}function S8(){const t=bs();return f.jsx(HO,{mode:"wait",children:f.jsxs(dP,{location:t,children:[f.jsx(Rt,{path:"/",element:f.jsx(rn,{children:f.jsx(wz,{})})}),f.jsx(Rt,{path:"/login",element:f.jsx(rn,{children:f.jsx(Pz,{})})}),f.jsx(Rt,{path:"/register",element:f.jsx(rn,{children:f.jsx(Oz,{})})}),f.jsx(Rt,{path:"/acerca",element:f.jsx(rn,{children:f.jsx(Jz,{})})}),f.jsx(Rt,{path:"/faq",element:f.jsx(rn,{children:f.jsx(fq,{})})}),f.jsx(Rt,{path:"/contact",element:f.jsx(rn,{children:f.jsx(pq,{})})}),f.jsx(Rt,{path:"/pedido-rapido",element:f.jsx(yq,{})}),f.jsx(Rt,{path:"/checkout",element:f.jsx(Yz,{})}),f.jsx(Rt,{path:"/gracias",element:f.jsx(gq,{})}),f.jsx(Rt,{path:"/pagar/:orderId",element:f.jsx(ol,{children:f.jsx(rn,{children:f.jsx(x8,{})})})}),f.jsx(Rt,{path:"/toyrequest",element:f.jsx(ol,{children:f.jsx(rn,{children:f.jsx(Mz,{})})})}),f.jsx(Rt,{path:"/toyreq1",element:f.jsx(ol,{children:f.jsx(rn,{children:f.jsx(kz,{})})})}),f.jsx(Rt,{path:"/pedido",element:f.jsx(ol,{children:f.jsx(rn,{children:f.jsx(eA,{})})})}),f.jsx(Rt,{path:"/pedido/:orderId",element:f.jsx(ol,{children:f.jsx(rn,{children:f.jsx(eA,{})})})}),f.jsx(Rt,{path:"/pedidos",element:f.jsx(ol,{children:f.jsx(rn,{children:f.jsx(Wz,{})})})}),f.jsx(Rt,{path:"/admin",element:f.jsx(au,{children:f.jsx(rn,{children:f.jsx(Qn,{children:f.jsx(tq,{})})})})}),f.jsx(Rt,{path:"/admin/about",element:f.jsx(au,{children:f.jsx(rn,{children:f.jsx(nq,{})})})}),f.jsx(Rt,{path:"/admin/reports",element:f.jsx(au,{children:f.jsx(rn,{children:f.jsx(iq,{})})})}),f.jsx(Rt,{path:"/admin/users",element:f.jsx(au,{children:f.jsx(rn,{children:f.jsx(aq,{})})})}),f.jsx(Rt,{path:"/admin/faq",element:f.jsx(au,{children:f.jsx(rn,{children:f.jsx(hq,{})})})})]},t.pathname)})}function A8(){return f.jsxs(Ez,{children:[f.jsx(xz,{}),f.jsx(S8,{}),f.jsx(AI,{})]})}Tj.createRoot(document.getElementById("root")).render(f.jsx(MP,{children:f.jsx(A8,{})}));
